<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>XMonad.Hooks.Focus</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">xmonad-contrib-0.18.0: Community-maintained extensions for xmonad</span><ul class="links" id="page-menu"><li><a href="src/XMonad.Hooks.Focus.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>sgf-dma 2016</td></tr><tr><th>Maintainer</th><td>sgf.dma@gmail.com</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr><tr><th>Extensions</th><td><ul class="extension-list"><li>DerivingStrategies</li><li>DerivingVia</li><li>FlexibleContexts</li><li>ConstrainedClassMethods</li><li>MultiParamTypeClasses</li><li>GeneralizedNewtypeDeriving</li></ul></td></tr></table><p class="caption">XMonad.Hooks.Focus</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">FocusQuery.</a></li><li><a href="#g:2">Lifting into FocusQuery.</a></li><li><a href="#g:3">Commonly used actions for modifying focus.</a></li><li><a href="#g:4">Running FocusQuery.</a></li><li><a href="#g:5">Example configurations.</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Extends <a href="../xmonad-0.18.0.9/XMonad-ManageHook.html">XMonad.ManageHook</a> EDSL to work on focused windows and current
 workspace.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Focus">Focus</a> = <a href="#v:Focus">Focus</a> {<ul class="subs"><li><a href="#v:newWorkspace">newWorkspace</a> :: <a href="XMonad-Config-Prime.html#t:WorkspaceId" title="XMonad.Config.Prime">WorkspaceId</a></li><li><a href="#v:focusedWindow">focusedWindow</a> :: <a href="XMonad-Prelude.html#t:Maybe" title="XMonad.Prelude">Maybe</a> <a href="XMonad-Config-Prime.html#t:Window" title="XMonad.Config.Prime">Window</a></li><li><a href="#v:currentWorkspace">currentWorkspace</a> :: <a href="XMonad-Config-Prime.html#t:WorkspaceId" title="XMonad.Config.Prime">WorkspaceId</a></li></ul>}</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:FocusLock">FocusLock</a> = <a href="#v:FocusLock">FocusLock</a> {<ul class="subs"><li><a href="#v:getFocusLock">getFocusLock</a> :: <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a></li></ul>}</li><li class="src short"><a href="#v:toggleLock">toggleLock</a> :: <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> ()</li><li class="src short"><a href="#v:focusLockOn">focusLockOn</a> :: <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> ()</li><li class="src short"><a href="#v:focusLockOff">focusLockOff</a> :: <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:FocusQuery">FocusQuery</a> a</li><li class="src short"><a href="#v:runFocusQuery">runFocusQuery</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> -&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a</li><li class="src short"><span class="keyword">type</span> <a href="#t:FocusHook">FocusHook</a> = <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> (<a href="XMonad-Prelude.html#t:Endo" title="XMonad.Prelude">Endo</a> <a href="XMonad-Config-Prime.html#t:WindowSet" title="XMonad.Config.Prime">WindowSet</a>)</li><li class="src short"><a href="#v:liftQuery">liftQuery</a> :: <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a</li><li class="src short"><a href="#v:new">new</a> :: <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a</li><li class="src short"><a href="#v:focused">focused</a> :: <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a> -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a></li><li class="src short"><a href="#v:focused-39-">focused'</a> :: <a href="XMonad-Prelude.html#t:Monoid" title="XMonad.Prelude">Monoid</a> a =&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a</li><li class="src short"><a href="#v:focusedOn">focusedOn</a> :: <a href="XMonad-Config-Prime.html#t:WorkspaceId" title="XMonad.Config.Prime">WorkspaceId</a> -&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a> -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a></li><li class="src short"><a href="#v:focusedOn-39-">focusedOn'</a> :: <a href="XMonad-Prelude.html#t:Monoid" title="XMonad.Prelude">Monoid</a> a =&gt; <a href="XMonad-Config-Prime.html#t:WorkspaceId" title="XMonad.Config.Prime">WorkspaceId</a> -&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a</li><li class="src short"><a href="#v:focusedCur">focusedCur</a> :: <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a> -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a></li><li class="src short"><a href="#v:focusedCur-39-">focusedCur'</a> :: <a href="XMonad-Prelude.html#t:Monoid" title="XMonad.Prelude">Monoid</a> a =&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a</li><li class="src short"><a href="#v:newOn">newOn</a> :: <a href="XMonad-Config-Prime.html#t:WorkspaceId" title="XMonad.Config.Prime">WorkspaceId</a> -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a></li><li class="src short"><a href="#v:newOnCur">newOnCur</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a></li><li class="src short"><a href="#v:unlessFocusLock">unlessFocusLock</a> :: <a href="XMonad-Prelude.html#t:Monoid" title="XMonad.Prelude">Monoid</a> a =&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a -&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a</li><li class="src short"><a href="#v:keepFocus">keepFocus</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></li><li class="src short"><a href="#v:switchFocus">switchFocus</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></li><li class="src short"><a href="#v:keepWorkspace">keepWorkspace</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></li><li class="src short"><a href="#v:switchWorkspace">switchWorkspace</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></li><li class="src short"><a href="#v:manageFocus">manageFocus</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a> -&gt; <a href="XMonad-Config-Prime.html#t:ManageHook" title="XMonad.Config.Prime">ManageHook</a></li><li class="src short"><a href="#v:activateSwitchWs">activateSwitchWs</a> :: <a href="XMonad-Config-Prime.html#t:ManageHook" title="XMonad.Config.Prime">ManageHook</a></li><li class="src short"><a href="#v:activateOnCurrentWs">activateOnCurrentWs</a> :: <a href="XMonad-Config-Prime.html#t:ManageHook" title="XMonad.Config.Prime">ManageHook</a></li><li class="src short"><a href="#v:activateOnCurrentKeepFocus">activateOnCurrentKeepFocus</a> :: <a href="XMonad-Config-Prime.html#t:ManageHook" title="XMonad.Config.Prime">ManageHook</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="doc"><p>This module provides monad on top of Query monad providing additional
 information about new window:</p><ul><li>workspace, where new window will appear;</li><li>focused window on workspace, where new window will appear;</li><li>current workspace;</li></ul><p>And a property in extensible state:</p><ul><li>is focus lock enabled? Focus lock instructs all library's <code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code>
  functions to not move focus or switch workspace.</li></ul><p>Lifting operations for standard <code><a href="XMonad-Config-Prime.html#t:ManageHook" title="XMonad.Config.Prime">ManageHook</a></code> EDSL combinators into
 <code><a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a></code> monad allowing to run these combinators on focused window and
 common actions for keeping focus and/or workspace, switching focus and/or
 workspace are also provided.</p><h2>Quick start.</h2><p>I may use one of predefined configurations.</p><ol><li><p>The default window activation behavior (switch to workspace with
    activated window and switch focus to it) expressed using this module:</p><pre>import XMonad

import XMonad.Hooks.EwmhDesktops
import XMonad.Hooks.Focus

main :: IO ()
main = do
        let ah :: ManageHook
            ah = activateSwitchWs
            xcf = setEwmhActivateHook ah
                . ewmh $ def{ modMask = mod4Mask }
        xmonad xcf</pre></li><li><p>Or i may move activated window to current workspace and switch focus to
    it:</p><pre>        let ah :: ManageHook
            ah = activateOnCurrentWs</pre></li><li><p>Or move activated window to current workspace, but keep focus unchanged:</p><pre>        let ah :: ManageHook
            ah = activateOnCurrentKeepFocus</pre></li><li><p>I may use regular <code><a href="XMonad-Config-Prime.html#t:ManageHook" title="XMonad.Config.Prime">ManageHook</a></code> combinators for filtering, which windows
    may activate. E.g. activate all windows, except firefox:</p><pre>        let ah :: ManageHook
            ah  = not &lt;$&gt; (className =? &quot;Firefox&quot; &lt;||&gt; className =? &quot;Firefox-esr&quot; &lt;||&gt; className =? &quot;Iceweasel&quot;)
                    --&gt; activateSwitchWs</pre></li><li><p>Or even use <code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> combinators. E.g. activate all windows, unless
    xterm is focused on <em>current</em> workspace:</p><pre>        let ah :: ManageHook
            ah  = manageFocus (not &lt;$&gt; focusedCur (className =? &quot;XTerm&quot;)
                    --&gt; liftQuery activateSwitchWs)</pre><p>or activate all windows, unless focused window on the workspace,
 <em>where activated window is</em>, is not a xterm:</p><pre>        let ah :: ManageHook
            ah  = manageFocus (not &lt;$&gt; focused (className =? &quot;XTerm&quot;)
                    --&gt; liftQuery activateSwitchWs)</pre></li></ol><h2>Defining FocusHook.</h2><p>I may define my own <code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> like:</p><pre>   activateFocusHook :: FocusHook
   activateFocusHook = composeAll
           -- If 'gmrun' is focused on workspace, on which
           -- /activated window/ is, keep focus unchanged. But i
           -- may still switch workspace (thus, i use 'composeAll').
           -- See 'keepFocus' properties in the docs below.
           [ focused (className =? &quot;Gmrun&quot;)
                           --&gt; keepFocus
           -- Default behavior for activated windows: switch
           -- workspace and focus.
           , return True   --&gt; switchWorkspace &lt;&gt; switchFocus
           ]

   newFocusHook :: FocusHook
   newFocusHook      = composeOne
           -- Always switch focus to 'gmrun'.
           [ new (className =? &quot;Gmrun&quot;)        -?&gt; switchFocus
           -- And always keep focus on 'gmrun'. Note, that
           -- another 'gmrun' will steal focus from already
           -- running one.
           , focused (className =? &quot;Gmrun&quot;)    -?&gt; keepFocus
           -- If firefox dialog prompt (e.g. master password
           -- prompt) is focused on current workspace and new
           -- window appears here too, keep focus unchanged
           -- (note, used predicates: @newOnCur &lt;&amp;&amp;&gt; focused@ is
           -- the same as @newOnCur &lt;&amp;&amp;&gt; focusedCur@, but is
           -- /not/ the same as just 'focusedCur' )
           , newOnCur &lt;&amp;&amp;&gt; focused
               ((className =? &quot;Firefox&quot; &lt;||&gt; className =? &quot;Firefox-esr&quot; &lt;||&gt; className =? &quot;Iceweasel&quot;) &lt;&amp;&amp;&gt; isDialog)
                                               -?&gt; keepFocus
           -- Default behavior for new windows: switch focus.
           , return True                       -?&gt; switchFocus
           ]</pre><p>And then use it:</p><pre>   import XMonad
   import XMonad.Util.EZConfig

   import XMonad.Hooks.EwmhDesktops
   import XMonad.Hooks.ManageHelpers
   import XMonad.Hooks.Focus


   main :: IO ()
   main = do
           let newFh :: ManageHook
               newFh = manageFocus newFocusHook
               acFh :: ManageHook
               acFh = manageFocus activateFocusHook
               xcf = setEwmhActivateHook acFh
                   . ewmh $ def
                            { manageHook   = newFh &lt;&gt; manageHook def
                            , modMask      = mod4Mask
                            }
                       `additionalKeys` [((mod4Mask, xK_v), toggleLock)]
           xmonad xcf</pre><p>Note:</p><ul><li><em>mod4Mask+v</em> key toggles focus lock (when enabled, neither focus nor
  workspace won't be switched).</li><li>I need <a href="XMonad-Hooks-EwmhDesktops.html">XMonad.Hooks.EwmhDesktops</a> module for enabling window
  activation.</li><li><code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> in <code><a href="../xmonad-0.18.0.9/XMonad-Core.html#v:manageHook" title="XMonad.Core">manageHook</a></code> will be called <em>only</em> for new windows.</li><li><code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> in <code>setEwmhActivateHook</code> will be called <em>only</em> for activated windows.</li></ul><p>Alternatively, i may construct a single <code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> for both new and
  activated windows and then just add it to both <code><a href="../xmonad-0.18.0.9/XMonad-Core.html#v:manageHook" title="XMonad.Core">manageHook</a></code> and <code>setEwmhActivateHook</code>:</p><pre>           let fh :: Bool -&gt; ManageHook
               fh activated = manageFocus $ composeOne
                       [ pure activated -?&gt; activateFocusHook
                       , pure True      -?&gt; newFocusHook
                       ]
               xcf = setEwmhActivateHook (fh True)
                   . ewmh $ def
                            { manageHook   = fh False &lt;&gt; manageHook def
                            , modMask      = mod4Mask
                            }
                       `additionalKeys` [((mod4Mask, xK_v), toggleLock)]</pre><p>And more technical notes:</p><ul><li><code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> will run <em>many</em> times, so it usually should not keep state
  or save results. Precisely, it may do anything, but it must be idempotent
  to operate properly.</li><li><code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> will see new window at workspace, where functions on the
  <em>right</em> from it in <code><a href="XMonad-Config-Prime.html#t:ManageHook" title="XMonad.Config.Prime">ManageHook</a></code> monoid place it.  In other words, in
  <code>(Endo WindowSet)</code> monoid i may see changes only from functions applied
  <em>before</em> (more to the right in function composition). Thus, it's better to
  add <code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> the last.</li><li><p><code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> functions won't see window shift to another workspace made
  by function from <code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> itself: new window workspace is determined
  <em>before</em> running <code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> and even if later one of <code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code>
  functions moves window to another workspace, predicates (<code><a href="XMonad-Hooks-Focus.html#v:focused" title="XMonad.Hooks.Focus">focused</a></code>,
  <code><a href="XMonad-Hooks-Focus.html#v:newOn" title="XMonad.Hooks.Focus">newOn</a></code>, etc) will still think new window is at workspace it was before.
  This can be worked around by splitting <code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> into several different
  values and evaluating each one separately, like:</p><pre>(FH2 -- manageFocus --&gt; MH2) &lt;&gt; (FH1 -- manageFocus --&gt; MH1) &lt;&gt; ..</pre><p>E.g.</p><pre>manageFocus FH2 &lt;&gt; manageFocus FH1 &lt;&gt; ..</pre><p>now <code>FH2</code> will see window shift made by <code>FH1</code>.</p></li></ul><p>Another interesting example is moving all activated windows to current
 workspace by default, and applying <code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> after:</p><pre>   import XMonad
   import XMonad.Util.EZConfig

   import XMonad.Hooks.EwmhDesktops
   import XMonad.Hooks.ManageHelpers
   import XMonad.Hooks.Focus

   main :: IO ()
   main = do
           let fh :: Bool -&gt; ManageHook
               fh activated = manageFocus $ composeOne
                       [ pure activated -?&gt; (newOnCur --&gt; keepFocus)
                       , pure True      -?&gt; newFocusHook
                       ]
               xcf = setEwmhActivateHook (fh True &lt;&gt; activateOnCurrentWs)
                   . ewmh $ def
                            { manageHook = fh False &lt;&gt; manageHook def
                            , modMask    = mod4Mask
                            }
                       `additionalKeys` [((mod4Mask, xK_v), toggleLock)]
           xmonad xcf

   newFocusHook :: FocusHook
   newFocusHook      = composeOne
           -- Always switch focus to 'gmrun'.
           [ new (className =? &quot;Gmrun&quot;)        -?&gt; switchFocus
           -- And always keep focus on 'gmrun'. Note, that
           -- another 'gmrun' will steal focus from already
           -- running one.
           , focused (className =? &quot;Gmrun&quot;)    -?&gt; keepFocus
           -- If firefox dialog prompt (e.g. master password
           -- prompt) is focused on current workspace and new
           -- window appears here too, keep focus unchanged
           -- (note, used predicates: @newOnCur &lt;&amp;&amp;&gt; focused@ is
           -- the same as @newOnCur &lt;&amp;&amp;&gt; focusedCur@, but is
           -- /not/ the same as just 'focusedCur' )
           , newOnCur &lt;&amp;&amp;&gt; focused
               ((className =? &quot;Firefox&quot; &lt;||&gt; className =? &quot;Firefox-esr&quot; &lt;||&gt; className =? &quot;Iceweasel&quot;) &lt;&amp;&amp;&gt; isDialog)
                                               -?&gt; keepFocus
           -- Default behavior for new windows: switch focus.
           , return True                       -?&gt; switchFocus
           ]</pre><p>Note here:</p><ul><li>i keep focus, when activated window appears on current workspace, in
  this example.</li><li>when <code>pure activated -?&gt; (newOnCur --&gt; keepFocus)</code> runs, activated
  window will be <em>already</em> on current workspace, thus, if i do not want to
  move some activated windows, i should filter them out before applying
  <code>activateOnCurrentWs</code> <code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code>.</li></ul></div><a href="#g:1" id="g:1"><h1>FocusQuery.</h1></a><div class="doc empty">&nbsp;</div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Focus" class="def">Focus</a> <a href="src/XMonad.Hooks.Focus.html#Focus" class="link">Source</a> <a href="#t:Focus" class="selflink">#</a></p><div class="doc"><p>Information about current workspace and focus.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Focus" class="def">Focus</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:newWorkspace" class="def">newWorkspace</a> :: <a href="XMonad-Config-Prime.html#t:WorkspaceId" title="XMonad.Config.Prime">WorkspaceId</a></dfn><div class="doc"><p>Workspace, where new window appears.</p></div></li><li><dfn class="src"><a id="v:focusedWindow" class="def">focusedWindow</a> :: <a href="XMonad-Prelude.html#t:Maybe" title="XMonad.Prelude">Maybe</a> <a href="XMonad-Config-Prime.html#t:Window" title="XMonad.Config.Prime">Window</a></dfn><div class="doc"><p>Focused window on workspace, where new window
 appears.</p></div></li><li><dfn class="src"><a id="v:currentWorkspace" class="def">currentWorkspace</a> :: <a href="XMonad-Config-Prime.html#t:WorkspaceId" title="XMonad.Config.Prime">WorkspaceId</a></dfn><div class="doc"><p>Current workspace.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Focus">Instances</h4><details id="i:Focus" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Focus:Show:1"></span> <a href="XMonad-Config-Prime.html#t:Show" title="XMonad.Config.Prime">Show</a> <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a></span> <a href="src/XMonad.Hooks.Focus.html#line-332" class="link">Source</a> <a href="#t:Focus" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Focus:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Hooks-Focus.html">XMonad.Hooks.Focus</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="XMonad-Config-Prime.html#t:Int" title="XMonad.Config.Prime">Int</a> -&gt; <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> -&gt; <a href="XMonad-Config-Prime.html#t:ShowS" title="XMonad.Config.Prime">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a>] -&gt; <a href="XMonad-Config-Prime.html#t:ShowS" title="XMonad.Config.Prime">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Focus:Default:2"></span> <a href="XMonad-Config-Prime.html#t:Default" title="XMonad.Config.Prime">Default</a> <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a></span> <a href="src/XMonad.Hooks.Focus.html#line-333" class="link">Source</a> <a href="#t:Focus" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Focus:Default:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Hooks-Focus.html">XMonad.Hooks.Focus</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> <a href="#v:def" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Focus:MonadReader:3"></span> <a href="XMonad-Config-Prime.html#t:MonadReader" title="XMonad.Config.Prime">MonadReader</a> <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a></span> <a href="src/XMonad.Hooks.Focus.html#line-360" class="link">Source</a> <a href="#t:Focus" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Focus:MonadReader:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Hooks-Focus.html">XMonad.Hooks.Focus</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> <a href="#v:ask" class="selflink">#</a></p><p class="src"><a href="#v:local">local</a> :: (<a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> -&gt; <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a>) -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:local" class="selflink">#</a></p><p class="src"><a href="#v:reader">reader</a> :: (<a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> -&gt; a) -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:reader" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:FocusLock" class="def">FocusLock</a> <a href="src/XMonad.Hooks.Focus.html#FocusLock" class="link">Source</a> <a href="#t:FocusLock" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:FocusLock" class="def">FocusLock</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:getFocusLock" class="def">getFocusLock</a> :: <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:FocusLock">Instances</h4><details id="i:FocusLock" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FocusLock:Show:1"></span> <a href="XMonad-Config-Prime.html#t:Show" title="XMonad.Config.Prime">Show</a> <a href="XMonad-Hooks-Focus.html#t:FocusLock" title="XMonad.Hooks.Focus">FocusLock</a></span> <a href="src/XMonad.Hooks.Focus.html#line-341" class="link">Source</a> <a href="#t:FocusLock" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FocusLock:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Hooks-Focus.html">XMonad.Hooks.Focus</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="XMonad-Config-Prime.html#t:Int" title="XMonad.Config.Prime">Int</a> -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusLock" title="XMonad.Hooks.Focus">FocusLock</a> -&gt; <a href="XMonad-Config-Prime.html#t:ShowS" title="XMonad.Config.Prime">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusLock" title="XMonad.Hooks.Focus">FocusLock</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="XMonad-Hooks-Focus.html#t:FocusLock" title="XMonad.Hooks.Focus">FocusLock</a>] -&gt; <a href="XMonad-Config-Prime.html#t:ShowS" title="XMonad.Config.Prime">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FocusLock:ExtensionClass:2"></span> <a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> <a href="XMonad-Hooks-Focus.html#t:FocusLock" title="XMonad.Hooks.Focus">FocusLock</a></span> <a href="src/XMonad.Hooks.Focus.html#line-342" class="link">Source</a> <a href="#t:FocusLock" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FocusLock:ExtensionClass:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Hooks-Focus.html">XMonad.Hooks.Focus</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:initialValue">initialValue</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusLock" title="XMonad.Hooks.Focus">FocusLock</a> <a href="#v:initialValue" class="selflink">#</a></p><p class="src"><a href="#v:extensionType">extensionType</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusLock" title="XMonad.Hooks.Focus">FocusLock</a> -&gt; <a href="XMonad-Config-Prime.html#t:StateExtension" title="XMonad.Config.Prime">StateExtension</a> <a href="#v:extensionType" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:toggleLock" class="def">toggleLock</a> :: <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> () <a href="src/XMonad.Hooks.Focus.html#toggleLock" class="link">Source</a> <a href="#v:toggleLock" class="selflink">#</a></p><div class="doc"><p>Toggle stored focus lock state.</p></div></div><div class="top"><p class="src"><a id="v:focusLockOn" class="def">focusLockOn</a> :: <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> () <a href="src/XMonad.Hooks.Focus.html#focusLockOn" class="link">Source</a> <a href="#v:focusLockOn" class="selflink">#</a></p><div class="doc"><p>Lock focus.</p></div></div><div class="top"><p class="src"><a id="v:focusLockOff" class="def">focusLockOff</a> :: <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> () <a href="src/XMonad.Hooks.Focus.html#focusLockOff" class="link">Source</a> <a href="#v:focusLockOff" class="selflink">#</a></p><div class="doc"><p>Unlock focus.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:FocusQuery" class="def">FocusQuery</a> a <a href="src/XMonad.Hooks.Focus.html#FocusQuery" class="link">Source</a> <a href="#t:FocusQuery" class="selflink">#</a></p><div class="doc"><p>Monad on top of <code><a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a></code> providing additional information about new
 window.</p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:FocusQuery">Instances</h4><details id="i:FocusQuery" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FocusQuery:MonadIO:1"></span> <a href="XMonad-Config-Prime.html#t:MonadIO" title="XMonad.Config.Prime">MonadIO</a> <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a></span> <a href="src/XMonad.Hooks.Focus.html#line-360" class="link">Source</a> <a href="#t:FocusQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FocusQuery:MonadIO:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Hooks-Focus.html">XMonad.Hooks.Focus</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:liftIO">liftIO</a> :: <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:liftIO" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FocusQuery:Applicative:2"></span> <a href="XMonad-Prelude.html#t:Applicative" title="XMonad.Prelude">Applicative</a> <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a></span> <a href="src/XMonad.Hooks.Focus.html#line-360" class="link">Source</a> <a href="#t:FocusQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FocusQuery:Applicative:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Hooks-Focus.html">XMonad.Hooks.Focus</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pure">pure</a> :: a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:pure" class="selflink">#</a></p><p class="src"><a href="#v:-60--42--62-">(&lt;*&gt;)</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> (a -&gt; b) -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> b <a href="#v:-60--42--62-" class="selflink">#</a></p><p class="src"><a href="#v:liftA2">liftA2</a> :: (a -&gt; b -&gt; c) -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> b -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> c <a href="#v:liftA2" class="selflink">#</a></p><p class="src"><a href="#v:-42--62-">(*&gt;)</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> b -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> b <a href="#v:-42--62-" class="selflink">#</a></p><p class="src"><a href="#v:-60--42-">(&lt;*)</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> b -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:-60--42-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FocusQuery:Functor:3"></span> <a href="XMonad-Prelude.html#t:Functor" title="XMonad.Prelude">Functor</a> <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a></span> <a href="src/XMonad.Hooks.Focus.html#line-360" class="link">Source</a> <a href="#t:FocusQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FocusQuery:Functor:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Hooks-Focus.html">XMonad.Hooks.Focus</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> b -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:-60--36-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FocusQuery:Monad:4"></span> <a href="XMonad-Prelude.html#t:Monad" title="XMonad.Prelude">Monad</a> <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a></span> <a href="src/XMonad.Hooks.Focus.html#line-360" class="link">Source</a> <a href="#t:FocusQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FocusQuery:Monad:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Hooks-Focus.html">XMonad.Hooks.Focus</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-62--62--61-">(&gt;&gt;=)</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; (a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> b) -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> b <a href="#v:-62--62--61-" class="selflink">#</a></p><p class="src"><a href="#v:-62--62-">(&gt;&gt;)</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> b -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> b <a href="#v:-62--62-" class="selflink">#</a></p><p class="src"><a href="#v:return">return</a> :: a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:return" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FocusQuery:MonadReader:5"></span> <a href="XMonad-Config-Prime.html#t:MonadReader" title="XMonad.Config.Prime">MonadReader</a> <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a></span> <a href="src/XMonad.Hooks.Focus.html#line-360" class="link">Source</a> <a href="#t:FocusQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FocusQuery:MonadReader:5"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Hooks-Focus.html">XMonad.Hooks.Focus</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:ask">ask</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> <a href="#v:ask" class="selflink">#</a></p><p class="src"><a href="#v:local">local</a> :: (<a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> -&gt; <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a>) -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:local" class="selflink">#</a></p><p class="src"><a href="#v:reader">reader</a> :: (<a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> -&gt; a) -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:reader" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FocusQuery:Monoid:6"></span> <a href="XMonad-Prelude.html#t:Monoid" title="XMonad.Prelude">Monoid</a> a =&gt; <a href="XMonad-Prelude.html#t:Monoid" title="XMonad.Prelude">Monoid</a> (<a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a)</span> <a href="src/XMonad.Hooks.Focus.html#line-361" class="link">Source</a> <a href="#t:FocusQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FocusQuery:Monoid:6"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Hooks-Focus.html">XMonad.Hooks.Focus</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a] -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:FocusQuery:Semigroup:7"></span> <a href="XMonad-Config-Prime.html#t:Semigroup" title="XMonad.Config.Prime">Semigroup</a> a =&gt; <a href="XMonad-Config-Prime.html#t:Semigroup" title="XMonad.Config.Prime">Semigroup</a> (<a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a)</span> <a href="src/XMonad.Hooks.Focus.html#line-361" class="link">Source</a> <a href="#t:FocusQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:FocusQuery:Semigroup:7"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Hooks-Focus.html">XMonad.Hooks.Focus</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="XMonad-Prelude.html#t:NonEmpty" title="XMonad.Prelude">NonEmpty</a> (<a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a) -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="XMonad-Config-Prime.html#t:Integral" title="XMonad.Config.Prime">Integral</a> b =&gt; b -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:runFocusQuery" class="def">runFocusQuery</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:Focus" title="XMonad.Hooks.Focus">Focus</a> -&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a <a href="src/XMonad.Hooks.Focus.html#runFocusQuery" class="link">Source</a> <a href="#v:runFocusQuery" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:FocusHook" class="def">FocusHook</a> = <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> (<a href="XMonad-Prelude.html#t:Endo" title="XMonad.Prelude">Endo</a> <a href="XMonad-Config-Prime.html#t:WindowSet" title="XMonad.Config.Prime">WindowSet</a>) <a href="src/XMonad.Hooks.Focus.html#FocusHook" class="link">Source</a> <a href="#t:FocusHook" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h1>Lifting into FocusQuery.</h1></a><div class="doc empty">&nbsp;</div><div class="top"><p class="src"><a id="v:liftQuery" class="def">liftQuery</a> :: <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="src/XMonad.Hooks.Focus.html#liftQuery" class="link">Source</a> <a href="#v:liftQuery" class="selflink">#</a></p><div class="doc"><p>Lift <code><a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a></code> into <code><a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a></code> monad. The same as <code><a href="XMonad-Hooks-Focus.html#v:new" title="XMonad.Hooks.Focus">new</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:new" class="def">new</a> :: <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="src/XMonad.Hooks.Focus.html#new" class="link">Source</a> <a href="#v:new" class="selflink">#</a></p><div class="doc"><p>Run <code><a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a></code> on new window.</p></div></div><div class="top"><p class="src"><a id="v:focused" class="def">focused</a> :: <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a> -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a> <a href="src/XMonad.Hooks.Focus.html#focused" class="link">Source</a> <a href="#v:focused" class="selflink">#</a></p><div class="doc"><p>Run <code><a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a></code> on focused window on workspace, where new window appears. If
 there is no focused window, return <code><a href="XMonad-Prelude.html#v:False" title="XMonad.Prelude">False</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:focused-39-" class="def">focused'</a> :: <a href="XMonad-Prelude.html#t:Monoid" title="XMonad.Prelude">Monoid</a> a =&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="src/XMonad.Hooks.Focus.html#focused%27" class="link">Source</a> <a href="#v:focused-39-" class="selflink">#</a></p><div class="doc"><p>More general version of <code><a href="XMonad-Hooks-Focus.html#v:focused" title="XMonad.Hooks.Focus">focused</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:focusedOn" class="def">focusedOn</a> :: <a href="XMonad-Config-Prime.html#t:WorkspaceId" title="XMonad.Config.Prime">WorkspaceId</a> -&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a> -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a> <a href="src/XMonad.Hooks.Focus.html#focusedOn" class="link">Source</a> <a href="#v:focusedOn" class="selflink">#</a></p><div class="doc"><p>Run <code><a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a></code> on window focused at particular workspace. If there is no
 focused window, return <code><a href="XMonad-Prelude.html#v:False" title="XMonad.Prelude">False</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:focusedOn-39-" class="def">focusedOn'</a> :: <a href="XMonad-Prelude.html#t:Monoid" title="XMonad.Prelude">Monoid</a> a =&gt; <a href="XMonad-Config-Prime.html#t:WorkspaceId" title="XMonad.Config.Prime">WorkspaceId</a> -&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="src/XMonad.Hooks.Focus.html#focusedOn%27" class="link">Source</a> <a href="#v:focusedOn-39-" class="selflink">#</a></p><div class="doc"><p>More general version of <code><a href="XMonad-Hooks-Focus.html#v:focusedOn" title="XMonad.Hooks.Focus">focusedOn</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:focusedCur" class="def">focusedCur</a> :: <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a> -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a> <a href="src/XMonad.Hooks.Focus.html#focusedCur" class="link">Source</a> <a href="#v:focusedCur" class="selflink">#</a></p><div class="doc"><p>Run <code><a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a></code> on focused window on current workspace. If there is no
 focused window, return <code><a href="XMonad-Prelude.html#v:False" title="XMonad.Prelude">False</a></code>.  Note,</p><pre>focused &lt;&amp;&amp;&gt; newOnCur != focusedCur</pre><p>The first will affect only new or activated window appearing on current
 workspace, while the last will affect any window: focus even for windows
 appearing on other workpsaces will depend on focus on <em>current</em> workspace.</p></div></div><div class="top"><p class="src"><a id="v:focusedCur-39-" class="def">focusedCur'</a> :: <a href="XMonad-Prelude.html#t:Monoid" title="XMonad.Prelude">Monoid</a> a =&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> a <a href="src/XMonad.Hooks.Focus.html#focusedCur%27" class="link">Source</a> <a href="#v:focusedCur-39-" class="selflink">#</a></p><div class="doc"><p>More general version of <code><a href="XMonad-Hooks-Focus.html#v:focusedCur" title="XMonad.Hooks.Focus">focusedCur</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:newOn" class="def">newOn</a> :: <a href="XMonad-Config-Prime.html#t:WorkspaceId" title="XMonad.Config.Prime">WorkspaceId</a> -&gt; <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a> <a href="src/XMonad.Hooks.Focus.html#newOn" class="link">Source</a> <a href="#v:newOn" class="selflink">#</a></p><div class="doc"><p>Does new window appear at particular workspace?</p></div></div><div class="top"><p class="src"><a id="v:newOnCur" class="def">newOnCur</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusQuery" title="XMonad.Hooks.Focus">FocusQuery</a> <a href="XMonad-Prelude.html#t:Bool" title="XMonad.Prelude">Bool</a> <a href="src/XMonad.Hooks.Focus.html#newOnCur" class="link">Source</a> <a href="#v:newOnCur" class="selflink">#</a></p><div class="doc"><p>Does new window appear at current workspace?</p></div></div><div class="top"><p class="src"><a id="v:unlessFocusLock" class="def">unlessFocusLock</a> :: <a href="XMonad-Prelude.html#t:Monoid" title="XMonad.Prelude">Monoid</a> a =&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a -&gt; <a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a> a <a href="src/XMonad.Hooks.Focus.html#unlessFocusLock" class="link">Source</a> <a href="#v:unlessFocusLock" class="selflink">#</a></p><div class="doc"><p>Execute <code><a href="XMonad-Config-Prime.html#t:Query" title="XMonad.Config.Prime">Query</a></code>, unless focus is locked.</p></div></div><a href="#g:3" id="g:3"><h1>Commonly used actions for modifying focus.</h1></a><div class="doc"><p>Operations in each pair <code><a href="XMonad-Hooks-Focus.html#v:keepFocus" title="XMonad.Hooks.Focus">keepFocus</a></code> and <code><a href="XMonad-Hooks-Focus.html#v:switchFocus" title="XMonad.Hooks.Focus">switchFocus</a></code>, <code><a href="XMonad-Hooks-Focus.html#v:keepWorkspace" title="XMonad.Hooks.Focus">keepWorkspace</a></code> and
 <code><a href="XMonad-Hooks-Focus.html#v:switchWorkspace" title="XMonad.Hooks.Focus">switchWorkspace</a></code> overwrite each other (the letftmost will determine what
 happened):</p><pre>keepFocus       &lt;&gt; switchFocus     = keepFocus</pre><pre>switchFocus     &lt;&gt; keepFocus       = switchFocus</pre><pre>keepWorkspace   &lt;&gt; switchWorkspace = keepWorkspace</pre><pre>switchWorkspace &lt;&gt; keepWorkspace   = switchWorkspace</pre><p>and operations from different pairs are commutative:</p><pre>keepFocus   &lt;&gt; switchWorkspace = switchWorkspace &lt;&gt; keepFocus</pre><pre>switchFocus &lt;&gt; switchWorkspace = switchWorkspace &lt;&gt; switchFocus</pre><p>etc.</p></div><div class="top"><p class="src"><a id="v:keepFocus" class="def">keepFocus</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a> <a href="src/XMonad.Hooks.Focus.html#keepFocus" class="link">Source</a> <a href="#v:keepFocus" class="selflink">#</a></p><div class="doc"><p>Keep focus on workspace (may not be current), where new window appears.
 Workspace will not be switched. This operation is idempotent and
 effectively returns focus to window focused on that workspace before
 applying <code>(Endo WindowSet)</code> function.</p></div></div><div class="top"><p class="src"><a id="v:switchFocus" class="def">switchFocus</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a> <a href="src/XMonad.Hooks.Focus.html#switchFocus" class="link">Source</a> <a href="#v:switchFocus" class="selflink">#</a></p><div class="doc"><p>Switch focus to new window on workspace (may not be current), where new
 window appears. Workspace will not be switched. This operation is
 idempotent.</p></div></div><div class="top"><p class="src"><a id="v:keepWorkspace" class="def">keepWorkspace</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a> <a href="src/XMonad.Hooks.Focus.html#keepWorkspace" class="link">Source</a> <a href="#v:keepWorkspace" class="selflink">#</a></p><div class="doc"><p>Keep current workspace. Focus will not be changed at either current or
 new window's  workspace. This operation is idempotent and effectively
 switches to workspace, which was current before applying <code>(Endo WindowSet)</code>
 function.</p></div></div><div class="top"><p class="src"><a id="v:switchWorkspace" class="def">switchWorkspace</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a> <a href="src/XMonad.Hooks.Focus.html#switchWorkspace" class="link">Source</a> <a href="#v:switchWorkspace" class="selflink">#</a></p><div class="doc"><p>Switch workspace to one, where new window appears. Focus will not be
 changed at either current or new window's workspace. This operation is
 idempotent.</p></div></div><a href="#g:4" id="g:4"><h1>Running FocusQuery.</h1></a><div class="doc empty">&nbsp;</div><div class="top"><p class="src"><a id="v:manageFocus" class="def">manageFocus</a> :: <a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a> -&gt; <a href="XMonad-Config-Prime.html#t:ManageHook" title="XMonad.Config.Prime">ManageHook</a> <a href="src/XMonad.Hooks.Focus.html#manageFocus" class="link">Source</a> <a href="#v:manageFocus" class="selflink">#</a></p><div class="doc"><p>I don't know at which workspace new window will appear until <code>(Endo
 WindowSet)</code> function from <code><a href="XMonad-Config-Prime.html#v:windows" title="XMonad.Config.Prime">windows</a></code> in <a href="../xmonad-0.18.0.9/XMonad-Operations.html">XMonad.Operations</a> actually run,
 but in <code>(Endo WindowSet)</code> function i can't already execute monadic actions,
 because it's pure. So, i compute result for every workspace here and just
 use it later in <code>(Endo WindowSet)</code> function.  Note, though, that this will
 execute monadic actions many times, and therefore assume, that result of
 <code><a href="XMonad-Hooks-Focus.html#t:FocusHook" title="XMonad.Hooks.Focus">FocusHook</a></code> does not depend on the number of times it was executed.</p></div></div><a href="#g:5" id="g:5"><h1>Example configurations.</h1></a><div class="doc empty">&nbsp;</div><div class="top"><p class="src"><a id="v:activateSwitchWs" class="def">activateSwitchWs</a> :: <a href="XMonad-Config-Prime.html#t:ManageHook" title="XMonad.Config.Prime">ManageHook</a> <a href="src/XMonad.Hooks.Focus.html#activateSwitchWs" class="link">Source</a> <a href="#v:activateSwitchWs" class="selflink">#</a></p><div class="doc"><p>Default EWMH window activation behavior: switch to workspace with
 activated window and switch focus to it. Not to be used in a <code><a href="../xmonad-0.18.0.9/XMonad-Core.html#v:manageHook" title="XMonad.Core">manageHook</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:activateOnCurrentWs" class="def">activateOnCurrentWs</a> :: <a href="XMonad-Config-Prime.html#t:ManageHook" title="XMonad.Config.Prime">ManageHook</a> <a href="src/XMonad.Hooks.Focus.html#activateOnCurrentWs" class="link">Source</a> <a href="#v:activateOnCurrentWs" class="selflink">#</a></p><div class="doc"><p>Move activated window to current workspace and switch focus to it. Note,
 that i need to explicitly call <code><a href="XMonad-Hooks-Focus.html#v:switchFocus" title="XMonad.Hooks.Focus">switchFocus</a></code> here, because otherwise, when
 activated window is <em>already</em> on current workspace, focus won't be
 switched. Not to be used in a <code><a href="../xmonad-0.18.0.9/XMonad-Core.html#v:manageHook" title="XMonad.Core">manageHook</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:activateOnCurrentKeepFocus" class="def">activateOnCurrentKeepFocus</a> :: <a href="XMonad-Config-Prime.html#t:ManageHook" title="XMonad.Config.Prime">ManageHook</a> <a href="src/XMonad.Hooks.Focus.html#activateOnCurrentKeepFocus" class="link">Source</a> <a href="#v:activateOnCurrentKeepFocus" class="selflink">#</a></p><div class="doc"><p>Move activated window to current workspace, but keep focus unchanged.
 Not to be used in a <code><a href="../xmonad-0.18.0.9/XMonad-Core.html#v:manageHook" title="XMonad.Core">manageHook</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>