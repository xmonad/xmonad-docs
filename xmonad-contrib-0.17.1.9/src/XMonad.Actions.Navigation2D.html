<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses, PatternGuards, RankNTypes, TypeSynonymInstances #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- Module      :  XMonad.Layout.Navigation2D</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Description :  Directional navigation of windows and screens.</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Copyright   :  (c) 2011  Norbert Zeh &lt;nzeh@cs.dal.ca&gt;</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- License     :  BSD3-style (see LICENSE)</span><span>
</span><span id="line-9"></span><span class="hs-comment">--</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- Maintainer  :  Norbert Zeh &lt;nzeh@cs.dal.ca&gt;</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Stability   :  unstable</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- Portability :  unportable</span><span>
</span><span id="line-13"></span><span class="hs-comment">--</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- Navigation2D is an xmonad extension that allows easy directional</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- navigation of windows and screens (in a multi-monitor setup).</span><span>
</span><span id="line-16"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">XMonad.Actions.Navigation2D</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Usage</span></span><span>
</span><span id="line-19"></span><span>                                     </span><span class="annot"><span class="hs-comment">-- $usage</span></span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span>                                     </span><span class="annot"><span class="hs-comment">-- * Finer points</span></span><span>
</span><span id="line-22"></span><span>                                     </span><span class="annot"><span class="hs-comment">-- $finer_points</span></span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>                                     </span><span class="annot"><span class="hs-comment">-- * Alternative directional navigation modules</span></span><span>
</span><span id="line-25"></span><span>                                     </span><span class="annot"><span class="hs-comment">-- $alternatives</span></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span>                                     </span><span class="annot"><span class="hs-comment">-- * Incompatibilities</span></span><span>
</span><span id="line-28"></span><span>                                     </span><span class="annot"><span class="hs-comment">-- $incompatibilities</span></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span>                                     </span><span class="annot"><span class="hs-comment">-- * Detailed technical discussion</span></span><span>
</span><span id="line-31"></span><span>                                     </span><span class="annot"><span class="hs-comment">-- $technical</span></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span>                                     </span><span class="annot"><span class="hs-comment">-- * Exported functions and types</span></span><span>
</span><span id="line-34"></span><span>                                     </span><span class="hs-comment">-- #Exports#</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span>                                     </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#navigation2D"><span class="hs-identifier">navigation2D</span></a></span><span>
</span><span id="line-37"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#navigation2DP"><span class="hs-identifier">navigation2DP</span></a></span><span>
</span><span id="line-38"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#additionalNav2DKeys"><span class="hs-identifier">additionalNav2DKeys</span></a></span><span>
</span><span id="line-39"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#additionalNav2DKeysP"><span class="hs-identifier">additionalNav2DKeysP</span></a></span><span>
</span><span id="line-40"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#withNavigation2DConfig"><span class="hs-identifier">withNavigation2DConfig</span></a></span><span>
</span><span id="line-41"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier">Navigation2DConfig</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">def</span></span><span>
</span><span id="line-43"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier">Navigation2D</span></a></span><span>
</span><span id="line-44"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#lineNavigation"><span class="hs-identifier">lineNavigation</span></a></span><span>
</span><span id="line-45"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#centerNavigation"><span class="hs-identifier">centerNavigation</span></a></span><span>
</span><span id="line-46"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#sideNavigation"><span class="hs-identifier">sideNavigation</span></a></span><span>
</span><span id="line-47"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#sideNavigationWithBias"><span class="hs-identifier">sideNavigationWithBias</span></a></span><span>
</span><span id="line-48"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#hybridOf"><span class="hs-identifier">hybridOf</span></a></span><span>
</span><span id="line-49"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#fullScreenRect"><span class="hs-identifier">fullScreenRect</span></a></span><span>
</span><span id="line-50"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#singleWindowRect"><span class="hs-identifier">singleWindowRect</span></a></span><span>
</span><span id="line-51"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#switchLayer"><span class="hs-identifier">switchLayer</span></a></span><span>
</span><span id="line-52"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#windowGo"><span class="hs-identifier">windowGo</span></a></span><span>
</span><span id="line-53"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#windowSwap"><span class="hs-identifier">windowSwap</span></a></span><span>
</span><span id="line-54"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#windowToScreen"><span class="hs-identifier">windowToScreen</span></a></span><span>
</span><span id="line-55"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#screenGo"><span class="hs-identifier">screenGo</span></a></span><span>
</span><span id="line-56"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#screenSwap"><span class="hs-identifier">screenSwap</span></a></span><span>
</span><span id="line-57"></span><span>                                   </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier">Direction2D</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>                                   </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Arrow</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">second</span></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Prelude.html"><span class="hs-identifier">XMonad.Prelude</span></a></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">XMonad</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Screen</span></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">XMonad.StackSet</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">W</span></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="XMonad.Util.ExtensibleState.html"><span class="hs-identifier">XMonad.Util.ExtensibleState</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">XS</span></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Util.EZConfig.html"><span class="hs-identifier">XMonad.Util.EZConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Util.EZConfig.html#additionalKeys"><span class="hs-identifier">additionalKeys</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Util.EZConfig.html#additionalKeysP"><span class="hs-identifier">additionalKeysP</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html"><span class="hs-identifier">XMonad.Util.Types</span></a></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NE</span></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-comment">-- $usage</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- #Usage#</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- Navigation2D provides directional navigation (go left, right, up, down) for</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- windows and screens.  It treats floating and tiled windows as two separate</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- layers and provides mechanisms to navigate within each layer and to switch</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- between layers.  Navigation2D provides three different navigation strategies</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- (see &lt;#Technical_Discussion&gt; for details): /Line navigation/ and</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- /Side navigation/ feel rather natural but may make it impossible to navigate</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- to a given window from the current window, particularly in the floating</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- layer. /Center navigation/ feels less natural in certain situations but</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- ensures that all windows can be reached without the need to involve the</span><span>
</span><span id="line-82"></span><span class="hs-comment">-- mouse. Another option is to use a /Hybrid/ of the three strategies,</span><span>
</span><span id="line-83"></span><span class="hs-comment">-- automatically choosing whichever first provides a suitable target window.</span><span>
</span><span id="line-84"></span><span class="hs-comment">-- Navigation2D allows different navigation strategies to be used in the two</span><span>
</span><span id="line-85"></span><span class="hs-comment">-- layers and allows customization of the navigation strategy for the tiled</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- layer based on the layout currently in effect.</span><span>
</span><span id="line-87"></span><span class="hs-comment">--</span><span>
</span><span id="line-88"></span><span class="hs-comment">-- You can use this module with (a subset of) the following in your @xmonad.hs@:</span><span>
</span><span id="line-89"></span><span class="hs-comment">--</span><span>
</span><span id="line-90"></span><span class="hs-comment">-- &gt; import XMonad.Actions.Navigation2D</span><span>
</span><span id="line-91"></span><span class="hs-comment">--</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- Then add the configuration of the module to your main function:</span><span>
</span><span id="line-93"></span><span class="hs-comment">--</span><span>
</span><span id="line-94"></span><span class="hs-comment">-- &gt; main = xmonad $ navigation2D def</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- &gt;                              (xK_Up, xK_Left, xK_Down, xK_Right)</span><span>
</span><span id="line-96"></span><span class="hs-comment">-- &gt;                              [(mod4Mask,               windowGo  ),</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- &gt;                               (mod4Mask .|. shiftMask, windowSwap)]</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- &gt;                              False</span><span>
</span><span id="line-99"></span><span class="hs-comment">-- &gt;               $ def</span><span>
</span><span id="line-100"></span><span class="hs-comment">--</span><span>
</span><span id="line-101"></span><span class="hs-comment">-- /NOTE/: the @def@ argument to 'navigation2D' contains the strategy</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- that decides which windows actually get selected.  While the default</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- behaviour tries to keep them into account, if you use modules that</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- influence tiling in some way, like &quot;XMonad.Layout.Spacing&quot; or</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- &quot;XMonad.Layout.Gaps&quot;, you should think about using a different</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- strategy, if you find the default behaviour to be unnatural.  Check</span><span>
</span><span id="line-107"></span><span class="hs-comment">-- out the [finer points](#g:Finer_Points) below for more information.</span><span>
</span><span id="line-108"></span><span class="hs-comment">--</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- Alternatively to 'navigation2D', you can use 'navigation2DP':</span><span>
</span><span id="line-110"></span><span class="hs-comment">--</span><span>
</span><span id="line-111"></span><span class="hs-comment">-- &gt; main = xmonad $ navigation2DP def</span><span>
</span><span id="line-112"></span><span class="hs-comment">-- &gt;                               (&quot;&lt;Up&gt;&quot;, &quot;&lt;Left&gt;&quot;, &quot;&lt;Down&gt;&quot;, &quot;&lt;Right&gt;&quot;)</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- &gt;                               [(&quot;M-&quot;,   windowGo  ),</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- &gt;                                (&quot;M-S-&quot;, windowSwap)]</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- &gt;                               False</span><span>
</span><span id="line-116"></span><span class="hs-comment">-- &gt;               $ def</span><span>
</span><span id="line-117"></span><span class="hs-comment">--</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- That's it. If instead you'd like more control, you can combine</span><span>
</span><span id="line-119"></span><span class="hs-comment">-- 'withNavigation2DConfig' and 'additionalNav2DKeys' or 'additionalNav2DKeysP':</span><span>
</span><span id="line-120"></span><span class="hs-comment">--</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- &gt; main = xmonad $ withNavigation2DConfig def</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- &gt;               $ additionalNav2DKeys (xK_Up, xK_Left, xK_Down, xK_Right)</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- &gt;                                     [(mod4Mask,               windowGo  ),</span><span>
</span><span id="line-124"></span><span class="hs-comment">-- &gt;                                      (mod4Mask .|. shiftMask, windowSwap)]</span><span>
</span><span id="line-125"></span><span class="hs-comment">-- &gt;                                     False</span><span>
</span><span id="line-126"></span><span class="hs-comment">-- &gt;               $ additionalNav2DKeys (xK_u, xK_l, xK_d, xK_r)</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- &gt;                                     [(mod4Mask,               screenGo  ),</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- &gt;                                      (mod4Mask .|. shiftMask, screenSwap)]</span><span>
</span><span id="line-129"></span><span class="hs-comment">-- &gt;                                     False</span><span>
</span><span id="line-130"></span><span class="hs-comment">-- &gt;               $ def</span><span>
</span><span id="line-131"></span><span class="hs-comment">--</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- Or you can add the configuration of the module to your main function:</span><span>
</span><span id="line-133"></span><span class="hs-comment">--</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- &gt; main = xmonad $ withNavigation2DConfig def $ def</span><span>
</span><span id="line-135"></span><span class="hs-comment">--</span><span>
</span><span id="line-136"></span><span class="hs-comment">-- And specify your keybindings normally:</span><span>
</span><span id="line-137"></span><span class="hs-comment">--</span><span>
</span><span id="line-138"></span><span class="hs-comment">-- &gt;    -- Switch between layers</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- &gt;    , ((modm,                 xK_space), switchLayer)</span><span>
</span><span id="line-140"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- &gt;    -- Directional navigation of windows</span><span>
</span><span id="line-142"></span><span class="hs-comment">-- &gt;    , ((modm,                 xK_Right), windowGo R False)</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- &gt;    , ((modm,                 xK_Left ), windowGo L False)</span><span>
</span><span id="line-144"></span><span class="hs-comment">-- &gt;    , ((modm,                 xK_Up   ), windowGo U False)</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- &gt;    , ((modm,                 xK_Down ), windowGo D False)</span><span>
</span><span id="line-146"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-147"></span><span class="hs-comment">-- &gt;    -- Swap adjacent windows</span><span>
</span><span id="line-148"></span><span class="hs-comment">-- &gt;    , ((modm .|. controlMask, xK_Right), windowSwap R False)</span><span>
</span><span id="line-149"></span><span class="hs-comment">-- &gt;    , ((modm .|. controlMask, xK_Left ), windowSwap L False)</span><span>
</span><span id="line-150"></span><span class="hs-comment">-- &gt;    , ((modm .|. controlMask, xK_Up   ), windowSwap U False)</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- &gt;    , ((modm .|. controlMask, xK_Down ), windowSwap D False)</span><span>
</span><span id="line-152"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-153"></span><span class="hs-comment">-- &gt;    -- Directional navigation of screens</span><span>
</span><span id="line-154"></span><span class="hs-comment">-- &gt;    , ((modm,                 xK_r    ), screenGo R False)</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- &gt;    , ((modm,                 xK_l    ), screenGo L False)</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- &gt;    , ((modm,                 xK_u    ), screenGo U False)</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- &gt;    , ((modm,                 xK_d    ), screenGo D False)</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- &gt;    -- Swap workspaces on adjacent screens</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- &gt;    , ((modm .|. controlMask, xK_r    ), screenSwap R False)</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- &gt;    , ((modm .|. controlMask, xK_l    ), screenSwap L False)</span><span>
</span><span id="line-162"></span><span class="hs-comment">-- &gt;    , ((modm .|. controlMask, xK_u    ), screenSwap U False)</span><span>
</span><span id="line-163"></span><span class="hs-comment">-- &gt;    , ((modm .|. controlMask, xK_d    ), screenSwap D False)</span><span>
</span><span id="line-164"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-165"></span><span class="hs-comment">-- &gt;    -- Send window to adjacent screen</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- &gt;    , ((modm .|. mod1Mask,    xK_r    ), windowToScreen R False)</span><span>
</span><span id="line-167"></span><span class="hs-comment">-- &gt;    , ((modm .|. mod1Mask,    xK_l    ), windowToScreen L False)</span><span>
</span><span id="line-168"></span><span class="hs-comment">-- &gt;    , ((modm .|. mod1Mask,    xK_u    ), windowToScreen U False)</span><span>
</span><span id="line-169"></span><span class="hs-comment">-- &gt;    , ((modm .|. mod1Mask,    xK_d    ), windowToScreen D False)</span><span>
</span><span id="line-170"></span><span class="hs-comment">--</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- For detailed instruction on editing the key binding see:</span><span>
</span><span id="line-172"></span><span class="hs-comment">--</span><span>
</span><span id="line-173"></span><span class="hs-comment">-- &lt;https://xmonad.org/TUTORIAL.html#customizing-xmonad the tutorial&gt;.</span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-comment">-- $finer_points</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- #Finer_Points#</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- The above should get you started.  Here are some finer points:</span><span>
</span><span id="line-178"></span><span class="hs-comment">--</span><span>
</span><span id="line-179"></span><span class="hs-comment">-- Navigation2D has the ability to wrap around at screen edges.  For example, if</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- you navigated to the rightmost window on the rightmost screen and you</span><span>
</span><span id="line-181"></span><span class="hs-comment">-- continued to go right, this would get you to the leftmost window on the</span><span>
</span><span id="line-182"></span><span class="hs-comment">-- leftmost screen.  This feature may be useful for switching between screens</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- that are far apart but may be confusing at least to novice users.  Therefore,</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- it is disabled in the above example (e.g., navigation beyond the rightmost</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- window on the rightmost screen is not possible and trying to do so will</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- simply not do anything.)  If you want this feature, change all the 'False'</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- values in the above example to 'True'.  You could also decide you want</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- wrapping only for a subset of the operations and no wrapping for others.</span><span>
</span><span id="line-189"></span><span class="hs-comment">--</span><span>
</span><span id="line-190"></span><span class="hs-comment">-- By default, all layouts use the 'defaultTiledNavigation' strategy</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- specified in the 'Navigation2DConfig' (by default, line navigation is</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- used).  Many more navigation strategies are available; some may feel</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- more natural, depending on the layout and user:</span><span>
</span><span id="line-194"></span><span class="hs-comment">--</span><span>
</span><span id="line-195"></span><span class="hs-comment">--   * 'lineNavigation'</span><span>
</span><span id="line-196"></span><span class="hs-comment">--   * 'centerNavigation'</span><span>
</span><span id="line-197"></span><span class="hs-comment">--   * 'sideNavigation'</span><span>
</span><span id="line-198"></span><span class="hs-comment">--   * 'sideNavigationWithBias'</span><span>
</span><span id="line-199"></span><span class="hs-comment">--</span><span>
</span><span id="line-200"></span><span class="hs-comment">-- There is also the ability to combine two strategies with 'hybridOf'.</span><span>
</span><span id="line-201"></span><span class="hs-comment">--</span><span>
</span><span id="line-202"></span><span class="hs-comment">-- To override the default behaviour for some layouts, add a pair (\&quot;layout name\&quot;,</span><span>
</span><span id="line-203"></span><span class="hs-comment">-- navigation strategy) to the 'layoutNavigation' list in the</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- 'Navigation2DConfig', where \&quot;layout name\&quot; is the string reported by the</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- layout's description method (normally what is shown as the layout name in</span><span>
</span><span id="line-206"></span><span class="hs-comment">-- your status bar).  For example, all navigation strategies normally allow only</span><span>
</span><span id="line-207"></span><span class="hs-comment">-- navigation between mapped windows.  The first step to overcome this, for</span><span>
</span><span id="line-208"></span><span class="hs-comment">-- example, for the Full layout, is to switch to center navigation for the Full</span><span>
</span><span id="line-209"></span><span class="hs-comment">-- layout:</span><span>
</span><span id="line-210"></span><span class="hs-comment">--</span><span>
</span><span id="line-211"></span><span class="hs-comment">-- &gt; myNavigation2DConfig = def { layoutNavigation = [(&quot;Full&quot;, centerNavigation)] }</span><span>
</span><span id="line-212"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- &gt; main = xmonad $ withNavigation2DConfig myNavigation2DConfig</span><span>
</span><span id="line-214"></span><span class="hs-comment">-- &gt;               $ def</span><span>
</span><span id="line-215"></span><span class="hs-comment">--</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- The navigation between windows is based on their screen rectangles, which are</span><span>
</span><span id="line-217"></span><span class="hs-comment">-- available /and meaningful/ only for mapped windows.  Thus, as already said,</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- the default is to allow navigation only between mapped windows.  However,</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- there are layouts that do not keep all windows mapped.  One example is the</span><span>
</span><span id="line-220"></span><span class="hs-comment">-- Full layout, which unmaps all windows except the one that has the focus,</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- thereby preventing navigation to any other window in the layout.  To make</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- navigation to unmapped windows possible, unmapped windows need to be assigned</span><span>
</span><span id="line-223"></span><span class="hs-comment">-- rectangles to pretend they are mapped, and a natural way to do this for the</span><span>
</span><span id="line-224"></span><span class="hs-comment">-- Full layout is to pretend all windows occupy the full screen and are stacked</span><span>
</span><span id="line-225"></span><span class="hs-comment">-- on top of each other so that only the frontmost one is visible.  This can be</span><span>
</span><span id="line-226"></span><span class="hs-comment">-- done as follows:</span><span>
</span><span id="line-227"></span><span class="hs-comment">--</span><span>
</span><span id="line-228"></span><span class="hs-comment">-- &gt; myNavigation2DConfig = def { layoutNavigation   = [(&quot;Full&quot;, centerNavigation)]</span><span>
</span><span id="line-229"></span><span class="hs-comment">-- &gt;                            , unmappedWindowRect = [(&quot;Full&quot;, singleWindowRect)]</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- &gt;                            }</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-232"></span><span class="hs-comment">-- &gt; main = xmonad $ withNavigation2DConfig myNavigation2DConfig</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- &gt;               $ def</span><span>
</span><span id="line-234"></span><span class="hs-comment">--</span><span>
</span><span id="line-235"></span><span class="hs-comment">-- With this setup, Left/Up navigation behaves like standard</span><span>
</span><span id="line-236"></span><span class="hs-comment">-- 'XMonad.StackSet.focusUp' and Right/Down navigation behaves like</span><span>
</span><span id="line-237"></span><span class="hs-comment">-- 'XMonad.StackSet.focusDown', thus allowing navigation between windows in the</span><span>
</span><span id="line-238"></span><span class="hs-comment">-- layout.</span><span>
</span><span id="line-239"></span><span class="hs-comment">--</span><span>
</span><span id="line-240"></span><span class="hs-comment">-- In general, each entry in the 'unmappedWindowRect' association list is a pair</span><span>
</span><span id="line-241"></span><span class="hs-comment">-- (\&quot;layout description\&quot;, function), where the function computes a rectangle</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- for each unmapped window from the screen it is on and the window ID.</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- Currently, Navigation2D provides only two functions of this type:</span><span>
</span><span id="line-244"></span><span class="hs-comment">-- 'singleWindowRect' and 'fullScreenRect'.</span><span>
</span><span id="line-245"></span><span class="hs-comment">--</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- With per-layout navigation strategies, if different layouts are in effect on</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- different screens in a multi-monitor setup, and different navigation</span><span>
</span><span id="line-248"></span><span class="hs-comment">-- strategies are defined for these active layouts, the most general of these</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- navigation strategies is used across all screens (because Navigation2D does</span><span>
</span><span id="line-250"></span><span class="hs-comment">-- not distinguish between windows on different workspaces), where center</span><span>
</span><span id="line-251"></span><span class="hs-comment">-- navigation is more general than line navigation, as discussed formally under</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- &lt;#Technical_Discussion&gt;.</span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-comment">-- $alternatives</span><span>
</span><span id="line-255"></span><span class="hs-comment">-- #Alternatives#</span><span>
</span><span id="line-256"></span><span class="hs-comment">--</span><span>
</span><span id="line-257"></span><span class="hs-comment">-- There exist two alternatives to Navigation2D:</span><span>
</span><span id="line-258"></span><span class="hs-comment">-- &quot;XMonad.Actions.WindowNavigation&quot; and &quot;XMonad.Layout.WindowNavigation&quot;.</span><span>
</span><span id="line-259"></span><span class="hs-comment">-- X.L.WindowNavigation has the advantage of colouring windows to indicate the</span><span>
</span><span id="line-260"></span><span class="hs-comment">-- window that would receive the focus in each navigation direction, but it does</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- not support navigation across multiple monitors, does not support directional</span><span>
</span><span id="line-262"></span><span class="hs-comment">-- navigation of floating windows, and has a very unintuitive definition of</span><span>
</span><span id="line-263"></span><span class="hs-comment">-- which window receives the focus next in each direction.  X.A.WindowNavigation</span><span>
</span><span id="line-264"></span><span class="hs-comment">-- does support navigation across multiple monitors but does not provide window</span><span>
</span><span id="line-265"></span><span class="hs-comment">-- colouring while retaining the unintuitive navigational semantics of</span><span>
</span><span id="line-266"></span><span class="hs-comment">-- X.L.WindowNavigation.  This makes it very difficult to predict which window</span><span>
</span><span id="line-267"></span><span class="hs-comment">-- receives the focus next.  Neither X.A.WindowNavigation nor</span><span>
</span><span id="line-268"></span><span class="hs-comment">-- X.L.WindowNavigation supports directional navigation of screens.</span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span class="hs-comment">-- $technical</span><span>
</span><span id="line-271"></span><span class="hs-comment">-- #Technical_Discussion#</span><span>
</span><span id="line-272"></span><span class="hs-comment">-- An in-depth discussion of the navigational strategies implemented in</span><span>
</span><span id="line-273"></span><span class="hs-comment">-- Navigation2D, including formal proofs of their properties, can be found</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- at &lt;http://www.cs.dal.ca/~nzeh/xmonad/Navigation2D.pdf&gt;.</span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="hs-comment">-- $incompatibilities</span><span>
</span><span id="line-277"></span><span class="hs-comment">-- #Incompatibilities#</span><span>
</span><span id="line-278"></span><span class="hs-comment">-- Currently Navigation2D is known not to play nicely with tabbed layouts, but</span><span>
</span><span id="line-279"></span><span class="hs-comment">-- it should work well with any other tiled layout.  My hope is to address the</span><span>
</span><span id="line-280"></span><span class="hs-comment">-- incompatibility with tabbed layouts in a future version.  The navigation to</span><span>
</span><span id="line-281"></span><span class="hs-comment">-- unmapped windows, for example in a Full layout, by assigning rectangles to</span><span>
</span><span id="line-282"></span><span class="hs-comment">-- unmapped windows is more a workaround than a clean solution.  Figuring out</span><span>
</span><span id="line-283"></span><span class="hs-comment">-- how to deal with tabbed layouts may also lead to a more general and cleaner</span><span>
</span><span id="line-284"></span><span class="hs-comment">-- solution to query the layout for a window's rectangle that may make this</span><span>
</span><span id="line-285"></span><span class="hs-comment">-- workaround unnecessary.  At that point, the 'unmappedWindowRect' field of the</span><span>
</span><span id="line-286"></span><span class="hs-comment">-- 'Navigation2DConfig' will disappear.</span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="hs-comment">-- | A rectangle paired with an object</span><span>
</span><span id="line-289"></span><span class="hs-keyword">type</span><span> </span><span id="Rect"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-var">Rect</span></a></span></span><span> </span><span id="local-6989586621679501567"><span class="annot"><a href="#local-6989586621679501567"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679501567"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rectangle</span></span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span class="hs-comment">-- | A shorthand for window-rectangle pairs.  Reduces typing.</span><span>
</span><span id="line-292"></span><span class="hs-keyword">type</span><span> </span><span id="WinRect"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-var">WinRect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-comment">-- | A shorthand for workspace-rectangle pairs.  Reduces typing.</span><span>
</span><span id="line-295"></span><span class="hs-keyword">type</span><span> </span><span id="WSRect"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WSRect"><span class="hs-identifier hs-var">WSRect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WorkspaceId</span></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="hs-comment">----------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-298"></span><span class="hs-comment">----------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-299"></span><span class="hs-comment">--                                                                                                --</span><span>
</span><span id="line-300"></span><span class="hs-comment">--                                        PUBLIC INTERFACE                                        --</span><span>
</span><span id="line-301"></span><span class="hs-comment">--                                                                                                --</span><span>
</span><span id="line-302"></span><span class="hs-comment">----------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-303"></span><span class="hs-comment">----------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-304"></span><span>
</span><span id="line-305"></span><span class="hs-comment">-- | Encapsulates the navigation strategy</span><span>
</span><span id="line-306"></span><span class="hs-keyword">data</span><span> </span><span id="Navigation2D"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-var">Navigation2D</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="N"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-var">N</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Generality"><span class="hs-identifier hs-type">Generality</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679501952"><span class="annot"><a href="#local-6989586621679501952"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679501952"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679501952"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679501952"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679501952"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#runNav"><span class="hs-identifier hs-type">runNav</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621679501956"><span class="annot"><a href="#local-6989586621679501956"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-operator">.</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679501956"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679501956"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679501956"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679501956"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-309"></span><span id="runNav"><span class="annot"><span class="annottext">runNav :: forall a.
Eq a =&gt;
Navigation2D -&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="XMonad.Actions.Navigation2D.html#runNav"><span class="hs-identifier hs-var hs-var">runNav</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-type">N</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679501561"><span class="annot"><span class="annottext">forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="#local-6989586621679501561"><span class="hs-identifier hs-var">nav</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="#local-6989586621679501561"><span class="hs-identifier hs-var">nav</span></a></span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span class="hs-comment">-- | Score that indicates how general a navigation strategy is</span><span>
</span><span id="line-312"></span><span class="hs-keyword">type</span><span> </span><span id="Generality"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Generality"><span class="hs-identifier hs-var">Generality</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501558"><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-315"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-type">N</span></a></span><span> </span><span id="local-6989586621679501554"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501554"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501553"><span class="annot"><span class="annottext">== :: Navigation2D -&gt; Navigation2D -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">==</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-type">N</span></a></span><span> </span><span id="local-6989586621679501552"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501552"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501554"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501552"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501537"><span id="local-6989586621679501539"><span id="local-6989586621679501541"><span id="local-6989586621679501543"><span id="local-6989586621679501546"><span id="local-6989586621679501548"><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-318"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-type">N</span></a></span><span> </span><span id="local-6989586621679501534"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501534"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501533"><span class="annot"><span class="annottext">&lt;= :: Navigation2D -&gt; Navigation2D -&gt; Bool
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;=</span></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-type">N</span></a></span><span> </span><span id="local-6989586621679501531"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501531"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501534"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501531"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span class="hs-comment">-- | Line navigation.  To illustrate this navigation strategy, consider</span><span>
</span><span id="line-321"></span><span class="hs-comment">-- navigating to the left from the current window.  In this case, we draw a</span><span>
</span><span id="line-322"></span><span class="hs-comment">-- horizontal line through the center of the current window and consider all</span><span>
</span><span id="line-323"></span><span class="hs-comment">-- windows that intersect this horizontal line and whose right boundaries are to</span><span>
</span><span id="line-324"></span><span class="hs-comment">-- the left of the left boundary of the current window.  From among these</span><span>
</span><span id="line-325"></span><span class="hs-comment">-- windows, we choose the one with the rightmost right boundary.</span><span>
</span><span id="line-326"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#lineNavigation"><span class="hs-identifier hs-type">lineNavigation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span><span>
</span><span id="line-327"></span><span id="lineNavigation"><span class="annot"><span class="annottext">lineNavigation :: Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#lineNavigation"><span class="hs-identifier hs-var hs-var">lineNavigation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; (forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a)
-&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-var">N</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="XMonad.Actions.Navigation2D.html#doLineNavigation"><span class="hs-identifier hs-var">doLineNavigation</span></a></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="hs-comment">-- | Center navigation.  Again, consider navigating to the left.  Then we</span><span>
</span><span id="line-330"></span><span class="hs-comment">-- consider the cone bounded by the two rays shot at 45-degree angles in</span><span>
</span><span id="line-331"></span><span class="hs-comment">-- north-west and south-west direction from the center of the current window.  A</span><span>
</span><span id="line-332"></span><span class="hs-comment">-- window is a candidate to receive the focus if its center lies in this cone.</span><span>
</span><span id="line-333"></span><span class="hs-comment">-- We choose the window whose center has minimum L1-distance from the current</span><span>
</span><span id="line-334"></span><span class="hs-comment">-- window center.  The tie breaking strategy for windows with the same distance</span><span>
</span><span id="line-335"></span><span class="hs-comment">-- is a bit complicated (see &lt;#Technical_Discussion&gt;) but ensures that all</span><span>
</span><span id="line-336"></span><span class="hs-comment">-- windows can be reached and that windows with the same center are traversed in</span><span>
</span><span id="line-337"></span><span class="hs-comment">-- their order in the window stack, that is, in the order</span><span>
</span><span id="line-338"></span><span class="hs-comment">-- 'XMonad.StackSet.focusUp' and 'XMonad.StackSet.focusDown' would traverse</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- them.</span><span>
</span><span id="line-340"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#centerNavigation"><span class="hs-identifier hs-type">centerNavigation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span><span>
</span><span id="line-341"></span><span id="centerNavigation"><span class="annot"><span class="annottext">centerNavigation :: Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#centerNavigation"><span class="hs-identifier hs-var hs-var">centerNavigation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; (forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a)
-&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-var">N</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="XMonad.Actions.Navigation2D.html#doCenterNavigation"><span class="hs-identifier hs-var">doCenterNavigation</span></a></span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="hs-comment">-- | Side navigation. Consider navigating to the right this time. The strategy</span><span>
</span><span id="line-344"></span><span class="hs-comment">-- is to take the line segment forming the right boundary of the current window,</span><span>
</span><span id="line-345"></span><span class="hs-comment">-- and push it to the right until it intersects with at least one other window.</span><span>
</span><span id="line-346"></span><span class="hs-comment">-- Of those windows, one with a point that is the closest to the centre of the</span><span>
</span><span id="line-347"></span><span class="hs-comment">-- line (+1) is selected. This is probably the most intuitive strategy for the</span><span>
</span><span id="line-348"></span><span class="hs-comment">-- tiled layer when using &quot;XMonad.Layout.Spacing&quot;.</span><span>
</span><span id="line-349"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#sideNavigation"><span class="hs-identifier hs-type">sideNavigation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span><span>
</span><span id="line-350"></span><span id="sideNavigation"><span class="annot"><span class="annottext">sideNavigation :: Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#sideNavigation"><span class="hs-identifier hs-var hs-var">sideNavigation</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; (forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a)
-&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-var">N</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a.
Eq a =&gt;
Int -&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="XMonad.Actions.Navigation2D.html#doSideNavigationWithBias"><span class="hs-identifier hs-var">doSideNavigationWithBias</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-351"></span><span>
</span><span id="line-352"></span><span class="hs-comment">-- | Side navigation with bias. Consider a case where the screen is divided</span><span>
</span><span id="line-353"></span><span class="hs-comment">-- up into three vertical panes; the side panes occupied by one window each and</span><span>
</span><span id="line-354"></span><span class="hs-comment">-- the central pane split across the middle by two windows. By the criteria</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- of side navigation, the two central windows are equally good choices when</span><span>
</span><span id="line-356"></span><span class="hs-comment">-- navigating inwards from one of the side panes. Hence in order to be</span><span>
</span><span id="line-357"></span><span class="hs-comment">-- equitable, symmetric and pleasant to use, different windows are chosen when</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- navigating from different sides. In particular, the lower is chosen when</span><span>
</span><span id="line-359"></span><span class="hs-comment">-- going left and the higher when going right, causing L, L, R, R, L, L, etc to</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- cycle through the four windows clockwise. This is implemented by using a bias</span><span>
</span><span id="line-361"></span><span class="hs-comment">-- of 1. /Bias/ is how many pixels off centre the vertical split can be before</span><span>
</span><span id="line-362"></span><span class="hs-comment">-- this behaviour is lost and the same window chosen every time. A negative bias</span><span>
</span><span id="line-363"></span><span class="hs-comment">-- swaps the preferred window for each direction. A bias of zero disables the</span><span>
</span><span id="line-364"></span><span class="hs-comment">-- behaviour.</span><span>
</span><span id="line-365"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#sideNavigationWithBias"><span class="hs-identifier hs-type">sideNavigationWithBias</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span><span>
</span><span id="line-366"></span><span id="sideNavigationWithBias"><span class="annot"><span class="annottext">sideNavigationWithBias :: Int -&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#sideNavigationWithBias"><span class="hs-identifier hs-var hs-var">sideNavigationWithBias</span></a></span></span><span> </span><span id="local-6989586621679501521"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501521"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; (forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a)
-&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-var">N</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a.
Eq a =&gt;
Int -&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="XMonad.Actions.Navigation2D.html#doSideNavigationWithBias"><span class="hs-identifier hs-var">doSideNavigationWithBias</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501521"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-367"></span><span>
</span><span id="line-368"></span><span class="hs-comment">-- | Hybrid of two modes of navigation, preferring the motions of the first.</span><span>
</span><span id="line-369"></span><span class="hs-comment">-- Use this if you want to fall back on a second strategy whenever the first</span><span>
</span><span id="line-370"></span><span class="hs-comment">-- does not find a candidate window. E.g.</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- @hybridOf lineNavigation centerNavigation@ is a good strategy for the</span><span>
</span><span id="line-372"></span><span class="hs-comment">-- floating layer, and @hybridOf sideNavigation centerNavigation@ will enable</span><span>
</span><span id="line-373"></span><span class="hs-comment">-- you to take advantage of some of the latter strategy's more interesting</span><span>
</span><span id="line-374"></span><span class="hs-comment">-- motions in the tiled layer.</span><span>
</span><span id="line-375"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#hybridOf"><span class="hs-identifier hs-type">hybridOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span><span>
</span><span id="line-376"></span><span id="hybridOf"><span class="annot"><span class="annottext">hybridOf :: Navigation2D -&gt; Navigation2D -&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#hybridOf"><span class="hs-identifier hs-var hs-var">hybridOf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-type">N</span></a></span><span> </span><span id="local-6989586621679501518"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501518"><span class="hs-identifier hs-var">g1</span></a></span></span><span> </span><span id="local-6989586621679501517"><span class="annot"><span class="annottext">forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="#local-6989586621679501517"><span class="hs-identifier hs-var">s1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-type">N</span></a></span><span> </span><span id="local-6989586621679501516"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501516"><span class="hs-identifier hs-var">g2</span></a></span></span><span> </span><span id="local-6989586621679501515"><span class="annot"><span class="annottext">forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="#local-6989586621679501515"><span class="hs-identifier hs-var">s2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; (forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a)
-&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#N"><span class="hs-identifier hs-var">N</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">max</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501518"><span class="hs-identifier hs-var">g1</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501516"><span class="hs-identifier hs-var">g2</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall {f :: * -&gt; *} {t} {t} {t} {a}.
Alternative f =&gt;
(t -&gt; t -&gt; t -&gt; f a) -&gt; (t -&gt; t -&gt; t -&gt; f a) -&gt; t -&gt; t -&gt; t -&gt; f a
</span><a href="#local-6989586621679501508"><span class="hs-identifier hs-var">applyToBoth</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="#local-6989586621679501517"><span class="hs-identifier hs-var">s1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="#local-6989586621679501515"><span class="hs-identifier hs-var">s2</span></a></span><span>
</span><span id="line-377"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-378"></span><span>    </span><span id="local-6989586621679501508"><span class="annot"><span class="annottext">applyToBoth :: (t -&gt; t -&gt; t -&gt; f a) -&gt; (t -&gt; t -&gt; t -&gt; f a) -&gt; t -&gt; t -&gt; t -&gt; f a
</span><a href="#local-6989586621679501508"><span class="hs-identifier hs-var hs-var">applyToBoth</span></a></span></span><span> </span><span id="local-6989586621679501505"><span class="annot"><span class="annottext">t -&gt; t -&gt; t -&gt; f a
</span><a href="#local-6989586621679501505"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679501504"><span class="annot"><span class="annottext">t -&gt; t -&gt; t -&gt; f a
</span><a href="#local-6989586621679501504"><span class="hs-identifier hs-var">g</span></a></span></span><span> </span><span id="local-6989586621679501503"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679501503"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679501502"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679501502"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679501501"><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679501501"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; t -&gt; f a
</span><a href="#local-6989586621679501505"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679501503"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679501502"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679501501"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; t -&gt; f a
</span><a href="#local-6989586621679501504"><span class="hs-identifier hs-var">g</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679501503"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679501502"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">t
</span><a href="#local-6989586621679501501"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="hs-comment">-- | Stores the configuration of directional navigation. The 'Default' instance</span><span>
</span><span id="line-381"></span><span class="hs-comment">-- uses line navigation for the tiled layer and for navigation between screens,</span><span>
</span><span id="line-382"></span><span class="hs-comment">-- and center navigation for the float layer.  No custom navigation strategies</span><span>
</span><span id="line-383"></span><span class="hs-comment">-- or rectangles for unmapped windows are defined for individual layouts.</span><span>
</span><span id="line-384"></span><span class="hs-keyword">data</span><span> </span><span id="Navigation2DConfig"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-var">Navigation2DConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Navigation2DConfig"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-var">Navigation2DConfig</span></a></span></span><span>
</span><span id="line-385"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="defaultTiledNavigation"><span class="annot"><span class="annottext">Navigation2DConfig -&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#defaultTiledNavigation"><span class="hs-identifier hs-var hs-var">defaultTiledNavigation</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span><span>             </span><span class="hs-comment">-- ^ default navigation strategy for the tiled layer</span><span>
</span><span id="line-386"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="floatNavigation"><span class="annot"><span class="annottext">Navigation2DConfig -&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#floatNavigation"><span class="hs-identifier hs-var hs-var">floatNavigation</span></a></span></span><span>        </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span><span>             </span><span class="hs-comment">-- ^ navigation strategy for the float layer</span><span>
</span><span id="line-387"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="screenNavigation"><span class="annot"><span class="annottext">Navigation2DConfig -&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#screenNavigation"><span class="hs-identifier hs-var hs-var">screenNavigation</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span><span>             </span><span class="hs-comment">-- ^ strategy for navigation between screens</span><span>
</span><span id="line-388"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="layoutNavigation"><span class="annot"><span class="annottext">Navigation2DConfig -&gt; [(WorkspaceId, Navigation2D)]
</span><a href="XMonad.Actions.Navigation2D.html#layoutNavigation"><span class="hs-identifier hs-var hs-var">layoutNavigation</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2D"><span class="hs-identifier hs-type">Navigation2D</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ association list of customized navigation strategies</span><span>
</span><span id="line-389"></span><span>                                                       </span><span class="hs-comment">-- for different layouts in the tiled layer.  Each pair</span><span>
</span><span id="line-390"></span><span>                                                       </span><span class="hs-comment">-- is of the form (\&quot;layout description\&quot;, navigation</span><span>
</span><span id="line-391"></span><span>                                                       </span><span class="hs-comment">-- strategy).  If there is no pair in this list whose first</span><span>
</span><span id="line-392"></span><span>                                                       </span><span class="hs-comment">-- component is the name of the current layout, the</span><span>
</span><span id="line-393"></span><span>                                                       </span><span class="hs-comment">-- 'defaultTiledNavigation' strategy is used.</span><span>
</span><span id="line-394"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="unmappedWindowRect"><span class="annot"><span class="annottext">Navigation2DConfig
-&gt; [(WorkspaceId, Screen -&gt; Window -&gt; X (Maybe Rectangle))]
</span><a href="XMonad.Actions.Navigation2D.html#unmappedWindowRect"><span class="hs-identifier hs-var hs-var">unmappedWindowRect</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Screen"><span class="hs-identifier hs-type">Screen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rectangle</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-395"></span><span>                                                       </span><span class="hs-comment">-- ^ list associating functions to calculate rectangles</span><span>
</span><span id="line-396"></span><span>                                                       </span><span class="hs-comment">-- for unmapped windows with layouts to which they are</span><span>
</span><span id="line-397"></span><span>                                                       </span><span class="hs-comment">-- to be applied.  Each pair in this list is of</span><span>
</span><span id="line-398"></span><span>                                                       </span><span class="hs-comment">-- the form (\&quot;layout description\&quot;, function), where the</span><span>
</span><span id="line-399"></span><span>                                                       </span><span class="hs-comment">-- function calculates a rectangle for a given unmapped</span><span>
</span><span id="line-400"></span><span>                                                       </span><span class="hs-comment">-- window from the screen it is on and its window ID.</span><span>
</span><span id="line-401"></span><span>                                                       </span><span class="hs-comment">-- See &lt;#Finer_Points&gt; for how to use this.</span><span>
</span><span id="line-402"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="hs-comment">-- | Shorthand for the tedious screen type</span><span>
</span><span id="line-405"></span><span class="hs-keyword">type</span><span> </span><span id="Screen"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Screen"><span class="hs-identifier hs-var">Screen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="XMonad.Prelude.html#WindowScreen"><span class="hs-identifier hs-type">WindowScreen</span></a></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="hs-comment">-- | Convenience function for enabling Navigation2D with typical keybindings.</span><span>
</span><span id="line-408"></span><span class="hs-comment">-- Takes a Navigation2DConfig, an (up, left, down, right) tuple, a mapping from</span><span>
</span><span id="line-409"></span><span class="hs-comment">-- modifier key to action, and a bool to indicate if wrapping should occur, and</span><span>
</span><span id="line-410"></span><span class="hs-comment">-- returns a function from XConfig to XConfig.</span><span>
</span><span id="line-411"></span><span class="hs-comment">-- Example:</span><span>
</span><span id="line-412"></span><span class="hs-comment">--</span><span>
</span><span id="line-413"></span><span class="hs-comment">-- &gt;  navigation2D def (xK_w, xK_a, xK_s, xK_d) [(mod4Mask, windowGo), (mod4Mask .|. shiftMask, windowSwap)] False myConfig</span><span>
</span><span id="line-414"></span><span id="local-6989586621679501929"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#navigation2D"><span class="hs-identifier hs-type">navigation2D</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KeySym</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KeySym</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KeySym</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KeySym</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ButtonMask</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-415"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679501929"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679501929"><span class="hs-identifier hs-type">l</span></a></span></span><span>
</span><span id="line-416"></span><span id="navigation2D"><span class="annot"><span class="annottext">navigation2D :: forall (l :: * -&gt; *).
Navigation2DConfig
-&gt; (Window, Window, Window, Window)
-&gt; [(ButtonMask, Direction2D -&gt; Bool -&gt; X ())]
-&gt; Bool
-&gt; XConfig l
-&gt; XConfig l
</span><a href="XMonad.Actions.Navigation2D.html#navigation2D"><span class="hs-identifier hs-var hs-var">navigation2D</span></a></span></span><span> </span><span id="local-6989586621679501491"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501491"><span class="hs-identifier hs-var">navConfig</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501490"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501490"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501489"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501489"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501488"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501488"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501487"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501487"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501486"><span class="annot"><span class="annottext">[(ButtonMask, Direction2D -&gt; Bool -&gt; X ())]
</span><a href="#local-6989586621679501486"><span class="hs-identifier hs-var">modifiers</span></a></span></span><span> </span><span id="local-6989586621679501485"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501485"><span class="hs-identifier hs-var">wrap</span></a></span></span><span> </span><span id="local-6989586621679501484"><span class="annot"><span class="annottext">XConfig l
</span><a href="#local-6989586621679501484"><span class="hs-identifier hs-var">xconfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-417"></span><span>  </span><span class="annot"><span class="annottext">forall (l :: * -&gt; *).
(Window, Window, Window, Window)
-&gt; [(ButtonMask, Direction2D -&gt; Bool -&gt; X ())]
-&gt; Bool
-&gt; XConfig l
-&gt; XConfig l
</span><a href="XMonad.Actions.Navigation2D.html#additionalNav2DKeys"><span class="hs-identifier hs-var">additionalNav2DKeys</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501490"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501489"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501488"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501487"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(ButtonMask, Direction2D -&gt; Bool -&gt; X ())]
</span><a href="#local-6989586621679501486"><span class="hs-identifier hs-var">modifiers</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501485"><span class="hs-identifier hs-var">wrap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-418"></span><span>  </span><span class="annot"><span class="annottext">forall (a :: * -&gt; *). Navigation2DConfig -&gt; XConfig a -&gt; XConfig a
</span><a href="XMonad.Actions.Navigation2D.html#withNavigation2DConfig"><span class="hs-identifier hs-var">withNavigation2DConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501491"><span class="hs-identifier hs-var">navConfig</span></a></span><span> </span><span class="annot"><span class="annottext">XConfig l
</span><a href="#local-6989586621679501484"><span class="hs-identifier hs-var">xconfig</span></a></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="hs-comment">-- | Convenience function for enabling Navigation2D with typical keybindings,</span><span>
</span><span id="line-421"></span><span class="hs-comment">-- using the syntax defined in 'XMonad.Util.EZConfig.mkKeymap'. Takes a</span><span>
</span><span id="line-422"></span><span class="hs-comment">-- Navigation2DConfig, an (up, left, down, right) tuple, a mapping from key</span><span>
</span><span id="line-423"></span><span class="hs-comment">-- prefix to action, and a bool to indicate if wrapping should occur, and</span><span>
</span><span id="line-424"></span><span class="hs-comment">-- returns a function from XConfig to XConfig. Example:</span><span>
</span><span id="line-425"></span><span class="hs-comment">--</span><span>
</span><span id="line-426"></span><span class="hs-comment">-- &gt;  navigation2DP def (&quot;w&quot;, &quot;a&quot;, &quot;s&quot;, &quot;d&quot;) [(&quot;M-&quot;, windowGo), (&quot;M-S-&quot;, windowSwap)] False myConfig</span><span>
</span><span id="line-427"></span><span id="local-6989586621679501924"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#navigation2DP"><span class="hs-identifier hs-type">navigation2DP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-428"></span><span>                 </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679501924"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679501924"><span class="hs-identifier hs-type">l</span></a></span></span><span>
</span><span id="line-429"></span><span id="navigation2DP"><span class="annot"><span class="annottext">navigation2DP :: forall (l :: * -&gt; *).
Navigation2DConfig
-&gt; (WorkspaceId, WorkspaceId, WorkspaceId, WorkspaceId)
-&gt; [(WorkspaceId, Direction2D -&gt; Bool -&gt; X ())]
-&gt; Bool
-&gt; XConfig l
-&gt; XConfig l
</span><a href="XMonad.Actions.Navigation2D.html#navigation2DP"><span class="hs-identifier hs-var hs-var">navigation2DP</span></a></span></span><span> </span><span id="local-6989586621679501483"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501483"><span class="hs-identifier hs-var">navConfig</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501482"><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501482"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501481"><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501481"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501480"><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501480"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501479"><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501479"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501478"><span class="annot"><span class="annottext">[(WorkspaceId, Direction2D -&gt; Bool -&gt; X ())]
</span><a href="#local-6989586621679501478"><span class="hs-identifier hs-var">modifiers</span></a></span></span><span> </span><span id="local-6989586621679501477"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501477"><span class="hs-identifier hs-var">wrap</span></a></span></span><span> </span><span id="local-6989586621679501476"><span class="annot"><span class="annottext">XConfig l
</span><a href="#local-6989586621679501476"><span class="hs-identifier hs-var">xconfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-430"></span><span>  </span><span class="annot"><span class="annottext">forall (l :: * -&gt; *).
(WorkspaceId, WorkspaceId, WorkspaceId, WorkspaceId)
-&gt; [(WorkspaceId, Direction2D -&gt; Bool -&gt; X ())]
-&gt; Bool
-&gt; XConfig l
-&gt; XConfig l
</span><a href="XMonad.Actions.Navigation2D.html#additionalNav2DKeysP"><span class="hs-identifier hs-var">additionalNav2DKeysP</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501482"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501481"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501480"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501479"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(WorkspaceId, Direction2D -&gt; Bool -&gt; X ())]
</span><a href="#local-6989586621679501478"><span class="hs-identifier hs-var">modifiers</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501477"><span class="hs-identifier hs-var">wrap</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-431"></span><span>  </span><span class="annot"><span class="annottext">forall (a :: * -&gt; *). Navigation2DConfig -&gt; XConfig a -&gt; XConfig a
</span><a href="XMonad.Actions.Navigation2D.html#withNavigation2DConfig"><span class="hs-identifier hs-var">withNavigation2DConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501483"><span class="hs-identifier hs-var">navConfig</span></a></span><span> </span><span class="annot"><span class="annottext">XConfig l
</span><a href="#local-6989586621679501476"><span class="hs-identifier hs-var">xconfig</span></a></span><span>
</span><span id="line-432"></span><span>
</span><span id="line-433"></span><span class="hs-comment">-- | Convenience function for adding keybindings. Takes an (up, left, down,</span><span>
</span><span id="line-434"></span><span class="hs-comment">-- right) tuple, a mapping from key prefix to action, and a bool to indicate if</span><span>
</span><span id="line-435"></span><span class="hs-comment">-- wrapping should occur, and returns a function from XConfig to XConfig.</span><span>
</span><span id="line-436"></span><span class="hs-comment">-- Example:</span><span>
</span><span id="line-437"></span><span class="hs-comment">--</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- &gt;  additionalNav2DKeys (xK_w, xK_a, xK_s, xK_d) [(mod4Mask, windowGo), (mod4Mask .|. shiftMask, windowSwap)] False myConfig</span><span>
</span><span id="line-439"></span><span id="local-6989586621679501926"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#additionalNav2DKeys"><span class="hs-identifier hs-type">additionalNav2DKeys</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">KeySym</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KeySym</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KeySym</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">KeySym</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ButtonMask</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-440"></span><span>                       </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679501926"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679501926"><span class="hs-identifier hs-type">l</span></a></span></span><span>
</span><span id="line-441"></span><span id="additionalNav2DKeys"><span class="annot"><span class="annottext">additionalNav2DKeys :: forall (l :: * -&gt; *).
(Window, Window, Window, Window)
-&gt; [(ButtonMask, Direction2D -&gt; Bool -&gt; X ())]
-&gt; Bool
-&gt; XConfig l
-&gt; XConfig l
</span><a href="XMonad.Actions.Navigation2D.html#additionalNav2DKeys"><span class="hs-identifier hs-var hs-var">additionalNav2DKeys</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501475"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501475"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501474"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501474"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501473"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501473"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501472"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501472"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501471"><span class="annot"><span class="annottext">[(ButtonMask, Direction2D -&gt; Bool -&gt; X ())]
</span><a href="#local-6989586621679501471"><span class="hs-identifier hs-var">modifiers</span></a></span></span><span> </span><span id="local-6989586621679501470"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501470"><span class="hs-identifier hs-var">wrap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-442"></span><span>  </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">forall (a :: * -&gt; *).
XConfig a -&gt; [((ButtonMask, Window), X ())] -&gt; XConfig a
</span><a href="XMonad.Util.EZConfig.html#additionalKeys"><span class="hs-identifier hs-var">additionalKeys</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">ButtonMask
</span><a href="#local-6989586621679501468"><span class="hs-identifier hs-var">modif</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501467"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D -&gt; Bool -&gt; X ()
</span><a href="#local-6989586621679501466"><span class="hs-identifier hs-var">func</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501465"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501470"><span class="hs-identifier hs-var">wrap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501468"><span class="annot"><span class="annottext">ButtonMask
</span><a href="#local-6989586621679501468"><span class="hs-identifier hs-var">modif</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501466"><span class="annot"><span class="annottext">Direction2D -&gt; Bool -&gt; X ()
</span><a href="#local-6989586621679501466"><span class="hs-identifier hs-var">func</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(ButtonMask, Direction2D -&gt; Bool -&gt; X ())]
</span><a href="#local-6989586621679501471"><span class="hs-identifier hs-var">modifiers</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501467"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501467"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501465"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501465"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Window, Direction2D)]
</span><a href="#local-6989586621679501464"><span class="hs-identifier hs-var">dirKeys</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-443"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679501464"><span class="annot"><span class="annottext">dirKeys :: [(Window, Direction2D)]
</span><a href="#local-6989586621679501464"><span class="hs-identifier hs-var hs-var">dirKeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501475"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#U"><span class="hs-identifier hs-var">U</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501474"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#L"><span class="hs-identifier hs-var">L</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501473"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#D"><span class="hs-identifier hs-var">D</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501472"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#R"><span class="hs-identifier hs-var">R</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="hs-comment">-- | Convenience function for adding keybindings, using the syntax defined in</span><span>
</span><span id="line-446"></span><span class="hs-comment">-- 'XMonad.Util.EZConfig.mkKeymap'. Takes an (up, left, down, right) tuple, a</span><span>
</span><span id="line-447"></span><span class="hs-comment">-- mapping from key prefix to action, and a bool to indicate if wrapping should</span><span>
</span><span id="line-448"></span><span class="hs-comment">-- occur, and returns a function from XConfig to XConfig. Example:</span><span>
</span><span id="line-449"></span><span class="hs-comment">--</span><span>
</span><span id="line-450"></span><span class="hs-comment">-- &gt;  additionalNav2DKeysP (&quot;w&quot;, &quot;a&quot;, &quot;s&quot;, &quot;d&quot;) [(&quot;M-&quot;, windowGo), (&quot;M-S-&quot;, windowSwap)] False myConfig</span><span>
</span><span id="line-451"></span><span id="local-6989586621679501922"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#additionalNav2DKeysP"><span class="hs-identifier hs-type">additionalNav2DKeysP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-452"></span><span>                        </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679501922"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679501922"><span class="hs-identifier hs-type">l</span></a></span></span><span>
</span><span id="line-453"></span><span id="additionalNav2DKeysP"><span class="annot"><span class="annottext">additionalNav2DKeysP :: forall (l :: * -&gt; *).
(WorkspaceId, WorkspaceId, WorkspaceId, WorkspaceId)
-&gt; [(WorkspaceId, Direction2D -&gt; Bool -&gt; X ())]
-&gt; Bool
-&gt; XConfig l
-&gt; XConfig l
</span><a href="XMonad.Actions.Navigation2D.html#additionalNav2DKeysP"><span class="hs-identifier hs-var hs-var">additionalNav2DKeysP</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501459"><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501459"><span class="hs-identifier hs-var">u</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501458"><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501458"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501457"><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501457"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501456"><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501456"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501455"><span class="annot"><span class="annottext">[(WorkspaceId, Direction2D -&gt; Bool -&gt; X ())]
</span><a href="#local-6989586621679501455"><span class="hs-identifier hs-var">modifiers</span></a></span></span><span> </span><span id="local-6989586621679501454"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501454"><span class="hs-identifier hs-var">wrap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-454"></span><span>  </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">forall (l :: * -&gt; *).
XConfig l -&gt; [(WorkspaceId, X ())] -&gt; XConfig l
</span><a href="XMonad.Util.EZConfig.html#additionalKeysP"><span class="hs-identifier hs-var">additionalKeysP</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501453"><span class="hs-identifier hs-var">modif</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501452"><span class="hs-identifier hs-var">k</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D -&gt; Bool -&gt; X ()
</span><a href="#local-6989586621679501451"><span class="hs-identifier hs-var">func</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501450"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501454"><span class="hs-identifier hs-var">wrap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501453"><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501453"><span class="hs-identifier hs-var">modif</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501451"><span class="annot"><span class="annottext">Direction2D -&gt; Bool -&gt; X ()
</span><a href="#local-6989586621679501451"><span class="hs-identifier hs-var">func</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(WorkspaceId, Direction2D -&gt; Bool -&gt; X ())]
</span><a href="#local-6989586621679501455"><span class="hs-identifier hs-var">modifiers</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501452"><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501452"><span class="hs-identifier hs-var">k</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501450"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501450"><span class="hs-identifier hs-var">dir</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(WorkspaceId, Direction2D)]
</span><a href="#local-6989586621679501449"><span class="hs-identifier hs-var">dirKeys</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-455"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679501449"><span class="annot"><span class="annottext">dirKeys :: [(WorkspaceId, Direction2D)]
</span><a href="#local-6989586621679501449"><span class="hs-identifier hs-var hs-var">dirKeys</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501459"><span class="hs-identifier hs-var">u</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#U"><span class="hs-identifier hs-var">U</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501458"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#L"><span class="hs-identifier hs-var">L</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501457"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#D"><span class="hs-identifier hs-var">D</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501456"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#R"><span class="hs-identifier hs-var">R</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="hs-comment">-- So we can store the configuration in extensible state</span><span>
</span><span id="line-458"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679501444"><span class="annot"><span class="hs-identifier hs-type">ExtensionClass</span></span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-459"></span><span>  </span><span id="local-6989586621679501440"><span class="annot"><span class="annottext">initialValue :: Navigation2DConfig
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">initialValue</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span class="hs-comment">-- | Modifies the xmonad configuration to store the Navigation2D configuration</span><span>
</span><span id="line-462"></span><span id="local-6989586621679501925"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#withNavigation2DConfig"><span class="hs-identifier hs-type">withNavigation2DConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679501925"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679501925"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-463"></span><span id="withNavigation2DConfig"><span class="annot"><span class="annottext">withNavigation2DConfig :: forall (a :: * -&gt; *). Navigation2DConfig -&gt; XConfig a -&gt; XConfig a
</span><a href="XMonad.Actions.Navigation2D.html#withNavigation2DConfig"><span class="hs-identifier hs-var hs-var">withNavigation2DConfig</span></a></span></span><span> </span><span id="local-6989586621679501435"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501435"><span class="hs-identifier hs-var">conf2d</span></a></span></span><span> </span><span id="local-6989586621679501434"><span class="annot"><span class="annottext">XConfig a
</span><a href="#local-6989586621679501434"><span class="hs-identifier hs-var">xconf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XConfig a
</span><a href="#local-6989586621679501434"><span class="hs-identifier hs-var">xconf</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">startupHook :: X ()
</span><span class="hs-identifier hs-var">startupHook</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (l :: * -&gt; *). XConfig l -&gt; X ()
</span><span class="hs-identifier hs-var">startupHook</span></span><span> </span><span class="annot"><span class="annottext">XConfig a
</span><a href="#local-6989586621679501434"><span class="hs-identifier hs-var">xconf</span></a></span><span>
</span><span id="line-464"></span><span>                                                          </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a (m :: * -&gt; *). (ExtensionClass a, XLike m) =&gt; a -&gt; m ()
</span><a href="XMonad.Util.ExtensibleState.html#put"><span class="hs-identifier hs-var">XS.put</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501435"><span class="hs-identifier hs-var">conf2d</span></a></span><span>
</span><span id="line-465"></span><span>                                            </span><span class="hs-special">}</span><span>
</span><span id="line-466"></span><span>
</span><span id="line-467"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-468"></span><span>    </span><span id="local-6989586621679501429"><span class="annot"><span class="annottext">def :: Navigation2DConfig
</span><a href="#local-6989586621679501429"><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></a></span></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">defaultTiledNavigation :: Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#defaultTiledNavigation"><span class="hs-identifier hs-var">defaultTiledNavigation</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Navigation2D -&gt; Navigation2D -&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#hybridOf"><span class="hs-identifier hs-var">hybridOf</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#lineNavigation"><span class="hs-identifier hs-var">lineNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#sideNavigation"><span class="hs-identifier hs-var">sideNavigation</span></a></span><span>
</span><span id="line-469"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">floatNavigation :: Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#floatNavigation"><span class="hs-identifier hs-var">floatNavigation</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#centerNavigation"><span class="hs-identifier hs-var">centerNavigation</span></a></span><span>
</span><span id="line-470"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">screenNavigation :: Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#screenNavigation"><span class="hs-identifier hs-var">screenNavigation</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#lineNavigation"><span class="hs-identifier hs-var">lineNavigation</span></a></span><span>
</span><span id="line-471"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">layoutNavigation :: [(WorkspaceId, Navigation2D)]
</span><a href="XMonad.Actions.Navigation2D.html#layoutNavigation"><span class="hs-identifier hs-var">layoutNavigation</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-472"></span><span>                                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">unmappedWindowRect :: [(WorkspaceId, Screen -&gt; Window -&gt; X (Maybe Rectangle))]
</span><a href="XMonad.Actions.Navigation2D.html#unmappedWindowRect"><span class="hs-identifier hs-var">unmappedWindowRect</span></a></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-473"></span><span>                                               </span><span class="hs-special">}</span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span class="hs-comment">-- | Switches focus to the closest window in the other layer (floating if the</span><span>
</span><span id="line-476"></span><span class="hs-comment">-- current window is tiled, tiled if the current window is floating).  Closest</span><span>
</span><span id="line-477"></span><span class="hs-comment">-- means that the L1-distance between the centers of the windows is minimized.</span><span>
</span><span id="line-478"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#switchLayer"><span class="hs-identifier hs-type">switchLayer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-479"></span><span id="switchLayer"><span class="annot"><span class="annottext">switchLayer :: X ()
</span><a href="XMonad.Actions.Navigation2D.html#switchLayer"><span class="hs-identifier hs-var hs-var">switchLayer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([WinRect] -&gt; [WinRect] -&gt; [WinRect])
-&gt; (Navigation2DConfig -&gt; WinRect -&gt; [WinRect] -&gt; X ())
-&gt; (Navigation2DConfig -&gt; WinRect -&gt; [WinRect] -&gt; X ())
-&gt; (Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ())
-&gt; Bool
-&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#actOnLayer"><span class="hs-identifier hs-var">actOnLayer</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a -&gt; a
</span><a href="XMonad.Actions.Navigation2D.html#otherLayer"><span class="hs-identifier hs-var">otherLayer</span></a></span><span>
</span><span id="line-480"></span><span>                         </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679501426"><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501426"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501425"><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501425"><span class="hs-identifier hs-var">wins</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; WindowSet) -&gt; X ()
</span><span class="hs-identifier hs-var">windows</span></span><span>
</span><span id="line-481"></span><span>                           </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WinRect -&gt; [WinRect] -&gt; WindowSet -&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doFocusClosestWindow"><span class="hs-identifier hs-var">doFocusClosestWindow</span></a></span><span> </span><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501426"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501425"><span class="hs-identifier hs-var">wins</span></a></span><span>
</span><span id="line-482"></span><span>                         </span><span class="hs-special">)</span><span>
</span><span id="line-483"></span><span>                         </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679501422"><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501422"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501421"><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501421"><span class="hs-identifier hs-var">wins</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; WindowSet) -&gt; X ()
</span><span class="hs-identifier hs-var">windows</span></span><span>
</span><span id="line-484"></span><span>                           </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WinRect -&gt; [WinRect] -&gt; WindowSet -&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doFocusClosestWindow"><span class="hs-identifier hs-var">doFocusClosestWindow</span></a></span><span> </span><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501422"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501421"><span class="hs-identifier hs-var">wins</span></a></span><span>
</span><span id="line-485"></span><span>                         </span><span class="hs-special">)</span><span>
</span><span id="line-486"></span><span>                         </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">WSRect
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[WSRect]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-487"></span><span>                         </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-488"></span><span>
</span><span id="line-489"></span><span class="hs-comment">-- | Moves the focus to the next window in the given direction and in the same</span><span>
</span><span id="line-490"></span><span class="hs-comment">-- layer as the current window.  The second argument indicates whether</span><span>
</span><span id="line-491"></span><span class="hs-comment">-- navigation should wrap around (e.g., from the left edge of the leftmost</span><span>
</span><span id="line-492"></span><span class="hs-comment">-- screen to the right edge of the rightmost screen).</span><span>
</span><span id="line-493"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#windowGo"><span class="hs-identifier hs-type">windowGo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span id="windowGo"><span class="annot"><span class="annottext">windowGo :: Direction2D -&gt; Bool -&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#windowGo"><span class="hs-identifier hs-var hs-var">windowGo</span></a></span></span><span> </span><span id="local-6989586621679501420"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501420"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([WinRect] -&gt; [WinRect] -&gt; [WinRect])
-&gt; (Navigation2DConfig -&gt; WinRect -&gt; [WinRect] -&gt; X ())
-&gt; (Navigation2DConfig -&gt; WinRect -&gt; [WinRect] -&gt; X ())
-&gt; (Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ())
-&gt; Bool
-&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#actOnLayer"><span class="hs-identifier hs-var">actOnLayer</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a -&gt; a
</span><a href="XMonad.Actions.Navigation2D.html#thisLayer"><span class="hs-identifier hs-var">thisLayer</span></a></span><span>
</span><span id="line-495"></span><span>                               </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679501418"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501418"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621679501417"><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501417"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501416"><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501416"><span class="hs-identifier hs-var">wins</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; WindowSet) -&gt; X ()
</span><span class="hs-identifier hs-var">windows</span></span><span>
</span><span id="line-496"></span><span>                                 </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
-&gt; Direction2D
-&gt; (Window -&gt; WindowSet -&gt; WindowSet)
-&gt; WinRect
-&gt; [WinRect]
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doTiledNavigation"><span class="hs-identifier hs-var">doTiledNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501418"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501420"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall s a i l sd.
(Eq s, Eq a, Eq i) =&gt;
a -&gt; StackSet i l a s sd -&gt; StackSet i l a s sd
</span><span class="hs-identifier hs-var">W.focusWindow</span></span><span> </span><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501417"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501416"><span class="hs-identifier hs-var">wins</span></a></span><span>
</span><span id="line-497"></span><span>                               </span><span class="hs-special">)</span><span>
</span><span id="line-498"></span><span>                               </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679501413"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501413"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621679501412"><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501412"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501411"><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501411"><span class="hs-identifier hs-var">wins</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; WindowSet) -&gt; X ()
</span><span class="hs-identifier hs-var">windows</span></span><span>
</span><span id="line-499"></span><span>                                 </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
-&gt; Direction2D
-&gt; (Window -&gt; WindowSet -&gt; WindowSet)
-&gt; WinRect
-&gt; [WinRect]
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doFloatNavigation"><span class="hs-identifier hs-var">doFloatNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501413"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501420"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall s a i l sd.
(Eq s, Eq a, Eq i) =&gt;
a -&gt; StackSet i l a s sd -&gt; StackSet i l a s sd
</span><span class="hs-identifier hs-var">W.focusWindow</span></span><span> </span><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501412"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501411"><span class="hs-identifier hs-var">wins</span></a></span><span>
</span><span id="line-500"></span><span>                               </span><span class="hs-special">)</span><span>
</span><span id="line-501"></span><span>                               </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679501409"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501409"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621679501408"><span class="annot"><span class="annottext">WSRect
</span><a href="#local-6989586621679501408"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501407"><span class="annot"><span class="annottext">[WSRect]
</span><a href="#local-6989586621679501407"><span class="hs-identifier hs-var">wspcs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; WindowSet) -&gt; X ()
</span><span class="hs-identifier hs-var">windows</span></span><span>
</span><span id="line-502"></span><span>                                 </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
-&gt; Direction2D
-&gt; (WorkspaceId -&gt; WindowSet -&gt; WindowSet)
-&gt; WSRect
-&gt; [WSRect]
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doScreenNavigation"><span class="hs-identifier hs-var">doScreenNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501409"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501420"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall s i l a sd.
(Eq s, Eq i) =&gt;
i -&gt; StackSet i l a s sd -&gt; StackSet i l a s sd
</span><span class="hs-identifier hs-var">W.view</span></span><span> </span><span class="annot"><span class="annottext">WSRect
</span><a href="#local-6989586621679501408"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WSRect]
</span><a href="#local-6989586621679501407"><span class="hs-identifier hs-var">wspcs</span></a></span><span>
</span><span id="line-503"></span><span>                               </span><span class="hs-special">)</span><span>
</span><span id="line-504"></span><span>
</span><span id="line-505"></span><span class="hs-comment">-- | Swaps the current window with the next window in the given direction and in</span><span>
</span><span id="line-506"></span><span class="hs-comment">-- the same layer as the current window.  (In the floating layer, all that</span><span>
</span><span id="line-507"></span><span class="hs-comment">-- changes for the two windows is their stacking order if they're on the same</span><span>
</span><span id="line-508"></span><span class="hs-comment">-- screen.  If they're on different screens, each window is moved to the other</span><span>
</span><span id="line-509"></span><span class="hs-comment">-- window's screen but retains its position and size relative to the screen.)</span><span>
</span><span id="line-510"></span><span class="hs-comment">-- The second argument indicates wrapping (see 'windowGo').</span><span>
</span><span id="line-511"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#windowSwap"><span class="hs-identifier hs-type">windowSwap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-512"></span><span id="windowSwap"><span class="annot"><span class="annottext">windowSwap :: Direction2D -&gt; Bool -&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#windowSwap"><span class="hs-identifier hs-var hs-var">windowSwap</span></a></span></span><span> </span><span id="local-6989586621679501404"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501404"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([WinRect] -&gt; [WinRect] -&gt; [WinRect])
-&gt; (Navigation2DConfig -&gt; WinRect -&gt; [WinRect] -&gt; X ())
-&gt; (Navigation2DConfig -&gt; WinRect -&gt; [WinRect] -&gt; X ())
-&gt; (Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ())
-&gt; Bool
-&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#actOnLayer"><span class="hs-identifier hs-var">actOnLayer</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a -&gt; a
</span><a href="XMonad.Actions.Navigation2D.html#thisLayer"><span class="hs-identifier hs-var">thisLayer</span></a></span><span>
</span><span id="line-513"></span><span>                                 </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679501403"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501403"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621679501402"><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501402"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501401"><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501401"><span class="hs-identifier hs-var">wins</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; WindowSet) -&gt; X ()
</span><span class="hs-identifier hs-var">windows</span></span><span>
</span><span id="line-514"></span><span>                                   </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
-&gt; Direction2D
-&gt; (Window -&gt; WindowSet -&gt; WindowSet)
-&gt; WinRect
-&gt; [WinRect]
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doTiledNavigation"><span class="hs-identifier hs-var">doTiledNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501403"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501404"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">Window -&gt; WindowSet -&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#swap"><span class="hs-identifier hs-var">swap</span></a></span><span> </span><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501402"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501401"><span class="hs-identifier hs-var">wins</span></a></span><span>
</span><span id="line-515"></span><span>                                 </span><span class="hs-special">)</span><span>
</span><span id="line-516"></span><span>                                 </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679501399"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501399"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621679501398"><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501398"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501397"><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501397"><span class="hs-identifier hs-var">wins</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; WindowSet) -&gt; X ()
</span><span class="hs-identifier hs-var">windows</span></span><span>
</span><span id="line-517"></span><span>                                   </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
-&gt; Direction2D
-&gt; (Window -&gt; WindowSet -&gt; WindowSet)
-&gt; WinRect
-&gt; [WinRect]
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doFloatNavigation"><span class="hs-identifier hs-var">doFloatNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501399"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501404"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">Window -&gt; WindowSet -&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#swap"><span class="hs-identifier hs-var">swap</span></a></span><span> </span><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501398"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501397"><span class="hs-identifier hs-var">wins</span></a></span><span>
</span><span id="line-518"></span><span>                                 </span><span class="hs-special">)</span><span>
</span><span id="line-519"></span><span>                                 </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">WSRect
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[WSRect]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-520"></span><span>
</span><span id="line-521"></span><span class="hs-comment">-- | Moves the current window to the next screen in the given direction.  The</span><span>
</span><span id="line-522"></span><span class="hs-comment">-- second argument indicates wrapping (see 'windowGo').</span><span>
</span><span id="line-523"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#windowToScreen"><span class="hs-identifier hs-type">windowToScreen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-524"></span><span id="windowToScreen"><span class="annot"><span class="annottext">windowToScreen :: Direction2D -&gt; Bool -&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#windowToScreen"><span class="hs-identifier hs-var hs-var">windowToScreen</span></a></span></span><span> </span><span id="local-6989586621679501396"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501396"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ()) -&gt; Bool -&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#actOnScreens"><span class="hs-identifier hs-var">actOnScreens</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679501394"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501394"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621679501393"><span class="annot"><span class="annottext">WSRect
</span><a href="#local-6989586621679501393"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501392"><span class="annot"><span class="annottext">[WSRect]
</span><a href="#local-6989586621679501392"><span class="hs-identifier hs-var">wspcs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; WindowSet) -&gt; X ()
</span><span class="hs-identifier hs-var">windows</span></span><span>
</span><span id="line-525"></span><span>                                         </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
-&gt; Direction2D
-&gt; (WorkspaceId -&gt; WindowSet -&gt; WindowSet)
-&gt; WSRect
-&gt; [WSRect]
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doScreenNavigation"><span class="hs-identifier hs-var">doScreenNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501394"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501396"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a s i l sd.
(Ord a, Eq s, Eq i) =&gt;
i -&gt; StackSet i l a s sd -&gt; StackSet i l a s sd
</span><span class="hs-identifier hs-var">W.shift</span></span><span> </span><span class="annot"><span class="annottext">WSRect
</span><a href="#local-6989586621679501393"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WSRect]
</span><a href="#local-6989586621679501392"><span class="hs-identifier hs-var">wspcs</span></a></span><span>
</span><span id="line-526"></span><span>                                       </span><span class="hs-special">)</span><span>
</span><span id="line-527"></span><span>
</span><span id="line-528"></span><span class="hs-comment">-- | Moves the focus to the next screen in the given direction.  The second</span><span>
</span><span id="line-529"></span><span class="hs-comment">-- argument indicates wrapping (see 'windowGo').</span><span>
</span><span id="line-530"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#screenGo"><span class="hs-identifier hs-type">screenGo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-531"></span><span id="screenGo"><span class="annot"><span class="annottext">screenGo :: Direction2D -&gt; Bool -&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#screenGo"><span class="hs-identifier hs-var hs-var">screenGo</span></a></span></span><span> </span><span id="local-6989586621679501390"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501390"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ()) -&gt; Bool -&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#actOnScreens"><span class="hs-identifier hs-var">actOnScreens</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679501389"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501389"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621679501388"><span class="annot"><span class="annottext">WSRect
</span><a href="#local-6989586621679501388"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501387"><span class="annot"><span class="annottext">[WSRect]
</span><a href="#local-6989586621679501387"><span class="hs-identifier hs-var">wspcs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; WindowSet) -&gt; X ()
</span><span class="hs-identifier hs-var">windows</span></span><span>
</span><span id="line-532"></span><span>                                   </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
-&gt; Direction2D
-&gt; (WorkspaceId -&gt; WindowSet -&gt; WindowSet)
-&gt; WSRect
-&gt; [WSRect]
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doScreenNavigation"><span class="hs-identifier hs-var">doScreenNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501389"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501390"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall s i l a sd.
(Eq s, Eq i) =&gt;
i -&gt; StackSet i l a s sd -&gt; StackSet i l a s sd
</span><span class="hs-identifier hs-var">W.view</span></span><span> </span><span class="annot"><span class="annottext">WSRect
</span><a href="#local-6989586621679501388"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WSRect]
</span><a href="#local-6989586621679501387"><span class="hs-identifier hs-var">wspcs</span></a></span><span>
</span><span id="line-533"></span><span>                                 </span><span class="hs-special">)</span><span>
</span><span id="line-534"></span><span>
</span><span id="line-535"></span><span class="hs-comment">-- | Swaps the workspace on the current screen with the workspace on the screen</span><span>
</span><span id="line-536"></span><span class="hs-comment">-- in the given direction.  The second argument indicates wrapping (see</span><span>
</span><span id="line-537"></span><span class="hs-comment">-- 'windowGo').</span><span>
</span><span id="line-538"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#screenSwap"><span class="hs-identifier hs-type">screenSwap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-539"></span><span id="screenSwap"><span class="annot"><span class="annottext">screenSwap :: Direction2D -&gt; Bool -&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#screenSwap"><span class="hs-identifier hs-var hs-var">screenSwap</span></a></span></span><span> </span><span id="local-6989586621679501386"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501386"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ()) -&gt; Bool -&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#actOnScreens"><span class="hs-identifier hs-var">actOnScreens</span></a></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span> </span><span id="local-6989586621679501385"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501385"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621679501384"><span class="annot"><span class="annottext">WSRect
</span><a href="#local-6989586621679501384"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501383"><span class="annot"><span class="annottext">[WSRect]
</span><a href="#local-6989586621679501383"><span class="hs-identifier hs-var">wspcs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; WindowSet) -&gt; X ()
</span><span class="hs-identifier hs-var">windows</span></span><span>
</span><span id="line-540"></span><span>                                     </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
-&gt; Direction2D
-&gt; (WorkspaceId -&gt; WindowSet -&gt; WindowSet)
-&gt; WSRect
-&gt; [WSRect]
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doScreenNavigation"><span class="hs-identifier hs-var">doScreenNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501385"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501386"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall s i l a sd.
(Eq s, Eq i) =&gt;
i -&gt; StackSet i l a s sd -&gt; StackSet i l a s sd
</span><span class="hs-identifier hs-var">W.greedyView</span></span><span> </span><span class="annot"><span class="annottext">WSRect
</span><a href="#local-6989586621679501384"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WSRect]
</span><a href="#local-6989586621679501383"><span class="hs-identifier hs-var">wspcs</span></a></span><span>
</span><span id="line-541"></span><span>                                   </span><span class="hs-special">)</span><span>
</span><span id="line-542"></span><span>
</span><span id="line-543"></span><span class="hs-comment">-- | Maps each window to a fullscreen rect.  This may not be the same rectangle the</span><span>
</span><span id="line-544"></span><span class="hs-comment">-- window maps to under the Full layout or a similar layout if the layout</span><span>
</span><span id="line-545"></span><span class="hs-comment">-- respects statusbar struts.  In such cases, it may be better to use</span><span>
</span><span id="line-546"></span><span class="hs-comment">-- 'singleWindowRect'.</span><span>
</span><span id="line-547"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#fullScreenRect"><span class="hs-identifier hs-type">fullScreenRect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Screen"><span class="hs-identifier hs-type">Screen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rectangle</span></span><span class="hs-special">)</span><span>
</span><span id="line-548"></span><span id="fullScreenRect"><span class="annot"><span class="annottext">fullScreenRect :: Screen -&gt; Window -&gt; X (Maybe Rectangle)
</span><a href="XMonad.Actions.Navigation2D.html#fullScreenRect"><span class="hs-identifier hs-var hs-var">fullScreenRect</span></a></span></span><span> </span><span id="local-6989586621679501381"><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679501381"><span class="hs-identifier hs-var">scr</span></a></span></span><span> </span><span class="annot"><span class="annottext">Window
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ScreenDetail -&gt; Rectangle
</span><span class="hs-identifier hs-var">screenRect</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; sd
</span><span class="hs-identifier hs-var">W.screenDetail</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679501381"><span class="hs-identifier hs-var">scr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-549"></span><span>
</span><span id="line-550"></span><span class="hs-comment">-- | Maps each window to the rectangle it would receive if it was the only</span><span>
</span><span id="line-551"></span><span class="hs-comment">-- window in the layout.  Useful, for example, for determining the default</span><span>
</span><span id="line-552"></span><span class="hs-comment">-- rectangle for unmapped windows in a Full layout that respects statusbar</span><span>
</span><span id="line-553"></span><span class="hs-comment">-- struts.</span><span>
</span><span id="line-554"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#singleWindowRect"><span class="hs-identifier hs-type">singleWindowRect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Screen"><span class="hs-identifier hs-type">Screen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rectangle</span></span><span class="hs-special">)</span><span>
</span><span id="line-555"></span><span id="singleWindowRect"><span class="annot"><span class="annottext">singleWindowRect :: Screen -&gt; Window -&gt; X (Maybe Rectangle)
</span><a href="XMonad.Actions.Navigation2D.html#singleWindowRect"><span class="hs-identifier hs-var hs-var">singleWindowRect</span></a></span></span><span> </span><span id="local-6989586621679501377"><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679501377"><span class="hs-identifier hs-var">scr</span></a></span></span><span> </span><span id="local-6989586621679501376"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501376"><span class="hs-identifier hs-var">win</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">forall a. [a] -&gt; Maybe a
</span><span class="hs-identifier hs-var">listToMaybe</span></span><span>
</span><span id="line-556"></span><span>                          </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>  </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span>
</span><span id="line-557"></span><span>                          </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>  </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span>
</span><span id="line-558"></span><span>                         </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (layout :: * -&gt; *) a.
LayoutClass layout a =&gt;
Workspace WorkspaceId (layout a) a
-&gt; Rectangle -&gt; X ([(a, Rectangle)], Maybe (layout a))
</span><span class="hs-identifier hs-var">runLayout</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; Workspace i l a
</span><span class="hs-identifier hs-var">W.workspace</span></span><span> </span><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679501377"><span class="hs-identifier hs-var">scr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">stack :: Maybe (Stack Window)
</span><span class="hs-identifier hs-var">W.stack</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; Maybe (Stack a)
</span><span class="hs-identifier hs-var">W.differentiate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501376"><span class="hs-identifier hs-var">win</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-559"></span><span>                                       </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScreenDetail -&gt; Rectangle
</span><span class="hs-identifier hs-var">screenRect</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; sd
</span><span class="hs-identifier hs-var">W.screenDetail</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679501377"><span class="hs-identifier hs-var">scr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-560"></span><span>
</span><span id="line-561"></span><span class="hs-comment">----------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-562"></span><span class="hs-comment">----------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-563"></span><span class="hs-comment">--                                                                                                --</span><span>
</span><span id="line-564"></span><span class="hs-comment">--                                       PRIVATE X ACTIONS                                        --</span><span>
</span><span id="line-565"></span><span class="hs-comment">--                                                                                                --</span><span>
</span><span id="line-566"></span><span class="hs-comment">----------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-567"></span><span class="hs-comment">----------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-568"></span><span>
</span><span id="line-569"></span><span class="hs-comment">-- | Acts on the appropriate layer using the given action functions</span><span>
</span><span id="line-570"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#actOnLayer"><span class="hs-identifier hs-type">actOnLayer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>                </span><span class="hs-comment">-- ^ Chooses which layer to operate on, relative</span><span>
</span><span id="line-571"></span><span>                                                                   </span><span class="hs-comment">-- to the current window (same or other layer)</span><span>
</span><span id="line-572"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ The action for the tiled layer</span><span>
</span><span id="line-573"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ The action for the float layer</span><span>
</span><span id="line-574"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WSRect"><span class="hs-identifier hs-type">WSRect</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WSRect"><span class="hs-identifier hs-type">WSRect</span></a></span><span class="hs-special">]</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ The action if the current workspace is empty</span><span>
</span><span id="line-575"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>                                                 </span><span class="hs-comment">-- ^ Should navigation wrap around screen edges?</span><span>
</span><span id="line-576"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-577"></span><span id="actOnLayer"><span class="annot"><span class="annottext">actOnLayer :: ([WinRect] -&gt; [WinRect] -&gt; [WinRect])
-&gt; (Navigation2DConfig -&gt; WinRect -&gt; [WinRect] -&gt; X ())
-&gt; (Navigation2DConfig -&gt; WinRect -&gt; [WinRect] -&gt; X ())
-&gt; (Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ())
-&gt; Bool
-&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#actOnLayer"><span class="hs-identifier hs-var hs-var">actOnLayer</span></a></span></span><span> </span><span id="local-6989586621679501369"><span class="annot"><span class="annottext">[WinRect] -&gt; [WinRect] -&gt; [WinRect]
</span><a href="#local-6989586621679501369"><span class="hs-identifier hs-var">choice</span></a></span></span><span> </span><span id="local-6989586621679501368"><span class="annot"><span class="annottext">Navigation2DConfig -&gt; WinRect -&gt; [WinRect] -&gt; X ()
</span><a href="#local-6989586621679501368"><span class="hs-identifier hs-var">tiledact</span></a></span></span><span> </span><span id="local-6989586621679501367"><span class="annot"><span class="annottext">Navigation2DConfig -&gt; WinRect -&gt; [WinRect] -&gt; X ()
</span><a href="#local-6989586621679501367"><span class="hs-identifier hs-var">floatact</span></a></span></span><span> </span><span id="local-6989586621679501366"><span class="annot"><span class="annottext">Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ()
</span><a href="#local-6989586621679501366"><span class="hs-identifier hs-var">wsact</span></a></span></span><span> </span><span id="local-6989586621679501365"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501365"><span class="hs-identifier hs-var">wrap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (WindowSet -&gt; X a) -&gt; X a
</span><span class="hs-identifier hs-var">withWindowSet</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679501363"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501363"><span class="hs-identifier hs-var">winset</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-578"></span><span>  </span><span id="local-6989586621679501362"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501362"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a (m :: * -&gt; *). (ExtensionClass a, XLike m) =&gt; m a
</span><a href="XMonad.Util.ExtensibleState.html#get"><span class="hs-identifier hs-var">XS.get</span></a></span><span>
</span><span id="line-579"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621679501360"><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501360"><span class="hs-identifier hs-var">floating</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501359"><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501359"><span class="hs-identifier hs-var">tiled</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig -&gt; Bool -&gt; WindowSet -&gt; X ([WinRect], [WinRect])
</span><a href="XMonad.Actions.Navigation2D.html#navigableWindows"><span class="hs-identifier hs-var">navigableWindows</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501362"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501365"><span class="hs-identifier hs-var">wrap</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501363"><span class="hs-identifier hs-var">winset</span></a></span><span>
</span><span id="line-580"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679501357"><span class="annot"><span class="annottext">cur :: Maybe Window
</span><a href="#local-6989586621679501357"><span class="hs-identifier hs-var hs-var">cur</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall i l a s sd. StackSet i l a s sd -&gt; Maybe a
</span><span class="hs-identifier hs-var">W.peek</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501363"><span class="hs-identifier hs-var">winset</span></a></span><span>
</span><span id="line-581"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Window
</span><a href="#local-6989586621679501357"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-582"></span><span>    </span><span class="annot"><span class="annottext">Maybe Window
</span><span class="hs-identifier hs-var">Nothing</span></span><span>                                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ()) -&gt; Bool -&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#actOnScreens"><span class="hs-identifier hs-var">actOnScreens</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ()
</span><a href="#local-6989586621679501366"><span class="hs-identifier hs-var">wsact</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501365"><span class="hs-identifier hs-var">wrap</span></a></span><span>
</span><span id="line-583"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679501355"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501355"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679501354"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501354"><span class="hs-identifier hs-var">rect</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-identifier hs-var">L.lookup</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501355"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501359"><span class="hs-identifier hs-var">tiled</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig -&gt; WinRect -&gt; [WinRect] -&gt; X ()
</span><a href="#local-6989586621679501368"><span class="hs-identifier hs-var">tiledact</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501362"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501355"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501354"><span class="hs-identifier hs-var">rect</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[WinRect] -&gt; [WinRect] -&gt; [WinRect]
</span><a href="#local-6989586621679501369"><span class="hs-identifier hs-var">choice</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501359"><span class="hs-identifier hs-var">tiled</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501360"><span class="hs-identifier hs-var">floating</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-584"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679501352"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501352"><span class="hs-identifier hs-var">rect</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-identifier hs-var">L.lookup</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501355"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501360"><span class="hs-identifier hs-var">floating</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig -&gt; WinRect -&gt; [WinRect] -&gt; X ()
</span><a href="#local-6989586621679501367"><span class="hs-identifier hs-var">floatact</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501362"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501355"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501352"><span class="hs-identifier hs-var">rect</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[WinRect] -&gt; [WinRect] -&gt; [WinRect]
</span><a href="#local-6989586621679501369"><span class="hs-identifier hs-var">choice</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501360"><span class="hs-identifier hs-var">floating</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501359"><span class="hs-identifier hs-var">tiled</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-585"></span><span>           </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-586"></span><span>
</span><span id="line-587"></span><span class="hs-comment">-- | Returns the list of windows on the currently visible workspaces</span><span>
</span><span id="line-588"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#navigableWindows"><span class="hs-identifier hs-type">navigableWindows</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-589"></span><span id="navigableWindows"><span class="annot"><span class="annottext">navigableWindows :: Navigation2DConfig -&gt; Bool -&gt; WindowSet -&gt; X ([WinRect], [WinRect])
</span><a href="XMonad.Actions.Navigation2D.html#navigableWindows"><span class="hs-identifier hs-var hs-var">navigableWindows</span></a></span></span><span> </span><span id="local-6989586621679501351"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501351"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621679501350"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501350"><span class="hs-identifier hs-var">wrap</span></a></span></span><span> </span><span id="local-6989586621679501349"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501349"><span class="hs-identifier hs-var">winset</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">L.partition</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621679501347"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501347"><span class="hs-identifier hs-var">win</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Bool
</span><span class="hs-identifier hs-var">M.member</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501347"><span class="hs-identifier hs-var">win</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall i l a sid sd. StackSet i l a sid sd -&gt; Map a RationalRect
</span><span class="hs-identifier hs-var">W.floating</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501349"><span class="hs-identifier hs-var">winset</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-590"></span><span>                                   </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>  </span><span class="annot"><span class="annottext">forall a. WindowSet -&gt; Bool -&gt; [Rect a] -&gt; [Rect a]
</span><a href="XMonad.Actions.Navigation2D.html#addWrapping"><span class="hs-identifier hs-var">addWrapping</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501349"><span class="hs-identifier hs-var">winset</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501350"><span class="hs-identifier hs-var">wrap</span></a></span><span>
</span><span id="line-591"></span><span>                                   </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>  </span><span class="annot"><span class="annottext">forall a. [Maybe a] -&gt; [a]
</span><span class="hs-identifier hs-var">catMaybes</span></span><span>
</span><span id="line-592"></span><span>                                   </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>  </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span>
</span><span id="line-593"></span><span>                                  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span>
</span><span id="line-594"></span><span>                                   </span><span class="hs-special">(</span><span>  </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679501340"><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679501340"><span class="hs-identifier hs-var">scr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Traversable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m (t b)
</span><span class="hs-identifier hs-var">mapM</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Screen -&gt; Window -&gt; X (Maybe WinRect)
</span><a href="#local-6989586621679501339"><span class="hs-identifier hs-var">maybeWinRect</span></a></span><span> </span><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679501340"><span class="hs-identifier hs-var">scr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-595"></span><span>                                                   </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe (Stack a) -&gt; [a]
</span><span class="hs-identifier hs-var">W.integrate'</span></span><span>
</span><span id="line-596"></span><span>                                                   </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall i l a. Workspace i l a -&gt; Maybe (Stack a)
</span><span class="hs-identifier hs-var">W.stack</span></span><span>
</span><span id="line-597"></span><span>                                                   </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; Workspace i l a
</span><span class="hs-identifier hs-var">W.workspace</span></span><span> </span><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679501340"><span class="hs-identifier hs-var">scr</span></a></span><span>
</span><span id="line-598"></span><span>                                           </span><span class="hs-special">)</span><span>
</span><span id="line-599"></span><span>                                   </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>  </span><span class="annot"><span class="annottext">WindowSet -&gt; [Screen]
</span><a href="XMonad.Actions.Navigation2D.html#sortedScreens"><span class="hs-identifier hs-var">sortedScreens</span></a></span><span>
</span><span id="line-600"></span><span>                                   </span><span class="hs-special">)</span><span>  </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501349"><span class="hs-identifier hs-var">winset</span></a></span><span>
</span><span id="line-601"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-602"></span><span>    </span><span id="local-6989586621679501339"><span class="annot"><span class="annottext">maybeWinRect :: Screen -&gt; Window -&gt; X (Maybe WinRect)
</span><a href="#local-6989586621679501339"><span class="hs-identifier hs-var hs-var">maybeWinRect</span></a></span></span><span> </span><span id="local-6989586621679501326"><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679501326"><span class="hs-identifier hs-var">scr</span></a></span></span><span> </span><span id="local-6989586621679501325"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501325"><span class="hs-identifier hs-var">win</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-603"></span><span>      </span><span id="local-6989586621679501324"><span class="annot"><span class="annottext">Maybe Rectangle
</span><a href="#local-6989586621679501324"><span class="hs-identifier hs-var">winrect</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Window -&gt; X (Maybe Rectangle)
</span><a href="XMonad.Actions.Navigation2D.html#windowRect"><span class="hs-identifier hs-var">windowRect</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501325"><span class="hs-identifier hs-var">win</span></a></span><span>
</span><span id="line-604"></span><span>      </span><span id="local-6989586621679501322"><span class="annot"><span class="annottext">Maybe Rectangle
</span><a href="#local-6989586621679501322"><span class="hs-identifier hs-var">rect</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Rectangle
</span><a href="#local-6989586621679501324"><span class="hs-identifier hs-var">winrect</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-605"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><span class="hs-identifier">_</span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe Rectangle
</span><a href="#local-6989586621679501324"><span class="hs-identifier hs-var">winrect</span></a></span><span>
</span><span id="line-606"></span><span>                </span><span class="annot"><span class="annottext">Maybe Rectangle
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-607"></span><span>                                 </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679501320"><span class="annot"><span class="annottext">Screen -&gt; Window -&gt; X (Maybe Rectangle)
</span><a href="#local-6989586621679501320"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Screen -&gt; Window -&gt; X (Maybe Rectangle)
</span><a href="#local-6989586621679501320"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679501326"><span class="hs-identifier hs-var">scr</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501325"><span class="hs-identifier hs-var">win</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-608"></span><span>                                 </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-identifier hs-var">L.lookup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (layout :: * -&gt; *) a.
LayoutClass layout a =&gt;
layout a -&gt; WorkspaceId
</span><span class="hs-identifier hs-var">description</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a. Workspace i l a -&gt; l
</span><span class="hs-identifier hs-var">W.layout</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; Workspace i l a
</span><span class="hs-identifier hs-var">W.workspace</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679501326"><span class="hs-identifier hs-var">scr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Navigation2DConfig
-&gt; [(WorkspaceId, Screen -&gt; Window -&gt; X (Maybe Rectangle))]
</span><a href="XMonad.Actions.Navigation2D.html#unmappedWindowRect"><span class="hs-identifier hs-var">unmappedWindowRect</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501351"><span class="hs-identifier hs-var">conf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-609"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501325"><span class="hs-identifier hs-var">win</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Rectangle
</span><a href="#local-6989586621679501322"><span class="hs-identifier hs-var">rect</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-610"></span><span>
</span><span id="line-611"></span><span class="hs-comment">-- | Returns the current rectangle of the given window, Nothing if the window isn't mapped</span><span>
</span><span id="line-612"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#windowRect"><span class="hs-identifier hs-type">windowRect</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rectangle</span></span><span class="hs-special">)</span><span>
</span><span id="line-613"></span><span id="windowRect"><span class="annot"><span class="annottext">windowRect :: Window -&gt; X (Maybe Rectangle)
</span><a href="XMonad.Actions.Navigation2D.html#windowRect"><span class="hs-identifier hs-var hs-var">windowRect</span></a></span></span><span> </span><span id="local-6989586621679501317"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501317"><span class="hs-identifier hs-var">win</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (Display -&gt; X a) -&gt; X a
</span><span class="hs-identifier hs-var">withDisplay</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679501315"><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679501315"><span class="hs-identifier hs-var">dpy</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-614"></span><span>  </span><span id="local-6989586621679501314"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501314"><span class="hs-identifier hs-var">mp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Window -&gt; X Bool
</span><a href="XMonad.Actions.Navigation2D.html#isMapped"><span class="hs-identifier hs-var">isMapped</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501317"><span class="hs-identifier hs-var">win</span></a></span><span>
</span><span id="line-615"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501314"><span class="hs-identifier hs-var">mp</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501312"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501312"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501311"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501311"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501310"><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679501310"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501309"><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679501309"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501308"><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679501308"><span class="hs-identifier hs-var">bw</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Display
-&gt; Window
-&gt; IO
     (Window, Position, Position, Dimension, Dimension, Dimension, CInt)
</span><span class="hs-identifier hs-var">getGeometry</span></span><span> </span><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679501315"><span class="hs-identifier hs-var">dpy</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501317"><span class="hs-identifier hs-var">win</span></a></span><span>
</span><span id="line-616"></span><span>                </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Position -&gt; Position -&gt; Dimension -&gt; Dimension -&gt; Rectangle
</span><span class="hs-identifier hs-var">Rectangle</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501312"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501311"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679501310"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679501308"><span class="hs-identifier hs-var">bw</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679501309"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679501308"><span class="hs-identifier hs-var">bw</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-617"></span><span>                </span><span class="annot"><span class="annottext">forall a. X a -&gt; X a -&gt; X a
</span><span class="hs-operator hs-var">`catchX`</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-618"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-619"></span><span>
</span><span id="line-620"></span><span class="hs-comment">-- | Acts on the screens using the given action function</span><span>
</span><span id="line-621"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#actOnScreens"><span class="hs-identifier hs-type">actOnScreens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WSRect"><span class="hs-identifier hs-type">WSRect</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WSRect"><span class="hs-identifier hs-type">WSRect</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-622"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>  </span><span class="hs-comment">-- ^ Should wrapping be used?</span><span>
</span><span id="line-623"></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-624"></span><span id="actOnScreens"><span class="annot"><span class="annottext">actOnScreens :: (Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ()) -&gt; Bool -&gt; X ()
</span><a href="XMonad.Actions.Navigation2D.html#actOnScreens"><span class="hs-identifier hs-var hs-var">actOnScreens</span></a></span></span><span> </span><span id="local-6989586621679501301"><span class="annot"><span class="annottext">Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ()
</span><a href="#local-6989586621679501301"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span id="local-6989586621679501300"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501300"><span class="hs-identifier hs-var">wrap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (WindowSet -&gt; X a) -&gt; X a
</span><span class="hs-identifier hs-var">withWindowSet</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679501299"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501299"><span class="hs-identifier hs-var">winset</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-625"></span><span>  </span><span id="local-6989586621679501298"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501298"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a (m :: * -&gt; *). (ExtensionClass a, XLike m) =&gt; m a
</span><a href="XMonad.Util.ExtensibleState.html#get"><span class="hs-identifier hs-var">XS.get</span></a></span><span>
</span><span id="line-626"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679501297"><span class="annot"><span class="annottext">wsrects :: [WSRect]
</span><a href="#local-6989586621679501297"><span class="hs-identifier hs-var hs-var">wsrects</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WindowSet -&gt; Bool -&gt; [WSRect]
</span><a href="XMonad.Actions.Navigation2D.html#visibleWorkspaces"><span class="hs-identifier hs-var">visibleWorkspaces</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501299"><span class="hs-identifier hs-var">winset</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679501300"><span class="hs-identifier hs-var">wrap</span></a></span><span>
</span><span id="line-627"></span><span>      </span><span id="local-6989586621679501295"><span class="annot"><span class="annottext">cur :: WorkspaceId
</span><a href="#local-6989586621679501295"><span class="hs-identifier hs-var hs-var">cur</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall i l a. Workspace i l a -&gt; i
</span><span class="hs-identifier hs-var">W.tag</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; Workspace i l a
</span><span class="hs-identifier hs-var">W.workspace</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. StackSet i l a sid sd -&gt; Screen i l a sid sd
</span><span class="hs-identifier hs-var">W.current</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501299"><span class="hs-identifier hs-var">winset</span></a></span><span>
</span><span id="line-628"></span><span>      </span><span id="local-6989586621679501288"><span class="annot"><span class="annottext">rect :: Rectangle
</span><a href="#local-6989586621679501288"><span class="hs-identifier hs-var hs-var">rect</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-identifier hs-var">L.lookup</span></span><span> </span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501295"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WSRect]
</span><a href="#local-6989586621679501297"><span class="hs-identifier hs-var">wsrects</span></a></span><span>
</span><span id="line-629"></span><span>  </span><span class="annot"><span class="annottext">Navigation2DConfig -&gt; WSRect -&gt; [WSRect] -&gt; X ()
</span><a href="#local-6989586621679501301"><span class="hs-identifier hs-var">act</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501298"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501295"><span class="hs-identifier hs-var">cur</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501288"><span class="hs-identifier hs-var">rect</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[WSRect]
</span><a href="#local-6989586621679501297"><span class="hs-identifier hs-var">wsrects</span></a></span><span>
</span><span id="line-630"></span><span>
</span><span id="line-631"></span><span class="hs-comment">-- | Determines whether a given window is mapped</span><span>
</span><span id="line-632"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#isMapped"><span class="hs-identifier hs-type">isMapped</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-633"></span><span id="isMapped"><span class="annot"><span class="annottext">isMapped :: Window -&gt; X Bool
</span><a href="XMonad.Actions.Navigation2D.html#isMapped"><span class="hs-identifier hs-var hs-var">isMapped</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">CInt
</span><span class="hs-identifier hs-var">waIsUnmapped</span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>  </span><span class="annot"><span class="annottext">WindowAttributes -&gt; CInt
</span><span class="hs-identifier hs-var">wa_map_state</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-634"></span><span>         </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Window -&gt; X (Maybe WindowAttributes)
</span><a href="XMonad.Prelude.html#safeGetWindowAttributes"><span class="hs-identifier hs-var">safeGetWindowAttributes</span></a></span><span>
</span><span id="line-635"></span><span>
</span><span id="line-636"></span><span class="hs-comment">----------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-637"></span><span class="hs-comment">----------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-638"></span><span class="hs-comment">--                                                                                                --</span><span>
</span><span id="line-639"></span><span class="hs-comment">--                                     PRIVATE PURE FUNCTIONS                                     --</span><span>
</span><span id="line-640"></span><span class="hs-comment">--                                                                                                --</span><span>
</span><span id="line-641"></span><span class="hs-comment">----------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-642"></span><span class="hs-comment">----------------------------------------------------------------------------------------------------</span><span>
</span><span id="line-643"></span><span>
</span><span id="line-644"></span><span class="hs-comment">-- | Finds the window closest to the given window and focuses it. Ties are</span><span>
</span><span id="line-645"></span><span class="hs-comment">-- broken by choosing the first window in the window stack among the tied</span><span>
</span><span id="line-646"></span><span class="hs-comment">-- windows.  (The stack order is the one produced by integrate'ing each visible</span><span>
</span><span id="line-647"></span><span class="hs-comment">-- workspace's window stack and concatenating these lists for all visible</span><span>
</span><span id="line-648"></span><span class="hs-comment">-- workspaces.)</span><span>
</span><span id="line-649"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#doFocusClosestWindow"><span class="hs-identifier hs-type">doFocusClosestWindow</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span>
</span><span id="line-650"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-651"></span><span>                     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span class="hs-special">)</span><span>
</span><span id="line-652"></span><span id="doFocusClosestWindow"><span class="annot"><span class="annottext">doFocusClosestWindow :: WinRect -&gt; [WinRect] -&gt; WindowSet -&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doFocusClosestWindow"><span class="hs-identifier hs-var hs-var">doFocusClosestWindow</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501282"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501282"><span class="hs-identifier hs-var">cur</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501281"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501281"><span class="hs-identifier hs-var">rect</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501280"><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501280"><span class="hs-identifier hs-var">winrects</span></a></span></span><span>
</span><span id="line-653"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(Window, (Position, Position))]
</span><a href="#local-6989586621679501278"><span class="hs-identifier hs-var">winctrs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-654"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a i l sd.
(Eq s, Eq a, Eq i) =&gt;
a -&gt; StackSet i l a s sd -&gt; StackSet i l a s sd
</span><span class="hs-identifier hs-var">W.focusWindow</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; a -&gt; a) -&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">L.foldl1'</span></span><span> </span><span class="annot"><span class="annottext">forall {a}.
(a, (Position, Position))
-&gt; (a, (Position, Position)) -&gt; (a, (Position, Position))
</span><a href="#local-6989586621679501275"><span class="hs-identifier hs-var">closer</span></a></span><span> </span><span class="annot"><span class="annottext">[(Window, (Position, Position))]
</span><a href="#local-6989586621679501278"><span class="hs-identifier hs-var">winctrs</span></a></span><span>
</span><span id="line-655"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-656"></span><span>    </span><span id="local-6989586621679501274"><span class="annot"><span class="annottext">ctr :: (Position, Position)
</span><a href="#local-6989586621679501274"><span class="hs-identifier hs-var hs-var">ctr</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; (Position, Position)
</span><a href="XMonad.Actions.Navigation2D.html#centerOf"><span class="hs-identifier hs-var">centerOf</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501281"><span class="hs-identifier hs-var">rect</span></a></span><span>
</span><span id="line-657"></span><span>    </span><span id="local-6989586621679501278"><span class="annot"><span class="annottext">winctrs :: [(Window, (Position, Position))]
</span><a href="#local-6989586621679501278"><span class="hs-identifier hs-var hs-var">winctrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501282"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span>
</span><span id="line-658"></span><span>            </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (a :: * -&gt; * -&gt; *) b c d.
Arrow a =&gt;
a b c -&gt; a (d, b) (d, c)
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; (Position, Position)
</span><a href="XMonad.Actions.Navigation2D.html#centerOf"><span class="hs-identifier hs-var">centerOf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501280"><span class="hs-identifier hs-var">winrects</span></a></span><span>
</span><span id="line-659"></span><span>    </span><span id="local-6989586621679501275"><span class="annot"><span class="annottext">closer :: (a, (Position, Position))
-&gt; (a, (Position, Position)) -&gt; (a, (Position, Position))
</span><a href="#local-6989586621679501275"><span class="hs-identifier hs-var hs-var">closer</span></a></span></span><span> </span><span id="local-6989586621679501268"><span class="annot"><span class="annottext">wc1 :: (a, (Position, Position))
</span><a href="#local-6989586621679501268"><span class="hs-identifier hs-var">wc1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501267"><span class="annot"><span class="annottext">(Position, Position)
</span><a href="#local-6989586621679501267"><span class="hs-identifier hs-var">c1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501266"><span class="annot"><span class="annottext">wc2 :: (a, (Position, Position))
</span><a href="#local-6989586621679501266"><span class="hs-identifier hs-var">wc2</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501265"><span class="annot"><span class="annottext">(Position, Position)
</span><a href="#local-6989586621679501265"><span class="hs-identifier hs-var">c2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Position, Position) -&gt; (Position, Position) -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#lDist"><span class="hs-identifier hs-var">lDist</span></a></span><span> </span><span class="annot"><span class="annottext">(Position, Position)
</span><a href="#local-6989586621679501274"><span class="hs-identifier hs-var">ctr</span></a></span><span> </span><span class="annot"><span class="annottext">(Position, Position)
</span><a href="#local-6989586621679501267"><span class="hs-identifier hs-var">c1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Position, Position) -&gt; (Position, Position) -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#lDist"><span class="hs-identifier hs-var">lDist</span></a></span><span> </span><span class="annot"><span class="annottext">(Position, Position)
</span><a href="#local-6989586621679501274"><span class="hs-identifier hs-var">ctr</span></a></span><span> </span><span class="annot"><span class="annottext">(Position, Position)
</span><a href="#local-6989586621679501265"><span class="hs-identifier hs-var">c2</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, (Position, Position))
</span><a href="#local-6989586621679501266"><span class="hs-identifier hs-var">wc2</span></a></span><span>
</span><span id="line-660"></span><span>                                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, (Position, Position))
</span><a href="#local-6989586621679501268"><span class="hs-identifier hs-var">wc1</span></a></span><span>
</span><span id="line-661"></span><span>
</span><span id="line-662"></span><span class="hs-comment">-- | Implements navigation for the tiled layer</span><span>
</span><span id="line-663"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#doTiledNavigation"><span class="hs-identifier hs-type">doTiledNavigation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span>
</span><span id="line-664"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span>
</span><span id="line-665"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span class="hs-special">)</span><span>
</span><span id="line-666"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span>
</span><span id="line-667"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-668"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span class="hs-special">)</span><span>
</span><span id="line-669"></span><span id="doTiledNavigation"><span class="annot"><span class="annottext">doTiledNavigation :: Navigation2DConfig
-&gt; Direction2D
-&gt; (Window -&gt; WindowSet -&gt; WindowSet)
-&gt; WinRect
-&gt; [WinRect]
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doTiledNavigation"><span class="hs-identifier hs-var hs-var">doTiledNavigation</span></a></span></span><span> </span><span id="local-6989586621679501262"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501262"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621679501261"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501261"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span id="local-6989586621679501260"><span class="annot"><span class="annottext">Window -&gt; WindowSet -&gt; WindowSet
</span><a href="#local-6989586621679501260"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span id="local-6989586621679501259"><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501259"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501258"><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501258"><span class="hs-identifier hs-var">winrects</span></a></span></span><span> </span><span id="local-6989586621679501257"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501257"><span class="hs-identifier hs-var">winset</span></a></span></span><span>
</span><span id="line-670"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679501256"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501256"><span class="hs-identifier hs-var">win</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a.
Eq a =&gt;
Navigation2D -&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="XMonad.Actions.Navigation2D.html#runNav"><span class="hs-identifier hs-var">runNav</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2D
</span><a href="#local-6989586621679501255"><span class="hs-identifier hs-var">nav</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501261"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501259"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501258"><span class="hs-identifier hs-var">winrects</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Window -&gt; WindowSet -&gt; WindowSet
</span><a href="#local-6989586621679501260"><span class="hs-identifier hs-var">act</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501256"><span class="hs-identifier hs-var">win</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501257"><span class="hs-identifier hs-var">winset</span></a></span><span>
</span><span id="line-671"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501257"><span class="hs-identifier hs-var">winset</span></a></span><span>
</span><span id="line-672"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-673"></span><span>    </span><span id="local-6989586621679501253"><span class="annot"><span class="annottext">layouts :: [WorkspaceId]
</span><a href="#local-6989586621679501253"><span class="hs-identifier hs-var hs-var">layouts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (layout :: * -&gt; *) a.
LayoutClass layout a =&gt;
layout a -&gt; WorkspaceId
</span><span class="hs-identifier hs-var">description</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a. Workspace i l a -&gt; l
</span><span class="hs-identifier hs-var">W.layout</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; Workspace i l a
</span><span class="hs-identifier hs-var">W.workspace</span></span><span class="hs-special">)</span><span>
</span><span id="line-674"></span><span>            </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall i l a s sd. StackSet i l a s sd -&gt; [Screen i l a s sd]
</span><span class="hs-identifier hs-var">W.screens</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679501257"><span class="hs-identifier hs-var">winset</span></a></span><span>
</span><span id="line-675"></span><span>    </span><span id="local-6989586621679501255"><span class="annot"><span class="annottext">nav :: Navigation2D
</span><a href="#local-6989586621679501255"><span class="hs-identifier hs-var hs-var">nav</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Ord a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">maximum</span></span><span>
</span><span id="line-676"></span><span>            </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Navigation2DConfig -&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#defaultTiledNavigation"><span class="hs-identifier hs-var">defaultTiledNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501262"><span class="hs-identifier hs-var">conf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-677"></span><span>                  </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-identifier hs-var">L.lookup</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Navigation2DConfig -&gt; [(WorkspaceId, Navigation2D)]
</span><a href="XMonad.Actions.Navigation2D.html#layoutNavigation"><span class="hs-identifier hs-var">layoutNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501262"><span class="hs-identifier hs-var">conf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-678"></span><span>                  </span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[WorkspaceId]
</span><a href="#local-6989586621679501253"><span class="hs-identifier hs-var">layouts</span></a></span><span>
</span><span id="line-679"></span><span>
</span><span id="line-680"></span><span class="hs-comment">-- | Implements navigation for the float layer</span><span>
</span><span id="line-681"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#doFloatNavigation"><span class="hs-identifier hs-type">doFloatNavigation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span>
</span><span id="line-682"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span>
</span><span id="line-683"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span class="hs-special">)</span><span>
</span><span id="line-684"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span>
</span><span id="line-685"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WinRect"><span class="hs-identifier hs-type">WinRect</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-686"></span><span>                  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span class="hs-special">)</span><span>
</span><span id="line-687"></span><span id="doFloatNavigation"><span class="annot"><span class="annottext">doFloatNavigation :: Navigation2DConfig
-&gt; Direction2D
-&gt; (Window -&gt; WindowSet -&gt; WindowSet)
-&gt; WinRect
-&gt; [WinRect]
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doFloatNavigation"><span class="hs-identifier hs-var hs-var">doFloatNavigation</span></a></span></span><span> </span><span id="local-6989586621679501245"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501245"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621679501244"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501244"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span id="local-6989586621679501243"><span class="annot"><span class="annottext">Window -&gt; WindowSet -&gt; WindowSet
</span><a href="#local-6989586621679501243"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span id="local-6989586621679501242"><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501242"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501241"><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501241"><span class="hs-identifier hs-var">winrects</span></a></span></span><span>
</span><span id="line-688"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679501240"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501240"><span class="hs-identifier hs-var">win</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a.
Eq a =&gt;
Navigation2D -&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="XMonad.Actions.Navigation2D.html#runNav"><span class="hs-identifier hs-var">runNav</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2D
</span><a href="#local-6989586621679501239"><span class="hs-identifier hs-var">nav</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501244"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">WinRect
</span><a href="#local-6989586621679501242"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WinRect]
</span><a href="#local-6989586621679501241"><span class="hs-identifier hs-var">winrects</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Window -&gt; WindowSet -&gt; WindowSet
</span><a href="#local-6989586621679501243"><span class="hs-identifier hs-var">act</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679501240"><span class="hs-identifier hs-var">win</span></a></span><span>
</span><span id="line-689"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                               </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-690"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-691"></span><span>    </span><span id="local-6989586621679501239"><span class="annot"><span class="annottext">nav :: Navigation2D
</span><a href="#local-6989586621679501239"><span class="hs-identifier hs-var hs-var">nav</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig -&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#floatNavigation"><span class="hs-identifier hs-var">floatNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501245"><span class="hs-identifier hs-var">conf</span></a></span><span>
</span><span id="line-692"></span><span>
</span><span id="line-693"></span><span class="hs-comment">-- | Implements navigation between screens</span><span>
</span><span id="line-694"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#doScreenNavigation"><span class="hs-identifier hs-type">doScreenNavigation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Navigation2DConfig"><span class="hs-identifier hs-type">Navigation2DConfig</span></a></span><span>
</span><span id="line-695"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span>
</span><span id="line-696"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">WorkspaceId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span class="hs-special">)</span><span>
</span><span id="line-697"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WSRect"><span class="hs-identifier hs-type">WSRect</span></a></span><span>
</span><span id="line-698"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WSRect"><span class="hs-identifier hs-type">WSRect</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-699"></span><span>                   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span class="hs-special">)</span><span>
</span><span id="line-700"></span><span id="doScreenNavigation"><span class="annot"><span class="annottext">doScreenNavigation :: Navigation2DConfig
-&gt; Direction2D
-&gt; (WorkspaceId -&gt; WindowSet -&gt; WindowSet)
-&gt; WSRect
-&gt; [WSRect]
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#doScreenNavigation"><span class="hs-identifier hs-var hs-var">doScreenNavigation</span></a></span></span><span> </span><span id="local-6989586621679501238"><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501238"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span id="local-6989586621679501237"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501237"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span id="local-6989586621679501236"><span class="annot"><span class="annottext">WorkspaceId -&gt; WindowSet -&gt; WindowSet
</span><a href="#local-6989586621679501236"><span class="hs-identifier hs-var">act</span></a></span></span><span> </span><span id="local-6989586621679501235"><span class="annot"><span class="annottext">WSRect
</span><a href="#local-6989586621679501235"><span class="hs-identifier hs-var">cur</span></a></span></span><span> </span><span id="local-6989586621679501234"><span class="annot"><span class="annottext">[WSRect]
</span><a href="#local-6989586621679501234"><span class="hs-identifier hs-var">wsrects</span></a></span></span><span>
</span><span id="line-701"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679501233"><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501233"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a.
Eq a =&gt;
Navigation2D -&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="XMonad.Actions.Navigation2D.html#runNav"><span class="hs-identifier hs-var">runNav</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2D
</span><a href="#local-6989586621679501232"><span class="hs-identifier hs-var">nav</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501237"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">WSRect
</span><a href="#local-6989586621679501235"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">[WSRect]
</span><a href="#local-6989586621679501234"><span class="hs-identifier hs-var">wsrects</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WorkspaceId -&gt; WindowSet -&gt; WindowSet
</span><a href="#local-6989586621679501236"><span class="hs-identifier hs-var">act</span></a></span><span> </span><span class="annot"><span class="annottext">WorkspaceId
</span><a href="#local-6989586621679501233"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-702"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                             </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-703"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-704"></span><span>    </span><span id="local-6989586621679501232"><span class="annot"><span class="annottext">nav :: Navigation2D
</span><a href="#local-6989586621679501232"><span class="hs-identifier hs-var hs-var">nav</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig -&gt; Navigation2D
</span><a href="XMonad.Actions.Navigation2D.html#screenNavigation"><span class="hs-identifier hs-var">screenNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">Navigation2DConfig
</span><a href="#local-6989586621679501238"><span class="hs-identifier hs-var">conf</span></a></span><span>
</span><span id="line-705"></span><span>
</span><span id="line-706"></span><span class="hs-comment">-- | Implements line navigation.  For layouts without overlapping windows, there</span><span>
</span><span id="line-707"></span><span class="hs-comment">-- is no need to break ties between equidistant windows.  When windows do</span><span>
</span><span id="line-708"></span><span class="hs-comment">-- overlap, even the best tie breaking rule cannot make line navigation feel</span><span>
</span><span id="line-709"></span><span class="hs-comment">-- natural.  Thus, we fairly arbtitrarily break ties by preferring the window</span><span>
</span><span id="line-710"></span><span class="hs-comment">-- that comes first in the window stack.  (The stack order is the one produced</span><span>
</span><span id="line-711"></span><span class="hs-comment">-- by integrate'ing each visible workspace's window stack and concatenating</span><span>
</span><span id="line-712"></span><span class="hs-comment">-- these lists for all visible workspaces.)</span><span>
</span><span id="line-713"></span><span id="local-6989586621679501231"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#doLineNavigation"><span class="hs-identifier hs-type">doLineNavigation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679501231"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679501231"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679501231"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679501231"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-714"></span><span id="doLineNavigation"><span class="annot"><span class="annottext">doLineNavigation :: forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="XMonad.Actions.Navigation2D.html#doLineNavigation"><span class="hs-identifier hs-var hs-var">doLineNavigation</span></a></span></span><span> </span><span id="local-6989586621679501228"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501228"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501227"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501227"><span class="hs-identifier hs-var">cur</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501226"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501226"><span class="hs-identifier hs-var">rect</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501225"><span class="annot"><span class="annottext">[(a, Rectangle)]
</span><a href="#local-6989586621679501225"><span class="hs-identifier hs-var">winrects</span></a></span></span><span>
</span><span id="line-715"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(a, Rectangle)]
</span><a href="#local-6989586621679501224"><span class="hs-identifier hs-var">winrects'</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-716"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; a -&gt; a) -&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">L.foldl1'</span></span><span> </span><span class="annot"><span class="annottext">forall {a}. (a, Rectangle) -&gt; (a, Rectangle) -&gt; (a, Rectangle)
</span><a href="#local-6989586621679501223"><span class="hs-identifier hs-var">closer</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, Rectangle)]
</span><a href="#local-6989586621679501224"><span class="hs-identifier hs-var">winrects'</span></a></span><span>
</span><span id="line-717"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-718"></span><span>    </span><span class="hs-comment">-- The current window's center</span><span>
</span><span id="line-719"></span><span>    </span><span id="local-6989586621679501222"><span class="annot"><span class="annottext">ctr :: (Position, Position)
</span><a href="#local-6989586621679501222"><span class="hs-identifier hs-var">ctr</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679501221"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501221"><span class="hs-identifier hs-var">xc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501220"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501220"><span class="hs-identifier hs-var">yc</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; (Position, Position)
</span><a href="XMonad.Actions.Navigation2D.html#centerOf"><span class="hs-identifier hs-var">centerOf</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501226"><span class="hs-identifier hs-var">rect</span></a></span><span>
</span><span id="line-720"></span><span>
</span><span id="line-721"></span><span>    </span><span class="hs-comment">-- The list of windows that are candidates to receive focus.</span><span>
</span><span id="line-722"></span><span>    </span><span id="local-6989586621679501224"><span class="annot"><span class="annottext">winrects' :: [(a, Rectangle)]
</span><a href="#local-6989586621679501224"><span class="hs-identifier hs-var hs-var">winrects'</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">forall {a}. (a, Rectangle) -&gt; Bool
</span><a href="#local-6989586621679501218"><span class="hs-identifier hs-var">dirFilter</span></a></span><span>
</span><span id="line-723"></span><span>                  </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501227"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span>
</span><span id="line-724"></span><span>                  </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(a, Rectangle)]
</span><a href="#local-6989586621679501225"><span class="hs-identifier hs-var">winrects</span></a></span><span>
</span><span id="line-725"></span><span>
</span><span id="line-726"></span><span>    </span><span class="hs-comment">-- Decides whether a given window matches the criteria to be a candidate to</span><span>
</span><span id="line-727"></span><span>    </span><span class="hs-comment">-- receive the focus.</span><span>
</span><span id="line-728"></span><span>    </span><span id="local-6989586621679501218"><span class="annot"><span class="annottext">dirFilter :: (a, Rectangle) -&gt; Bool
</span><a href="#local-6989586621679501218"><span class="hs-identifier hs-var hs-var">dirFilter</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501212"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501212"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501228"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Rectangle -&gt; Bool
</span><a href="#local-6989586621679501210"><span class="hs-identifier hs-var">leftOf</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501212"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501226"><span class="hs-identifier hs-var">rect</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Position -&gt; Rectangle -&gt; Bool
</span><a href="#local-6989586621679501209"><span class="hs-identifier hs-var">intersectsY</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501220"><span class="hs-identifier hs-var">yc</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501212"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-729"></span><span>                     </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501228"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#R"><span class="hs-identifier hs-var">R</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Rectangle -&gt; Bool
</span><a href="#local-6989586621679501210"><span class="hs-identifier hs-var">leftOf</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501226"><span class="hs-identifier hs-var">rect</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501212"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Position -&gt; Rectangle -&gt; Bool
</span><a href="#local-6989586621679501209"><span class="hs-identifier hs-var">intersectsY</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501220"><span class="hs-identifier hs-var">yc</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501212"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-730"></span><span>                     </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501228"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#U"><span class="hs-identifier hs-var">U</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Rectangle -&gt; Bool
</span><a href="#local-6989586621679501207"><span class="hs-identifier hs-var">above</span></a></span><span>  </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501212"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501226"><span class="hs-identifier hs-var">rect</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Position -&gt; Rectangle -&gt; Bool
</span><a href="#local-6989586621679501206"><span class="hs-identifier hs-var">intersectsX</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501221"><span class="hs-identifier hs-var">xc</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501212"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-731"></span><span>                     </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501228"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#D"><span class="hs-identifier hs-var">D</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Rectangle -&gt; Bool
</span><a href="#local-6989586621679501207"><span class="hs-identifier hs-var">above</span></a></span><span>  </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501226"><span class="hs-identifier hs-var">rect</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501212"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Position -&gt; Rectangle -&gt; Bool
</span><a href="#local-6989586621679501206"><span class="hs-identifier hs-var">intersectsX</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501221"><span class="hs-identifier hs-var">xc</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501212"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-732"></span><span>
</span><span id="line-733"></span><span>    </span><span class="hs-comment">-- Decide whether r1 is left of/above r2.</span><span>
</span><span id="line-734"></span><span>    </span><span id="local-6989586621679501210"><span class="annot"><span class="annottext">leftOf :: Rectangle -&gt; Rectangle -&gt; Bool
</span><a href="#local-6989586621679501210"><span class="hs-identifier hs-var hs-var">leftOf</span></a></span></span><span> </span><span id="local-6989586621679501200"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501200"><span class="hs-identifier hs-var">r1</span></a></span></span><span> </span><span id="local-6989586621679501199"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501199"><span class="hs-identifier hs-var">r2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_x</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501200"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rectangle -&gt; Dimension
</span><span class="hs-identifier hs-var">rect_width</span></span><span>  </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501200"><span class="hs-identifier hs-var">r1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_x</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501199"><span class="hs-identifier hs-var">r2</span></a></span><span>
</span><span id="line-735"></span><span>    </span><span id="local-6989586621679501207"><span class="annot"><span class="annottext">above :: Rectangle -&gt; Rectangle -&gt; Bool
</span><a href="#local-6989586621679501207"><span class="hs-identifier hs-var hs-var">above</span></a></span></span><span>  </span><span id="local-6989586621679501191"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501191"><span class="hs-identifier hs-var">r1</span></a></span></span><span> </span><span id="local-6989586621679501190"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501190"><span class="hs-identifier hs-var">r2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_y</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501191"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rectangle -&gt; Dimension
</span><span class="hs-identifier hs-var">rect_height</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501191"><span class="hs-identifier hs-var">r1</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_y</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501190"><span class="hs-identifier hs-var">r2</span></a></span><span>
</span><span id="line-736"></span><span>
</span><span id="line-737"></span><span>    </span><span class="hs-comment">-- Check whether r's x-/y-range contains the given x-/y-coordinate.</span><span>
</span><span id="line-738"></span><span>    </span><span id="local-6989586621679501206"><span class="annot"><span class="annottext">intersectsX :: Position -&gt; Rectangle -&gt; Bool
</span><a href="#local-6989586621679501206"><span class="hs-identifier hs-var hs-var">intersectsX</span></a></span></span><span> </span><span id="local-6989586621679501182"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501182"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679501181"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501181"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_x</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501181"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501182"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_x</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501181"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rectangle -&gt; Dimension
</span><span class="hs-identifier hs-var">rect_width</span></span><span>  </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501181"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501182"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-739"></span><span>    </span><span id="local-6989586621679501209"><span class="annot"><span class="annottext">intersectsY :: Position -&gt; Rectangle -&gt; Bool
</span><a href="#local-6989586621679501209"><span class="hs-identifier hs-var hs-var">intersectsY</span></a></span></span><span> </span><span id="local-6989586621679501175"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501175"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621679501174"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501174"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_y</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501174"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501175"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_y</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501174"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rectangle -&gt; Dimension
</span><span class="hs-identifier hs-var">rect_height</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501174"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501175"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-740"></span><span>
</span><span id="line-741"></span><span>    </span><span class="hs-comment">-- Decides whether r1 is closer to the current window's center than r2</span><span>
</span><span id="line-742"></span><span>    </span><span id="local-6989586621679501223"><span class="annot"><span class="annottext">closer :: (a, Rectangle) -&gt; (a, Rectangle) -&gt; (a, Rectangle)
</span><a href="#local-6989586621679501223"><span class="hs-identifier hs-var hs-var">closer</span></a></span></span><span> </span><span id="local-6989586621679501172"><span class="annot"><span class="annottext">wr1 :: (a, Rectangle)
</span><a href="#local-6989586621679501172"><span class="hs-identifier hs-var">wr1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501171"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501171"><span class="hs-identifier hs-var">r1</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501170"><span class="annot"><span class="annottext">wr2 :: (a, Rectangle)
</span><a href="#local-6989586621679501170"><span class="hs-identifier hs-var">wr2</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501169"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501169"><span class="hs-identifier hs-var">r2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Position, Position) -&gt; Rectangle -&gt; Position
</span><a href="#local-6989586621679501168"><span class="hs-identifier hs-var">dist</span></a></span><span> </span><span class="annot"><span class="annottext">(Position, Position)
</span><a href="#local-6989586621679501222"><span class="hs-identifier hs-var">ctr</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501171"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Position, Position) -&gt; Rectangle -&gt; Position
</span><a href="#local-6989586621679501168"><span class="hs-identifier hs-var">dist</span></a></span><span> </span><span class="annot"><span class="annottext">(Position, Position)
</span><a href="#local-6989586621679501222"><span class="hs-identifier hs-var">ctr</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501169"><span class="hs-identifier hs-var">r2</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, Rectangle)
</span><a href="#local-6989586621679501170"><span class="hs-identifier hs-var">wr2</span></a></span><span>
</span><span id="line-743"></span><span>                                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                 </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, Rectangle)
</span><a href="#local-6989586621679501172"><span class="hs-identifier hs-var">wr1</span></a></span><span>
</span><span id="line-744"></span><span>
</span><span id="line-745"></span><span>    </span><span class="hs-comment">-- Returns the distance of r from the point (x, y)</span><span>
</span><span id="line-746"></span><span>    </span><span id="local-6989586621679501168"><span class="annot"><span class="annottext">dist :: (Position, Position) -&gt; Rectangle -&gt; Position
</span><a href="#local-6989586621679501168"><span class="hs-identifier hs-var hs-var">dist</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501154"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501154"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501153"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501153"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501152"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501152"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501228"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#L"><span class="hs-identifier hs-var">L</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501154"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_x</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501152"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rectangle -&gt; Dimension
</span><span class="hs-identifier hs-var">rect_width</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501152"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-747"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501228"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#R"><span class="hs-identifier hs-var">R</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_x</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501152"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501154"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-748"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501228"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#U"><span class="hs-identifier hs-var">U</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501153"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_y</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501152"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rectangle -&gt; Dimension
</span><span class="hs-identifier hs-var">rect_height</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501152"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-749"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_y</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501152"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501153"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-750"></span><span>
</span><span id="line-751"></span><span class="hs-comment">-- | Implements center navigation</span><span>
</span><span id="line-752"></span><span id="local-6989586621679501151"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#doCenterNavigation"><span class="hs-identifier hs-type">doCenterNavigation</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679501151"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679501151"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679501151"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679501151"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-753"></span><span id="doCenterNavigation"><span class="annot"><span class="annottext">doCenterNavigation :: forall a. Eq a =&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="XMonad.Actions.Navigation2D.html#doCenterNavigation"><span class="hs-identifier hs-var hs-var">doCenterNavigation</span></a></span></span><span> </span><span id="local-6989586621679501149"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501149"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501148"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501148"><span class="hs-identifier hs-var">cur</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501147"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501147"><span class="hs-identifier hs-var">rect</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501146"><span class="annot"><span class="annottext">[(a, Rectangle)]
</span><a href="#local-6989586621679501146"><span class="hs-identifier hs-var">winrects</span></a></span></span><span>
</span><span id="line-754"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621679501145"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501145"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Position, Position)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[(a, (Position, Position))]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(a, (Position, Position))]
</span><a href="#local-6989586621679501144"><span class="hs-identifier hs-var">onCtr'</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501145"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-755"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a
</span><a href="#local-6989586621679501143"><span class="hs-identifier hs-var">closestOffCtr</span></a></span><span>
</span><span id="line-756"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-757"></span><span>    </span><span class="hs-comment">-- The center of the current window</span><span>
</span><span id="line-758"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679501142"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501142"><span class="hs-identifier hs-var">xc</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501141"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501141"><span class="hs-identifier hs-var">yc</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; (Position, Position)
</span><a href="XMonad.Actions.Navigation2D.html#centerOf"><span class="hs-identifier hs-var">centerOf</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501147"><span class="hs-identifier hs-var">rect</span></a></span><span>
</span><span id="line-759"></span><span>
</span><span id="line-760"></span><span>    </span><span class="hs-comment">-- All the windows with their center points relative to the current</span><span>
</span><span id="line-761"></span><span>    </span><span class="hs-comment">-- center rotated so the right cone becomes the relevant cone.</span><span>
</span><span id="line-762"></span><span>    </span><span class="hs-comment">-- The windows are ordered in the order they should be preferred</span><span>
</span><span id="line-763"></span><span>    </span><span class="hs-comment">-- when they are otherwise tied.</span><span>
</span><span id="line-764"></span><span>    </span><span id="local-6989586621679501139"><span class="annot"><span class="annottext">winctrs :: [(a, (Position, Position))]
</span><a href="#local-6989586621679501139"><span class="hs-identifier hs-var hs-var">winctrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (a :: * -&gt; * -&gt; *) b c d.
Arrow a =&gt;
a b c -&gt; a (d, b) (d, c)
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Position, Position) -&gt; (Position, Position)
</span><a href="#local-6989586621679501138"><span class="hs-identifier hs-var">dirTransform</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; (Position, Position)
</span><a href="XMonad.Actions.Navigation2D.html#centerOf"><span class="hs-identifier hs-var">centerOf</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-765"></span><span>            </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall {a}. [a] -&gt; [a]
</span><a href="#local-6989586621679501137"><span class="hs-identifier hs-var">stackTransform</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, Rectangle)]
</span><a href="#local-6989586621679501146"><span class="hs-identifier hs-var">winrects</span></a></span><span>
</span><span id="line-766"></span><span>
</span><span id="line-767"></span><span>    </span><span class="hs-comment">-- Give preference to windows later in the stack for going left or up and to</span><span>
</span><span id="line-768"></span><span>    </span><span class="hs-comment">-- windows earlier in the stack for going right or down.  (The stack order</span><span>
</span><span id="line-769"></span><span>    </span><span class="hs-comment">-- is the one produced by integrate'ing each visible workspace's window</span><span>
</span><span id="line-770"></span><span>    </span><span class="hs-comment">-- stack and concatenating these lists for all visible workspaces.)</span><span>
</span><span id="line-771"></span><span>    </span><span id="local-6989586621679501137"><span class="annot"><span class="annottext">stackTransform :: [a] -&gt; [a]
</span><a href="#local-6989586621679501137"><span class="hs-identifier hs-var hs-var">stackTransform</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501149"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#L"><span class="hs-identifier hs-var">L</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501149"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#U"><span class="hs-identifier hs-var">U</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {a}. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span>
</span><span id="line-772"></span><span>                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>            </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-773"></span><span>
</span><span id="line-774"></span><span>    </span><span class="hs-comment">-- Transform a point into a difference to the current window center and</span><span>
</span><span id="line-775"></span><span>    </span><span class="hs-comment">-- rotate it so that the relevant cone becomes the right cone.</span><span>
</span><span id="line-776"></span><span>    </span><span id="local-6989586621679501138"><span class="annot"><span class="annottext">dirTransform :: (Position, Position) -&gt; (Position, Position)
</span><a href="#local-6989586621679501138"><span class="hs-identifier hs-var hs-var">dirTransform</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501118"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501118"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501117"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501117"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501149"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#R"><span class="hs-identifier hs-var">R</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span>  </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501118"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501142"><span class="hs-identifier hs-var">xc</span></a></span><span> </span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501117"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501141"><span class="hs-identifier hs-var">yc</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-777"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501149"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#L"><span class="hs-identifier hs-var">L</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501118"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501142"><span class="hs-identifier hs-var">xc</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-glyph">-</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501117"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501141"><span class="hs-identifier hs-var">yc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-778"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501149"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#D"><span class="hs-identifier hs-var">D</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span>  </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501117"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501141"><span class="hs-identifier hs-var">yc</span></a></span><span> </span><span class="hs-special">,</span><span>   </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501118"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501142"><span class="hs-identifier hs-var">xc</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-779"></span><span>                        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501117"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501141"><span class="hs-identifier hs-var">yc</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-glyph">-</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501118"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501142"><span class="hs-identifier hs-var">xc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-780"></span><span>
</span><span id="line-781"></span><span>    </span><span class="hs-comment">-- Partition the points into points that coincide with the center</span><span>
</span><span id="line-782"></span><span>    </span><span class="hs-comment">-- and points that do not.</span><span>
</span><span id="line-783"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679501111"><span class="annot"><span class="annottext">[(a, (Position, Position))]
</span><a href="#local-6989586621679501111"><span class="hs-identifier hs-var">onCtr</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501110"><span class="annot"><span class="annottext">[(a, (Position, Position))]
</span><a href="#local-6989586621679501110"><span class="hs-identifier hs-var">offCtr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">L.partition</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501109"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501109"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501108"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501108"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501109"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501108"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(a, (Position, Position))]
</span><a href="#local-6989586621679501139"><span class="hs-identifier hs-var">winctrs</span></a></span><span>
</span><span id="line-784"></span><span>
</span><span id="line-785"></span><span>    </span><span class="hs-comment">-- All the points that coincide with the current center and succeed it</span><span>
</span><span id="line-786"></span><span>    </span><span class="hs-comment">-- in the (appropriately ordered) window stack.</span><span>
</span><span id="line-787"></span><span>    </span><span id="local-6989586621679501144"><span class="annot"><span class="annottext">onCtr' :: [(a, (Position, Position))]
</span><a href="#local-6989586621679501144"><span class="hs-identifier hs-var hs-var">onCtr'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">L.drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">L.dropWhile</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501148"><span class="hs-identifier hs-var">cur</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(a, (Position, Position))]
</span><a href="#local-6989586621679501111"><span class="hs-identifier hs-var">onCtr</span></a></span><span>
</span><span id="line-788"></span><span>
</span><span id="line-789"></span><span>    </span><span class="hs-comment">-- All the points that do not coincide with the current center and which</span><span>
</span><span id="line-790"></span><span>    </span><span class="hs-comment">-- lie in the (rotated) right cone.</span><span>
</span><span id="line-791"></span><span>    </span><span id="local-6989586621679501099"><span class="annot"><span class="annottext">offCtr' :: [(a, (Position, Position))]
</span><a href="#local-6989586621679501099"><span class="hs-identifier hs-var hs-var">offCtr'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">L.filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501098"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501098"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501097"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501097"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501098"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501097"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501098"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501097"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501098"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(a, (Position, Position))]
</span><a href="#local-6989586621679501110"><span class="hs-identifier hs-var">offCtr</span></a></span><span>
</span><span id="line-792"></span><span>
</span><span id="line-793"></span><span>    </span><span class="hs-comment">-- The off-center point closest to the center and</span><span>
</span><span id="line-794"></span><span>    </span><span class="hs-comment">-- closest to the bottom ray of the cone.  Nothing if no off-center</span><span>
</span><span id="line-795"></span><span>    </span><span class="hs-comment">-- point is in the cone</span><span>
</span><span id="line-796"></span><span>    </span><span id="local-6989586621679501143"><span class="annot"><span class="annottext">closestOffCtr :: Maybe a
</span><a href="#local-6989586621679501143"><span class="hs-identifier hs-var hs-var">closestOffCtr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">[(a, (Position, Position))]
</span><a href="#local-6989586621679501099"><span class="hs-identifier hs-var">offCtr'</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-797"></span><span>                                    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; a -&gt; a) -&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">L.foldl1'</span></span><span> </span><span class="annot"><span class="annottext">forall {a}.
(a, (Position, Position))
-&gt; (a, (Position, Position)) -&gt; (a, (Position, Position))
</span><a href="#local-6989586621679501094"><span class="hs-identifier hs-var">closest</span></a></span><span> </span><span class="annot"><span class="annottext">[(a, (Position, Position))]
</span><a href="#local-6989586621679501099"><span class="hs-identifier hs-var">offCtr'</span></a></span><span>
</span><span id="line-798"></span><span>
</span><span id="line-799"></span><span>    </span><span id="local-6989586621679501094"><span class="annot"><span class="annottext">closest :: (a, (Position, Position))
-&gt; (a, (Position, Position)) -&gt; (a, (Position, Position))
</span><a href="#local-6989586621679501094"><span class="hs-identifier hs-var hs-var">closest</span></a></span></span><span> </span><span id="local-6989586621679501082"><span class="annot"><span class="annottext">wp :: (a, (Position, Position))
</span><a href="#local-6989586621679501082"><span class="hs-identifier hs-var">wp</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501081"><span class="annot"><span class="annottext">p :: (Position, Position)
</span><a href="#local-6989586621679501081"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501080"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501080"><span class="hs-identifier hs-var">yp</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501079"><span class="annot"><span class="annottext">wq :: (a, (Position, Position))
</span><a href="#local-6989586621679501079"><span class="hs-identifier hs-var">wq</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501078"><span class="annot"><span class="annottext">q :: (Position, Position)
</span><a href="#local-6989586621679501078"><span class="hs-identifier hs-var">q</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501077"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501077"><span class="hs-identifier hs-var">yq</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-800"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Position, Position) -&gt; (Position, Position) -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#lDist"><span class="hs-identifier hs-var">lDist</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Position, Position)
</span><a href="#local-6989586621679501078"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">(Position, Position) -&gt; (Position, Position) -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#lDist"><span class="hs-identifier hs-var">lDist</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Position, Position)
</span><a href="#local-6989586621679501081"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, (Position, Position))
</span><a href="#local-6989586621679501079"><span class="hs-identifier hs-var">wq</span></a></span><span> </span><span class="hs-comment">-- q is closer than p</span><span>
</span><span id="line-801"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">(Position, Position) -&gt; (Position, Position) -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#lDist"><span class="hs-identifier hs-var">lDist</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Position, Position)
</span><a href="#local-6989586621679501081"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">(Position, Position) -&gt; (Position, Position) -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#lDist"><span class="hs-identifier hs-var">lDist</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Position, Position)
</span><a href="#local-6989586621679501078"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, (Position, Position))
</span><a href="#local-6989586621679501082"><span class="hs-identifier hs-var">wp</span></a></span><span> </span><span class="hs-comment">-- q is farther away than p</span><span>
</span><span id="line-802"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501077"><span class="hs-identifier hs-var">yq</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501080"><span class="hs-identifier hs-var">yp</span></a></span><span>                         </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, (Position, Position))
</span><a href="#local-6989586621679501079"><span class="hs-identifier hs-var">wq</span></a></span><span> </span><span class="hs-comment">-- q is closer to the bottom ray than p</span><span>
</span><span id="line-803"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span>                       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a, (Position, Position))
</span><a href="#local-6989586621679501082"><span class="hs-identifier hs-var">wp</span></a></span><span> </span><span class="hs-comment">-- q is farther away from the bottom ray than p</span><span>
</span><span id="line-804"></span><span>                                             </span><span class="hs-comment">-- or it has the same distance but comes later</span><span>
</span><span id="line-805"></span><span>                                             </span><span class="hs-comment">-- in the window stack</span><span>
</span><span id="line-806"></span><span>
</span><span id="line-807"></span><span class="hs-comment">-- x -y w h format is a pain. Let's use side coordinates. We assume x1 &lt;= x2 and</span><span>
</span><span id="line-808"></span><span class="hs-comment">-- y1 &lt;= y2, and make the assumption valid by initialising SideRects with the</span><span>
</span><span id="line-809"></span><span class="hs-comment">-- property and carefully preserving it over any individual transformation.</span><span>
</span><span id="line-810"></span><span class="hs-keyword">data</span><span> </span><span id="SideRect"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#SideRect"><span class="hs-identifier hs-var">SideRect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SideRect"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#SideRect"><span class="hs-identifier hs-var">SideRect</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="x1"><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x1"><span class="hs-identifier hs-var hs-var">x1</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span id="x2"><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x2"><span class="hs-identifier hs-var hs-var">x2</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span id="y1"><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y1"><span class="hs-identifier hs-var hs-var">y1</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span id="y2"><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y2"><span class="hs-identifier hs-var hs-var">y2</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-811"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span id="local-6989586621679501060"><span id="local-6989586621679501062"><span id="local-6989586621679501070"><span class="annot"><span class="annottext">Int -&gt; SideRect -&gt; ShowS
[SideRect] -&gt; ShowS
SideRect -&gt; WorkspaceId
forall a.
(Int -&gt; a -&gt; ShowS)
-&gt; (a -&gt; WorkspaceId) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SideRect] -&gt; ShowS
$cshowList :: [SideRect] -&gt; ShowS
show :: SideRect -&gt; WorkspaceId
$cshow :: SideRect -&gt; WorkspaceId
showsPrec :: Int -&gt; SideRect -&gt; ShowS
$cshowsPrec :: Int -&gt; SideRect -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span>
</span><span id="line-812"></span><span>
</span><span id="line-813"></span><span class="hs-comment">-- Conversion from Rectangle format to SideRect.</span><span>
</span><span id="line-814"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#toSR"><span class="hs-identifier hs-type">toSR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rectangle</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#SideRect"><span class="hs-identifier hs-type">SideRect</span></a></span><span>
</span><span id="line-815"></span><span id="toSR"><span class="annot"><span class="annottext">toSR :: Rectangle -&gt; SideRect
</span><a href="XMonad.Actions.Navigation2D.html#toSR"><span class="hs-identifier hs-var hs-var">toSR</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Rectangle</span></span><span> </span><span id="local-6989586621679501057"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501057"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621679501056"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501056"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span id="local-6989586621679501055"><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679501055"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679501054"><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679501054"><span class="hs-identifier hs-var">h</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int -&gt; Int -&gt; SideRect
</span><a href="XMonad.Actions.Navigation2D.html#SideRect"><span class="hs-identifier hs-var">SideRect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501057"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501057"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679501055"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501056"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679501054"><span class="hs-identifier hs-var">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679501056"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-816"></span><span>
</span><span id="line-817"></span><span class="hs-comment">-- Implements side navigation with bias.</span><span>
</span><span id="line-818"></span><span id="local-6989586621679501946"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#doSideNavigationWithBias"><span class="hs-identifier hs-type">doSideNavigationWithBias</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-819"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621679501946"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Types.html#Direction2D"><span class="hs-identifier hs-type">Direction2D</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679501946"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679501946"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679501946"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-820"></span><span id="doSideNavigationWithBias"><span class="annot"><span class="annottext">doSideNavigationWithBias :: forall a.
Eq a =&gt;
Int -&gt; Direction2D -&gt; Rect a -&gt; [Rect a] -&gt; Maybe a
</span><a href="XMonad.Actions.Navigation2D.html#doSideNavigationWithBias"><span class="hs-identifier hs-var hs-var">doSideNavigationWithBias</span></a></span></span><span> </span><span id="local-6989586621679501047"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501047"><span class="hs-identifier hs-var">bias</span></a></span></span><span> </span><span id="local-6989586621679501046"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501046"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501045"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501045"><span class="hs-identifier hs-var">cur</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501044"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501044"><span class="hs-identifier hs-var">rect</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-821"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; Maybe a
</span><span class="hs-identifier hs-var">listToMaybe</span></span><span>
</span><span id="line-822"></span><span>  </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall b a. Ord b =&gt; (a -&gt; b) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">L.sortOn</span></span><span> </span><span class="annot"><span class="annottext">forall {a}. (a, SideRect) -&gt; Int
</span><a href="#local-6989586621679501042"><span class="hs-identifier hs-var">dist</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">forall {a}. (a, SideRect) -&gt; [(a, SideRect)] -&gt; [(a, SideRect)]
</span><a href="#local-6989586621679501040"><span class="hs-identifier hs-var">acClosest</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-823"></span><span>  </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall {a} {a}. (a, SideRect) -&gt; (a, SideRect) -&gt; Bool
</span><a href="#local-6989586621679501039"><span class="hs-operator hs-var">`toRightOf`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501045"><span class="hs-identifier hs-var">cur</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; SideRect
</span><a href="#local-6989586621679501038"><span class="hs-identifier hs-var">transform</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501044"><span class="hs-identifier hs-var">rect</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-824"></span><span>  </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; SideRect
</span><a href="#local-6989586621679501038"><span class="hs-identifier hs-var">transform</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-825"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-826"></span><span>    </span><span class="hs-comment">-- Getting the center of the current window so we can make it the new origin.</span><span>
</span><span id="line-827"></span><span>    </span><span id="local-6989586621679501030"><span class="annot"><span class="annottext">cOf :: SideRect -&gt; (Int, Int)
</span><a href="#local-6989586621679501030"><span class="hs-identifier hs-var hs-var">cOf</span></a></span></span><span> </span><span id="local-6989586621679501029"><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501029"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x1"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501029"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x2"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501029"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y1"><span class="hs-identifier hs-var">y1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501029"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y2"><span class="hs-identifier hs-var">y2</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501029"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-828"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679501027"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501027"><span class="hs-identifier hs-var">x0</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501026"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501026"><span class="hs-identifier hs-var">y0</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; (Int, Int)
</span><a href="#local-6989586621679501030"><span class="hs-identifier hs-var">cOf</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; SideRect
</span><a href="XMonad.Actions.Navigation2D.html#toSR"><span class="hs-identifier hs-var">toSR</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679501044"><span class="hs-identifier hs-var">rect</span></a></span><span>
</span><span id="line-829"></span><span>
</span><span id="line-830"></span><span>    </span><span class="hs-comment">-- Translate the given SideRect by (-x0, -y0).</span><span>
</span><span id="line-831"></span><span>    </span><span id="local-6989586621679501021"><span class="annot"><span class="annottext">translate :: SideRect -&gt; SideRect
</span><a href="#local-6989586621679501021"><span class="hs-identifier hs-var hs-var">translate</span></a></span></span><span> </span><span id="local-6989586621679501020"><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501020"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int -&gt; Int -&gt; SideRect
</span><a href="XMonad.Actions.Navigation2D.html#SideRect"><span class="hs-identifier hs-var">SideRect</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x1"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501020"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501027"><span class="hs-identifier hs-var">x0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x2"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501020"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501027"><span class="hs-identifier hs-var">x0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y1"><span class="hs-identifier hs-var">y1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501020"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501026"><span class="hs-identifier hs-var">y0</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y2"><span class="hs-identifier hs-var">y2</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501020"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501026"><span class="hs-identifier hs-var">y0</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-832"></span><span>
</span><span id="line-833"></span><span>    </span><span class="hs-comment">-- Rotate the given SideRect 90 degrees counter-clockwise about the origin.</span><span>
</span><span id="line-834"></span><span>    </span><span id="local-6989586621679501017"><span class="annot"><span class="annottext">rHalfPiCC :: SideRect -&gt; SideRect
</span><a href="#local-6989586621679501017"><span class="hs-identifier hs-var hs-var">rHalfPiCC</span></a></span></span><span> </span><span id="local-6989586621679501016"><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501016"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int -&gt; Int -&gt; SideRect
</span><a href="XMonad.Actions.Navigation2D.html#SideRect"><span class="hs-identifier hs-var">SideRect</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y2"><span class="hs-identifier hs-var">y2</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501016"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y1"><span class="hs-identifier hs-var">y1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501016"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x1"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501016"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x2"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501016"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-835"></span><span>
</span><span id="line-836"></span><span>    </span><span class="hs-comment">-- Apply the above function until d becomes synonymous with R (wolog).</span><span>
</span><span id="line-837"></span><span>    </span><span id="local-6989586621679501012"><span class="annot"><span class="annottext">rotateToR :: Direction2D -&gt; SideRect -&gt; SideRect
</span><a href="#local-6989586621679501012"><span class="hs-identifier hs-var hs-var">rotateToR</span></a></span></span><span> </span><span id="local-6989586621679501011"><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501011"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. Eq a =&gt; a -&gt; [(a, b)] -&gt; Maybe b
</span><span class="hs-identifier hs-var">lookup</span></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501011"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. [a] -&gt; [b] -&gt; [(a, b)]
</span><span class="hs-identifier hs-var">zip</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#R"><span class="hs-identifier hs-var">R</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#D"><span class="hs-identifier hs-var">D</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#L"><span class="hs-identifier hs-var">L</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="XMonad.Util.Types.html#U"><span class="hs-identifier hs-var">U</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; a) -&gt; a -&gt; [a]
</span><span class="hs-identifier hs-var">iterate</span></span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; SideRect
</span><a href="#local-6989586621679501017"><span class="hs-identifier hs-var">rHalfPiCC</span></a></span><span>
</span><span id="line-838"></span><span>
</span><span id="line-839"></span><span>    </span><span id="local-6989586621679501038"><span class="annot"><span class="annottext">transform :: Rectangle -&gt; SideRect
</span><a href="#local-6989586621679501038"><span class="hs-identifier hs-var hs-var">transform</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Direction2D -&gt; SideRect -&gt; SideRect
</span><a href="#local-6989586621679501012"><span class="hs-identifier hs-var">rotateToR</span></a></span><span> </span><span class="annot"><span class="annottext">Direction2D
</span><a href="#local-6989586621679501046"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; SideRect
</span><a href="#local-6989586621679501021"><span class="hs-identifier hs-var">translate</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; SideRect
</span><a href="XMonad.Actions.Navigation2D.html#toSR"><span class="hs-identifier hs-var">toSR</span></a></span><span>
</span><span id="line-840"></span><span>
</span><span id="line-841"></span><span>    </span><span class="hs-comment">-- (_, r) `toRightOf` (_, c) iff r has points to the right of c that aren't</span><span>
</span><span id="line-842"></span><span>    </span><span class="hs-comment">-- below or above c, i.e. iff:</span><span>
</span><span id="line-843"></span><span>    </span><span class="hs-comment">-- [x1 r, x2 r] x [y1 r, y2 r] intersects (x2 c, infinity) x (y1 c, y2 c)</span><span>
</span><span id="line-844"></span><span>    </span><span id="local-6989586621679501039"><span class="annot"><span class="annottext">toRightOf :: (a, SideRect) -&gt; (a, SideRect) -&gt; Bool
</span><a href="#local-6989586621679501039"><span class="hs-identifier hs-var hs-var">toRightOf</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501006"><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501006"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501005"><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501005"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x2"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501006"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x2"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501005"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y2"><span class="hs-identifier hs-var">y2</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501006"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y1"><span class="hs-identifier hs-var">y1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501005"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y1"><span class="hs-identifier hs-var">y1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501006"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y2"><span class="hs-identifier hs-var">y2</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501005"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-845"></span><span>
</span><span id="line-846"></span><span>    </span><span class="hs-comment">-- Greedily accumulate the windows tied for the leftmost left side.</span><span>
</span><span id="line-847"></span><span>    </span><span id="local-6989586621679501040"><span class="annot"><span class="annottext">acClosest :: (a, SideRect) -&gt; [(a, SideRect)] -&gt; [(a, SideRect)]
</span><a href="#local-6989586621679501040"><span class="hs-identifier hs-var hs-var">acClosest</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679501002"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501002"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679501001"><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501001"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679501000"><span class="annot"><span class="annottext">l :: [(a, SideRect)]
</span><a href="#local-6989586621679501000"><span class="hs-identifier hs-var">l</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679500999"><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679500999"><span class="hs-identifier hs-var">r'</span></a></span></span><span class="hs-special">)</span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[(a, SideRect)]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x1"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501001"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x1"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679500999"><span class="hs-identifier hs-var">r'</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679501002"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501001"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[(a, SideRect)]
</span><a href="#local-6989586621679501000"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-848"></span><span>                                   </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x1"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679501001"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span>  </span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#x1"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679500999"><span class="hs-identifier hs-var">r'</span></a></span><span> </span><span class="hs-glyph">=</span><span>          </span><span class="annot"><span class="annottext">[(a, SideRect)]
</span><a href="#local-6989586621679501000"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-849"></span><span>    </span><span class="annot"><a href="#local-6989586621679501040"><span class="hs-identifier hs-var">acClosest</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679500998"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679500998"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679500997"><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679500997"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(a, SideRect)]
</span><span class="hs-identifier">_</span></span><span>                             </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679500998"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679500997"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-850"></span><span>
</span><span id="line-851"></span><span>    </span><span class="hs-comment">-- Given a (_, SideRect), calculate how far it is from the y=bias line.</span><span>
</span><span id="line-852"></span><span>    </span><span id="local-6989586621679501042"><span class="annot"><span class="annottext">dist :: (a, SideRect) -&gt; Int
</span><a href="#local-6989586621679501042"><span class="hs-identifier hs-var hs-var">dist</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679500988"><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679500988"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y1"><span class="hs-identifier hs-var">y1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679500988"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501047"><span class="hs-identifier hs-var">bias</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501047"><span class="hs-identifier hs-var">bias</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y2"><span class="hs-identifier hs-var">y2</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679500988"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-853"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">min</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y1"><span class="hs-identifier hs-var">y1</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679500988"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501047"><span class="hs-identifier hs-var">bias</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SideRect -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#y2"><span class="hs-identifier hs-var">y2</span></a></span><span> </span><span class="annot"><span class="annottext">SideRect
</span><a href="#local-6989586621679500988"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679501047"><span class="hs-identifier hs-var">bias</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-854"></span><span>
</span><span id="line-855"></span><span class="hs-comment">-- | Swaps the current window with the window given as argument</span><span>
</span><span id="line-856"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#swap"><span class="hs-identifier hs-type">swap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span>
</span><span id="line-857"></span><span id="swap"><span class="annot"><span class="annottext">swap :: Window -&gt; WindowSet -&gt; WindowSet
</span><a href="XMonad.Actions.Navigation2D.html#swap"><span class="hs-identifier hs-var hs-var">swap</span></a></span></span><span> </span><span id="local-6989586621679500985"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679500985"><span class="hs-identifier hs-var">win</span></a></span></span><span> </span><span id="local-6989586621679500984"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500984"><span class="hs-identifier hs-var">winset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall s a i l sd.
(Eq s, Eq a, Eq i) =&gt;
a -&gt; StackSet i l a s sd -&gt; StackSet i l a s sd
</span><span class="hs-identifier hs-var">W.focusWindow</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679500983"><span class="hs-identifier hs-var">cur</span></a></span><span>
</span><span id="line-858"></span><span>                </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) b a.
Foldable t =&gt;
(b -&gt; a -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">L.foldl'</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">forall s a i l sd.
(Eq s, Eq a, Eq i) =&gt;
a -&gt; StackSet i l a s sd -&gt; StackSet i l a s sd
</span><span class="hs-identifier hs-var">W.focusWindow</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500981"><span class="hs-identifier hs-var">newwinset</span></a></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679500980"><span class="hs-identifier hs-var">newfocused</span></a></span><span>
</span><span id="line-859"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-860"></span><span>    </span><span class="hs-comment">-- The current window</span><span>
</span><span id="line-861"></span><span>    </span><span id="local-6989586621679500983"><span class="annot"><span class="annottext">cur :: Window
</span><a href="#local-6989586621679500983"><span class="hs-identifier hs-var hs-var">cur</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromJust</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall i l a s sd. StackSet i l a s sd -&gt; Maybe a
</span><span class="hs-identifier hs-var">W.peek</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500984"><span class="hs-identifier hs-var">winset</span></a></span><span>
</span><span id="line-862"></span><span>
</span><span id="line-863"></span><span>    </span><span class="hs-comment">-- All screens</span><span>
</span><span id="line-864"></span><span>    </span><span id="local-6989586621679500977"><span class="annot"><span class="annottext">scrs :: [Screen]
</span><a href="#local-6989586621679500977"><span class="hs-identifier hs-var hs-var">scrs</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall i l a s sd. StackSet i l a s sd -&gt; [Screen i l a s sd]
</span><span class="hs-identifier hs-var">W.screens</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500984"><span class="hs-identifier hs-var">winset</span></a></span><span>
</span><span id="line-865"></span><span>
</span><span id="line-866"></span><span>    </span><span class="hs-comment">-- All visible workspaces</span><span>
</span><span id="line-867"></span><span>    </span><span id="local-6989586621679500976"><span class="annot"><span class="annottext">visws :: [Workspace WorkspaceId (Layout Window) Window]
</span><a href="#local-6989586621679500976"><span class="hs-identifier hs-var hs-var">visws</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; Workspace i l a
</span><span class="hs-identifier hs-var">W.workspace</span></span><span> </span><span class="annot"><span class="annottext">[Screen]
</span><a href="#local-6989586621679500977"><span class="hs-identifier hs-var">scrs</span></a></span><span>
</span><span id="line-868"></span><span>
</span><span id="line-869"></span><span>    </span><span class="hs-comment">-- The focused windows of the visible workspaces</span><span>
</span><span id="line-870"></span><span>    </span><span id="local-6989586621679500974"><span class="annot"><span class="annottext">focused :: [Window]
</span><a href="#local-6989586621679500974"><span class="hs-identifier hs-var hs-var">focused</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">forall a. Stack a -&gt; a
</span><span class="hs-identifier hs-var">W.focus</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a. Workspace i l a -&gt; Maybe (Stack a)
</span><span class="hs-identifier hs-var">W.stack</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Workspace WorkspaceId (Layout Window) Window]
</span><a href="#local-6989586621679500976"><span class="hs-identifier hs-var">visws</span></a></span><span>
</span><span id="line-871"></span><span>
</span><span id="line-872"></span><span>    </span><span class="hs-comment">-- The window lists of the visible workspaces</span><span>
</span><span id="line-873"></span><span>    </span><span id="local-6989586621679500971"><span class="annot"><span class="annottext">wins :: [[Window]]
</span><a href="#local-6989586621679500971"><span class="hs-identifier hs-var hs-var">wins</span></a></span></span><span>     </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Maybe (Stack a) -&gt; [a]
</span><span class="hs-identifier hs-var">W.integrate'</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a. Workspace i l a -&gt; Maybe (Stack a)
</span><span class="hs-identifier hs-var">W.stack</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Workspace WorkspaceId (Layout Window) Window]
</span><a href="#local-6989586621679500976"><span class="hs-identifier hs-var">visws</span></a></span><span>
</span><span id="line-874"></span><span>
</span><span id="line-875"></span><span>    </span><span class="hs-comment">-- Update focused windows and window lists to reflect swap of windows.</span><span>
</span><span id="line-876"></span><span>    </span><span id="local-6989586621679500980"><span class="annot"><span class="annottext">newfocused :: [Window]
</span><a href="#local-6989586621679500980"><span class="hs-identifier hs-var hs-var">newfocused</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Window -&gt; Window
</span><a href="#local-6989586621679500970"><span class="hs-identifier hs-var">swapWins</span></a></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679500974"><span class="hs-identifier hs-var">focused</span></a></span><span>
</span><span id="line-877"></span><span>    </span><span id="local-6989586621679500969"><span class="annot"><span class="annottext">newwins :: [[Window]]
</span><a href="#local-6989586621679500969"><span class="hs-identifier hs-var hs-var">newwins</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Window -&gt; Window
</span><a href="#local-6989586621679500970"><span class="hs-identifier hs-var">swapWins</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[[Window]]
</span><a href="#local-6989586621679500971"><span class="hs-identifier hs-var">wins</span></a></span><span>
</span><span id="line-878"></span><span>
</span><span id="line-879"></span><span>    </span><span class="hs-comment">-- Replaces the current window with the argument window and vice versa.</span><span>
</span><span id="line-880"></span><span>    </span><span id="local-6989586621679500970"><span class="annot"><span class="annottext">swapWins :: Window -&gt; Window
</span><a href="#local-6989586621679500970"><span class="hs-identifier hs-var hs-var">swapWins</span></a></span></span><span> </span><span id="local-6989586621679500966"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679500966"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679500966"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679500983"><span class="hs-identifier hs-var">cur</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679500985"><span class="hs-identifier hs-var">win</span></a></span><span>
</span><span id="line-881"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679500966"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679500985"><span class="hs-identifier hs-var">win</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679500983"><span class="hs-identifier hs-var">cur</span></a></span><span>
</span><span id="line-882"></span><span>               </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679500966"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-883"></span><span>
</span><span id="line-884"></span><span>    </span><span class="hs-comment">-- Reconstruct the workspaces' window stacks to reflect the swap.</span><span>
</span><span id="line-885"></span><span>    </span><span id="local-6989586621679500965"><span class="annot"><span class="annottext">newvisws :: [Workspace WorkspaceId (Layout Window) Window]
</span><a href="#local-6989586621679500965"><span class="hs-identifier hs-var hs-var">newvisws</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679500963"><span class="annot"><span class="annottext">Workspace WorkspaceId (Layout Window) Window
</span><a href="#local-6989586621679500963"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span id="local-6989586621679500962"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679500962"><span class="hs-identifier hs-var">wns</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Workspace WorkspaceId (Layout Window) Window
</span><a href="#local-6989586621679500963"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">stack :: Maybe (Stack Window)
</span><span class="hs-identifier hs-var">W.stack</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; Maybe (Stack a)
</span><span class="hs-identifier hs-var">W.differentiate</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679500962"><span class="hs-identifier hs-var">wns</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Workspace WorkspaceId (Layout Window) Window]
</span><a href="#local-6989586621679500976"><span class="hs-identifier hs-var">visws</span></a></span><span> </span><span class="annot"><span class="annottext">[[Window]]
</span><a href="#local-6989586621679500969"><span class="hs-identifier hs-var">newwins</span></a></span><span>
</span><span id="line-886"></span><span>    </span><span id="local-6989586621679500961"><span class="annot"><span class="annottext">newscrs :: [Screen]
</span><a href="#local-6989586621679500961"><span class="hs-identifier hs-var hs-var">newscrs</span></a></span></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679500960"><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679500960"><span class="hs-identifier hs-var">scr</span></a></span></span><span> </span><span id="local-6989586621679500959"><span class="annot"><span class="annottext">Workspace WorkspaceId (Layout Window) Window
</span><a href="#local-6989586621679500959"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679500960"><span class="hs-identifier hs-var">scr</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">workspace :: Workspace WorkspaceId (Layout Window) Window
</span><span class="hs-identifier hs-var">W.workspace</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Workspace WorkspaceId (Layout Window) Window
</span><a href="#local-6989586621679500959"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Screen]
</span><a href="#local-6989586621679500977"><span class="hs-identifier hs-var">scrs</span></a></span><span> </span><span class="annot"><span class="annottext">[Workspace WorkspaceId (Layout Window) Window]
</span><a href="#local-6989586621679500965"><span class="hs-identifier hs-var">newvisws</span></a></span><span>
</span><span id="line-887"></span><span>    </span><span id="local-6989586621679500981"><span class="annot"><span class="annottext">newwinset :: WindowSet
</span><a href="#local-6989586621679500981"><span class="hs-identifier hs-var hs-var">newwinset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500984"><span class="hs-identifier hs-var">winset</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">current :: Screen
</span><span class="hs-identifier hs-var">W.current</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. NonEmpty a -&gt; a
</span><span class="hs-identifier hs-var">NE.head</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [a] -&gt; NonEmpty a
</span><a href="XMonad.Prelude.html#notEmpty"><span class="hs-identifier hs-var">notEmpty</span></a></span><span> </span><span class="annot"><span class="annottext">[Screen]
</span><a href="#local-6989586621679500961"><span class="hs-identifier hs-var">newscrs</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- Always at least one screen.</span><span>
</span><span id="line-888"></span><span>                       </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">visible :: [Screen]
</span><span class="hs-identifier hs-var">W.visible</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">[Screen]
</span><a href="#local-6989586621679500961"><span class="hs-identifier hs-var">newscrs</span></a></span><span>
</span><span id="line-889"></span><span>                       </span><span class="hs-special">}</span><span>
</span><span id="line-890"></span><span>
</span><span id="line-891"></span><span class="hs-comment">-- | Calculates the center of a rectangle</span><span>
</span><span id="line-892"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#centerOf"><span class="hs-identifier hs-type">centerOf</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rectangle</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Position</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Position</span></span><span class="hs-special">)</span><span>
</span><span id="line-893"></span><span id="centerOf"><span class="annot"><span class="annottext">centerOf :: Rectangle -&gt; (Position, Position)
</span><a href="XMonad.Actions.Navigation2D.html#centerOf"><span class="hs-identifier hs-var hs-var">centerOf</span></a></span></span><span> </span><span id="local-6989586621679500953"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500953"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_x</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500953"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rectangle -&gt; Dimension
</span><span class="hs-identifier hs-var">rect_width</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500953"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_y</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500953"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rectangle -&gt; Dimension
</span><span class="hs-identifier hs-var">rect_height</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500953"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`div`</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><span class="hs-number">2</span></span><span class="hs-special">)</span><span>
</span><span id="line-894"></span><span>
</span><span id="line-895"></span><span class="hs-comment">-- | Functions to choose the subset of windows to operate on</span><span>
</span><span id="line-896"></span><span id="local-6989586621679501901"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#thisLayer"><span class="hs-identifier hs-type">thisLayer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#otherLayer"><span class="hs-identifier hs-type">otherLayer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679501901"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679501901"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679501901"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-897"></span><span id="thisLayer"><span class="annot"><span class="annottext">thisLayer :: forall a. a -&gt; a -&gt; a
</span><a href="XMonad.Actions.Navigation2D.html#thisLayer"><span class="hs-identifier hs-var hs-var">thisLayer</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span>
</span><span id="line-898"></span><span id="otherLayer"><span class="annot"><span class="annottext">otherLayer :: forall a. a -&gt; a -&gt; a
</span><a href="XMonad.Actions.Navigation2D.html#otherLayer"><span class="hs-identifier hs-var hs-var">otherLayer</span></a></span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679500951"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679500951"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679500951"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-899"></span><span>
</span><span id="line-900"></span><span class="hs-comment">-- | Returns the list of visible workspaces and their screen rects</span><span>
</span><span id="line-901"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#visibleWorkspaces"><span class="hs-identifier hs-type">visibleWorkspaces</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#WSRect"><span class="hs-identifier hs-type">WSRect</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-902"></span><span id="visibleWorkspaces"><span class="annot"><span class="annottext">visibleWorkspaces :: WindowSet -&gt; Bool -&gt; [WSRect]
</span><a href="XMonad.Actions.Navigation2D.html#visibleWorkspaces"><span class="hs-identifier hs-var hs-var">visibleWorkspaces</span></a></span></span><span> </span><span id="local-6989586621679500950"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500950"><span class="hs-identifier hs-var">winset</span></a></span></span><span> </span><span id="local-6989586621679500949"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679500949"><span class="hs-identifier hs-var">wrap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. WindowSet -&gt; Bool -&gt; [Rect a] -&gt; [Rect a]
</span><a href="XMonad.Actions.Navigation2D.html#addWrapping"><span class="hs-identifier hs-var">addWrapping</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500950"><span class="hs-identifier hs-var">winset</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679500949"><span class="hs-identifier hs-var">wrap</span></a></span><span>
</span><span id="line-903"></span><span>                              </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679500948"><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679500948"><span class="hs-identifier hs-var">scr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">forall i l a. Workspace i l a -&gt; i
</span><span class="hs-identifier hs-var">W.tag</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; Workspace i l a
</span><span class="hs-identifier hs-var">W.workspace</span></span><span>         </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679500948"><span class="hs-identifier hs-var">scr</span></a></span><span>
</span><span id="line-904"></span><span>                                              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ScreenDetail -&gt; Rectangle
</span><span class="hs-identifier hs-var">screenRect</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; sd
</span><span class="hs-identifier hs-var">W.screenDetail</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Screen
</span><a href="#local-6989586621679500948"><span class="hs-identifier hs-var">scr</span></a></span><span>
</span><span id="line-905"></span><span>                                              </span><span class="hs-special">)</span><span>
</span><span id="line-906"></span><span>                                    </span><span class="hs-special">)</span><span>
</span><span id="line-907"></span><span>                              </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WindowSet -&gt; [Screen]
</span><a href="XMonad.Actions.Navigation2D.html#sortedScreens"><span class="hs-identifier hs-var">sortedScreens</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500950"><span class="hs-identifier hs-var">winset</span></a></span><span>
</span><span id="line-908"></span><span>
</span><span id="line-909"></span><span class="hs-comment">-- | Creates five copies of each (window/workspace, rect) pair in the input: the</span><span>
</span><span id="line-910"></span><span class="hs-comment">-- original and four offset one desktop size (desktop = collection of all</span><span>
</span><span id="line-911"></span><span class="hs-comment">-- screens) to the left, to the right, up, and down.  Wrap-around at desktop</span><span>
</span><span id="line-912"></span><span class="hs-comment">-- edges is implemented by navigating into these displaced copies.</span><span>
</span><span id="line-913"></span><span id="local-6989586621679501832"><span class="annot"><a href="XMonad.Actions.Navigation2D.html#addWrapping"><span class="hs-identifier hs-type">addWrapping</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-comment">-- ^ The window set, used to get the desktop size</span><span>
</span><span id="line-914"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>      </span><span class="hs-comment">-- ^ Should wrapping be used?  Do nothing if not.</span><span>
</span><span id="line-915"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679501832"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- ^ Input set of (window/workspace, rect) pairs</span><span>
</span><span id="line-916"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Rect"><span class="hs-identifier hs-type">Rect</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679501832"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-917"></span><span id="addWrapping"><span class="annot"><span class="annottext">addWrapping :: forall a. WindowSet -&gt; Bool -&gt; [Rect a] -&gt; [Rect a]
</span><a href="XMonad.Actions.Navigation2D.html#addWrapping"><span class="hs-identifier hs-var hs-var">addWrapping</span></a></span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><span class="hs-identifier">_</span></span><span>      </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span id="local-6989586621679500932"><span class="annot"><span class="annottext">[Rect a]
</span><a href="#local-6989586621679500932"><span class="hs-identifier hs-var">wrects</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Rect a]
</span><a href="#local-6989586621679500932"><span class="hs-identifier hs-var">wrects</span></a></span><span>
</span><span id="line-918"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#addWrapping"><span class="hs-identifier hs-var">addWrapping</span></a></span><span> </span><span id="local-6989586621679500931"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500931"><span class="hs-identifier hs-var">winset</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span id="local-6989586621679500930"><span class="annot"><span class="annottext">[Rect a]
</span><a href="#local-6989586621679500930"><span class="hs-identifier hs-var">wrects</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679500929"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500928"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">rect_x :: Position
</span><span class="hs-identifier hs-var">rect_x</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_x</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500928"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500927"><span class="hs-identifier hs-var">x</span></a></span><span>
</span><span id="line-919"></span><span>                                          </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">rect_y :: Position
</span><span class="hs-identifier hs-var">rect_y</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_y</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500928"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500926"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-920"></span><span>                                          </span><span class="hs-special">}</span><span>
</span><span id="line-921"></span><span>                                    </span><span class="hs-special">)</span><span>
</span><span id="line-922"></span><span>                                  </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679500929"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679500929"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679500928"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500928"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Rect a]
</span><a href="#local-6989586621679500930"><span class="hs-identifier hs-var">wrects</span></a></span><span>
</span><span id="line-923"></span><span>                                  </span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679500927"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500927"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679500926"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500926"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500925"><span class="hs-identifier hs-var">xoff</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500925"><span class="hs-identifier hs-var">xoff</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500924"><span class="hs-identifier hs-var">yoff</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500924"><span class="hs-identifier hs-var">yoff</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-924"></span><span>                                  </span><span class="hs-special">]</span><span>
</span><span id="line-925"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-926"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679500925"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500925"><span class="hs-identifier hs-var">xoff</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679500924"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500924"><span class="hs-identifier hs-var">yoff</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WindowSet -&gt; (Integer, Integer)
</span><a href="XMonad.Actions.Navigation2D.html#wrapOffsets"><span class="hs-identifier hs-var">wrapOffsets</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500931"><span class="hs-identifier hs-var">winset</span></a></span><span>
</span><span id="line-927"></span><span>
</span><span id="line-928"></span><span class="hs-comment">-- | Calculates the offsets for window/screen coordinates for the duplication</span><span>
</span><span id="line-929"></span><span class="hs-comment">-- of windows/workspaces that implements wrap-around.</span><span>
</span><span id="line-930"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#wrapOffsets"><span class="hs-identifier hs-type">wrapOffsets</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-931"></span><span id="wrapOffsets"><span class="annot"><span class="annottext">wrapOffsets :: WindowSet -&gt; (Integer, Integer)
</span><a href="XMonad.Actions.Navigation2D.html#wrapOffsets"><span class="hs-identifier hs-var hs-var">wrapOffsets</span></a></span></span><span> </span><span id="local-6989586621679500922"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500922"><span class="hs-identifier hs-var">winset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500921"><span class="hs-identifier hs-var">max_x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500920"><span class="hs-identifier hs-var">min_x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500919"><span class="hs-identifier hs-var">max_y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679500918"><span class="hs-identifier hs-var">min_y</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-932"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-933"></span><span>    </span><span id="local-6989586621679500920"><span class="annot"><span class="annottext">min_x :: Integer
</span><a href="#local-6989586621679500920"><span class="hs-identifier hs-var hs-var">min_x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Ord a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">minimum</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_x</span></span><span> </span><span class="annot"><span class="annottext">[Rectangle]
</span><a href="#local-6989586621679500912"><span class="hs-identifier hs-var">rects</span></a></span><span>
</span><span id="line-934"></span><span>    </span><span id="local-6989586621679500918"><span class="annot"><span class="annottext">min_y :: Integer
</span><a href="#local-6989586621679500918"><span class="hs-identifier hs-var hs-var">min_y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Ord a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">minimum</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_y</span></span><span> </span><span class="annot"><span class="annottext">[Rectangle]
</span><a href="#local-6989586621679500912"><span class="hs-identifier hs-var">rects</span></a></span><span>
</span><span id="line-935"></span><span>    </span><span id="local-6989586621679500921"><span class="annot"><span class="annottext">max_x :: Integer
</span><a href="#local-6989586621679500921"><span class="hs-identifier hs-var hs-var">max_x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Ord a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">maximum</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679500900"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500900"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_x</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500900"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rectangle -&gt; Dimension
</span><span class="hs-identifier hs-var">rect_width</span></span><span>  </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500900"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Rectangle]
</span><a href="#local-6989586621679500912"><span class="hs-identifier hs-var">rects</span></a></span><span>
</span><span id="line-936"></span><span>    </span><span id="local-6989586621679500919"><span class="annot"><span class="annottext">max_y :: Integer
</span><a href="#local-6989586621679500919"><span class="hs-identifier hs-var hs-var">max_y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Ord a) =&gt; t a -&gt; a
</span><span class="hs-identifier hs-var">maximum</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679500892"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500892"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Position
</span><span class="hs-identifier hs-var">rect_y</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500892"><span class="hs-identifier hs-var">r</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Rectangle -&gt; Dimension
</span><span class="hs-identifier hs-var">rect_height</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679500892"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Rectangle]
</span><a href="#local-6989586621679500912"><span class="hs-identifier hs-var">rects</span></a></span><span>
</span><span id="line-937"></span><span>    </span><span id="local-6989586621679500912"><span class="annot"><span class="annottext">rects :: [Rectangle]
</span><a href="#local-6989586621679500912"><span class="hs-identifier hs-var hs-var">rects</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WindowSet -&gt; Bool -&gt; [WSRect]
</span><a href="XMonad.Actions.Navigation2D.html#visibleWorkspaces"><span class="hs-identifier hs-var">visibleWorkspaces</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500922"><span class="hs-identifier hs-var">winset</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-938"></span><span>
</span><span id="line-939"></span><span>
</span><span id="line-940"></span><span class="hs-comment">-- | Returns the list of screens sorted primarily by their centers'</span><span>
</span><span id="line-941"></span><span class="hs-comment">-- x-coordinates and secondarily by their y-coordinates.</span><span>
</span><span id="line-942"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#sortedScreens"><span class="hs-identifier hs-type">sortedScreens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#Screen"><span class="hs-identifier hs-type">Screen</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-943"></span><span id="sortedScreens"><span class="annot"><span class="annottext">sortedScreens :: WindowSet -&gt; [Screen]
</span><a href="XMonad.Actions.Navigation2D.html#sortedScreens"><span class="hs-identifier hs-var hs-var">sortedScreens</span></a></span></span><span> </span><span id="local-6989586621679500891"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500891"><span class="hs-identifier hs-var">winset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; a -&gt; Ordering) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">L.sortBy</span></span><span> </span><span class="annot"><span class="annottext">forall {i} {l} {a} {sid} {i} {l} {a} {sid}.
Screen i l a sid ScreenDetail
-&gt; Screen i l a sid ScreenDetail -&gt; Ordering
</span><a href="#local-6989586621679500889"><span class="hs-identifier hs-var">cmp</span></a></span><span>
</span><span id="line-944"></span><span>                     </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall i l a s sd. StackSet i l a s sd -&gt; [Screen i l a s sd]
</span><span class="hs-identifier hs-var">W.screens</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679500891"><span class="hs-identifier hs-var">winset</span></a></span><span>
</span><span id="line-945"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-946"></span><span>    </span><span id="local-6989586621679500889"><span class="annot"><span class="annottext">cmp :: Screen i l a sid ScreenDetail
-&gt; Screen i l a sid ScreenDetail -&gt; Ordering
</span><a href="#local-6989586621679500889"><span class="hs-identifier hs-var hs-var">cmp</span></a></span></span><span> </span><span id="local-6989586621679500884"><span class="annot"><span class="annottext">Screen i l a sid ScreenDetail
</span><a href="#local-6989586621679500884"><span class="hs-identifier hs-var">s1</span></a></span></span><span> </span><span id="local-6989586621679500883"><span class="annot"><span class="annottext">Screen i l a sid ScreenDetail
</span><a href="#local-6989586621679500883"><span class="hs-identifier hs-var">s2</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500882"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500881"><span class="hs-identifier hs-var">x'</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-947"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500882"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500881"><span class="hs-identifier hs-var">x'</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-948"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500880"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500881"><span class="hs-identifier hs-var">x'</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">LT</span></span><span>
</span><span id="line-949"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500880"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500879"><span class="hs-identifier hs-var">y'</span></a></span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">GT</span></span><span>
</span><span id="line-950"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Ordering
</span><span class="hs-identifier hs-var">EQ</span></span><span>
</span><span id="line-951"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-952"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679500882"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500882"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-special">,</span><span> </span><span id="local-6989586621679500880"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500880"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; (Position, Position)
</span><a href="XMonad.Actions.Navigation2D.html#centerOf"><span class="hs-identifier hs-var">centerOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScreenDetail -&gt; Rectangle
</span><span class="hs-identifier hs-var">screenRect</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; sd
</span><span class="hs-identifier hs-var">W.screenDetail</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Screen i l a sid ScreenDetail
</span><a href="#local-6989586621679500884"><span class="hs-identifier hs-var">s1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-953"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679500881"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500881"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679500879"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500879"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; (Position, Position)
</span><a href="XMonad.Actions.Navigation2D.html#centerOf"><span class="hs-identifier hs-var">centerOf</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScreenDetail -&gt; Rectangle
</span><span class="hs-identifier hs-var">screenRect</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; sd
</span><span class="hs-identifier hs-var">W.screenDetail</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Screen i l a sid ScreenDetail
</span><a href="#local-6989586621679500883"><span class="hs-identifier hs-var">s2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-954"></span><span>
</span><span id="line-955"></span><span>
</span><span id="line-956"></span><span class="hs-comment">-- | Calculates the L1-distance between two points.</span><span>
</span><span id="line-957"></span><span class="annot"><a href="XMonad.Actions.Navigation2D.html#lDist"><span class="hs-identifier hs-type">lDist</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Position</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Position</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Position</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Position</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-958"></span><span id="lDist"><span class="annot"><span class="annottext">lDist :: (Position, Position) -&gt; (Position, Position) -&gt; Int
</span><a href="XMonad.Actions.Navigation2D.html#lDist"><span class="hs-identifier hs-var hs-var">lDist</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679500878"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500878"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679500877"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500877"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679500876"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500876"><span class="hs-identifier hs-var">x'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679500875"><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500875"><span class="hs-identifier hs-var">y'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500878"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500876"><span class="hs-identifier hs-var">x'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500877"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Position
</span><a href="#local-6989586621679500875"><span class="hs-identifier hs-var">y'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-959"></span></pre></body></html>