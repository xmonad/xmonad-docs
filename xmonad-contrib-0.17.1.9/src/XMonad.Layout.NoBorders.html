<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FlexibleContexts, FlexibleInstances, MultiParamTypeClasses #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE PatternGuards #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# OPTIONS_GHC -Wno-dodgy-imports #-}</span><span> </span><span class="hs-comment">-- singleton in Data.List since base 4.15</span><span>
</span><span id="line-4"></span><span>
</span><span id="line-5"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Module      :  XMonad.Layout.NoBorders</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Description :  Make a given layout display without borders.</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Copyright   :  (c) --    David Roundy &lt;droundy@darcs.net&gt;</span><span>
</span><span id="line-10"></span><span class="hs-comment">--                    2018  Yclept Nemo</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- License     :  BSD3-style (see LICENSE)</span><span>
</span><span id="line-12"></span><span class="hs-comment">--</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Maintainer  :  Spencer Janssen &lt;spencerjanssen@gmail.com&gt;</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- Stability   :  unstable</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- Portability :  unportable</span><span>
</span><span id="line-16"></span><span class="hs-comment">--</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- Make a given layout display without borders.  This is useful for</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- full-screen or tabbed layouts, where you don't really want to waste a</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- couple of pixels of real estate just to inform yourself that the visible</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- window has focus.</span><span>
</span><span id="line-21"></span><span class="hs-comment">--</span><span>
</span><span id="line-22"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">XMonad.Layout.NoBorders</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Usage</span></span><span>
</span><span id="line-25"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- $usage</span></span><span>
</span><span id="line-26"></span><span>                                 </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#noBorders"><span class="hs-identifier">noBorders</span></a></span><span>
</span><span id="line-27"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#smartBorders"><span class="hs-identifier">smartBorders</span></a></span><span>
</span><span id="line-28"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#withBorder"><span class="hs-identifier">withBorder</span></a></span><span>
</span><span id="line-29"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#lessBorders"><span class="hs-identifier">lessBorders</span></a></span><span>
</span><span id="line-30"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#hasBorder"><span class="hs-identifier">hasBorder</span></a></span><span>
</span><span id="line-31"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#SetsAmbiguous"><span class="hs-identifier">SetsAmbiguous</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#Ambiguity"><span class="hs-identifier">Ambiguity</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-33"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#With"><span class="hs-identifier">With</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#BorderMessage"><span class="hs-identifier">BorderMessage</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#borderEventHook"><span class="hs-identifier">borderEventHook</span></a></span><span>
</span><span id="line-35"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#SmartBorder"><span class="hs-identifier">SmartBorder</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#WithBorder"><span class="hs-identifier">WithBorder</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#ConfigurableBorder"><span class="hs-identifier">ConfigurableBorder</span></a></span><span>
</span><span id="line-36"></span><span>                               </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-37"></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><span class="hs-identifier">XMonad</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="XMonad.Prelude.html"><span class="hs-identifier">XMonad.Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">singleton</span></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span>           </span><span class="annot"><a href="XMonad.Layout.LayoutModifier.html"><span class="hs-identifier">XMonad.Layout.LayoutModifier</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">XMonad.StackSet</span></span><span>                </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">W</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="XMonad.Util.Rectangle.html"><span class="hs-identifier">XMonad.Util.Rectangle</span></a></span><span>          </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">R</span></span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map</span></span><span>                       </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span>
</span><span id="line-47"></span><span class="hs-comment">-- $usage</span><span>
</span><span id="line-48"></span><span class="hs-comment">-- You can use this module with the following in your xmonad.hs file:</span><span>
</span><span id="line-49"></span><span class="hs-comment">--</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- &gt; import XMonad.Layout.NoBorders</span><span>
</span><span id="line-51"></span><span class="hs-comment">--</span><span>
</span><span id="line-52"></span><span class="hs-comment">-- and modify the layouts to call noBorders on the layouts you want to lack</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- borders:</span><span>
</span><span id="line-54"></span><span class="hs-comment">--</span><span>
</span><span id="line-55"></span><span class="hs-comment">-- &gt; layoutHook = ... ||| noBorders Full ||| ...</span><span>
</span><span id="line-56"></span><span class="hs-comment">--</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- For more detailed instructions on editing the layoutHook see</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- &lt;https://xmonad.org/TUTORIAL.html#customizing-xmonad the tutorial&gt; and</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- &quot;XMonad.Doc.Extending#Editing_the_layout_hook&quot;.</span><span>
</span><span id="line-60"></span><span>
</span><span id="line-61"></span><span class="hs-comment">-- todo, use an InvisibleList.</span><span>
</span><span id="line-62"></span><span class="hs-keyword">data</span><span> </span><span id="WithBorder"><span class="annot"><a href="XMonad.Layout.NoBorders.html#WithBorder"><span class="hs-identifier hs-var">WithBorder</span></a></span></span><span> </span><span id="local-6989586621679432312"><span class="annot"><a href="#local-6989586621679432312"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WithBorder"><span class="annot"><a href="XMonad.Layout.NoBorders.html#WithBorder"><span class="hs-identifier hs-var">WithBorder</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679432312"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span> </span><span id="local-6989586621679432041"><span id="local-6989586621679432052"><span id="local-6989586621679432055"><span id="local-6989586621679432057"><span class="annot"><span class="annottext">ReadPrec [WithBorder a]
ReadPrec (WithBorder a)
ReadS [WithBorder a]
forall a. Read a =&gt; ReadPrec [WithBorder a]
forall a. Read a =&gt; ReadPrec (WithBorder a)
forall a. Read a =&gt; Int -&gt; ReadS (WithBorder a)
forall a. Read a =&gt; ReadS [WithBorder a]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [WithBorder a]
$creadListPrec :: forall a. Read a =&gt; ReadPrec [WithBorder a]
readPrec :: ReadPrec (WithBorder a)
$creadPrec :: forall a. Read a =&gt; ReadPrec (WithBorder a)
readList :: ReadS [WithBorder a]
$creadList :: forall a. Read a =&gt; ReadS [WithBorder a]
readsPrec :: Int -&gt; ReadS (WithBorder a)
$creadsPrec :: forall a. Read a =&gt; Int -&gt; ReadS (WithBorder a)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679432027"><span id="local-6989586621679432029"><span id="local-6989586621679432037"><span class="annot"><span class="annottext">Int -&gt; WithBorder a -&gt; ShowS
forall a. Show a =&gt; Int -&gt; WithBorder a -&gt; ShowS
forall a. Show a =&gt; [WithBorder a] -&gt; ShowS
forall a. Show a =&gt; WithBorder a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [WithBorder a] -&gt; ShowS
$cshowList :: forall a. Show a =&gt; [WithBorder a] -&gt; ShowS
show :: WithBorder a -&gt; String
$cshow :: forall a. Show a =&gt; WithBorder a -&gt; String
showsPrec :: Int -&gt; WithBorder a -&gt; ShowS
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; WithBorder a -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679432000"><span id="local-6989586621679432002"><span id="local-6989586621679432005"><span id="local-6989586621679432007"><span id="local-6989586621679432010"><span id="local-6989586621679432012"><span id="local-6989586621679432014"><span id="local-6989586621679432016"><span id="local-6989586621679432018"><span class="annot"><a href="XMonad.Layout.LayoutModifier.html#LayoutModifier"><span class="hs-identifier hs-type">LayoutModifier</span></a></span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#WithBorder"><span class="hs-identifier hs-type">WithBorder</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-65"></span><span>    </span><span id="local-6989586621679431993"><span class="annot"><span class="annottext">unhook :: WithBorder Window -&gt; X ()
</span><a href="XMonad.Layout.LayoutModifier.html#unhook"><span class="hs-identifier hs-var hs-var hs-var hs-var">unhook</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.NoBorders.html#WithBorder"><span class="hs-identifier hs-type">WithBorder</span></a></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679431991"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431991"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (l :: * -&gt; *). XConfig l -&gt; Dimension
</span><span class="hs-identifier hs-var">borderWidth</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XConf -&gt; XConfig Layout
</span><span class="hs-identifier hs-var">config</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; Dimension -&gt; X ()
</span><a href="XMonad.Layout.NoBorders.html#setBorders"><span class="hs-identifier hs-var">setBorders</span></a></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431991"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span>    </span><span id="local-6989586621679431978"><span class="annot"><span class="annottext">redoLayout :: WithBorder Window
-&gt; Rectangle
-&gt; Maybe (Stack Window)
-&gt; [(Window, Rectangle)]
-&gt; X ([(Window, Rectangle)], Maybe (WithBorder Window))
</span><a href="XMonad.Layout.LayoutModifier.html#redoLayout"><span class="hs-identifier hs-var hs-var hs-var hs-var">redoLayout</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.NoBorders.html#WithBorder"><span class="hs-identifier hs-type">WithBorder</span></a></span><span> </span><span id="local-6989586621679431976"><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679431976"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679431975"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431975"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Stack Window)
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679431974"><span class="annot"><span class="annottext">[(Window, Rectangle)]
</span><a href="#local-6989586621679431974"><span class="hs-identifier hs-var">wrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-68"></span><span>        </span><span class="annot"><span class="annottext">forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (l :: * -&gt; *). XConfig l -&gt; Dimension
</span><span class="hs-identifier hs-var">borderWidth</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XConf -&gt; XConfig Layout
</span><span class="hs-identifier hs-var">config</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; Dimension -&gt; X ()
</span><a href="XMonad.Layout.NoBorders.html#setBorders"><span class="hs-identifier hs-var">setBorders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431975"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">\\</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431972"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span>        </span><span class="annot"><span class="annottext">[Window] -&gt; Dimension -&gt; X ()
</span><a href="XMonad.Layout.NoBorders.html#setBorders"><span class="hs-identifier hs-var">setBorders</span></a></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431972"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679431976"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-70"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Window, Rectangle)]
</span><a href="#local-6989586621679431974"><span class="hs-identifier hs-var">wrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. Dimension -&gt; [a] -&gt; WithBorder a
</span><a href="XMonad.Layout.NoBorders.html#WithBorder"><span class="hs-identifier hs-var">WithBorder</span></a></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679431976"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431972"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>     </span><span class="hs-keyword">where</span><span>
</span><span id="line-72"></span><span>        </span><span id="local-6989586621679431972"><span class="annot"><span class="annottext">ws :: [Window]
</span><a href="#local-6989586621679431972"><span class="hs-identifier hs-var hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">[(Window, Rectangle)]
</span><a href="#local-6989586621679431974"><span class="hs-identifier hs-var">wrs</span></a></span><span>
</span><span id="line-73"></span><span>
</span><span id="line-74"></span><span class="hs-comment">-- | Removes all window borders from the specified layout.</span><span>
</span><span id="line-75"></span><span id="local-6989586621679432276"><span class="annot"><a href="XMonad.Layout.NoBorders.html#noBorders"><span class="hs-identifier hs-type">noBorders</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LayoutClass</span></span><span> </span><span class="annot"><a href="#local-6989586621679432276"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679432276"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Layout.LayoutModifier.html#ModifiedLayout"><span class="hs-identifier hs-type">ModifiedLayout</span></a></span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#WithBorder"><span class="hs-identifier hs-type">WithBorder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432276"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span></span><span>
</span><span id="line-76"></span><span id="noBorders"><span class="annot"><span class="annottext">noBorders :: forall (l :: * -&gt; *).
LayoutClass l Window =&gt;
l Window -&gt; ModifiedLayout WithBorder l Window
</span><a href="XMonad.Layout.NoBorders.html#noBorders"><span class="hs-identifier hs-var hs-var">noBorders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (l :: * -&gt; *) a.
LayoutClass l a =&gt;
Dimension -&gt; l a -&gt; ModifiedLayout WithBorder l a
</span><a href="XMonad.Layout.NoBorders.html#withBorder"><span class="hs-identifier hs-var">withBorder</span></a></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><span class="hs-number">0</span></span><span>
</span><span id="line-77"></span><span>
</span><span id="line-78"></span><span class="hs-comment">-- | Forces a layout to use the specified border width. 'noBorders' is</span><span>
</span><span id="line-79"></span><span class="hs-comment">-- equivalent to @'withBorder' 0@.</span><span>
</span><span id="line-80"></span><span id="local-6989586621679432272"><span id="local-6989586621679432273"><span class="annot"><a href="XMonad.Layout.NoBorders.html#withBorder"><span class="hs-identifier hs-type">withBorder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LayoutClass</span></span><span> </span><span class="annot"><a href="#local-6989586621679432273"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432272"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679432273"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432272"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Layout.LayoutModifier.html#ModifiedLayout"><span class="hs-identifier hs-type">ModifiedLayout</span></a></span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#WithBorder"><span class="hs-identifier hs-type">WithBorder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432273"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432272"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-81"></span><span id="withBorder"><span class="annot"><span class="annottext">withBorder :: forall (l :: * -&gt; *) a.
LayoutClass l a =&gt;
Dimension -&gt; l a -&gt; ModifiedLayout WithBorder l a
</span><a href="XMonad.Layout.NoBorders.html#withBorder"><span class="hs-identifier hs-var hs-var">withBorder</span></a></span></span><span> </span><span id="local-6989586621679431966"><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679431966"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (l :: * -&gt; *) a.
m a -&gt; l a -&gt; ModifiedLayout m l a
</span><a href="XMonad.Layout.LayoutModifier.html#ModifiedLayout"><span class="hs-identifier hs-var">ModifiedLayout</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. Dimension -&gt; [a] -&gt; WithBorder a
</span><a href="XMonad.Layout.NoBorders.html#WithBorder"><span class="hs-identifier hs-var">WithBorder</span></a></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679431966"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="annot"><a href="XMonad.Layout.NoBorders.html#setBorders"><span class="hs-identifier hs-type">setBorders</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Dimension</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span id="setBorders"><span class="annot"><span class="annottext">setBorders :: [Window] -&gt; Dimension -&gt; X ()
</span><a href="XMonad.Layout.NoBorders.html#setBorders"><span class="hs-identifier hs-var hs-var">setBorders</span></a></span></span><span> </span><span id="local-6989586621679431964"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431964"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span id="local-6989586621679431963"><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679431963"><span class="hs-identifier hs-var">bw</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (Display -&gt; X a) -&gt; X a
</span><span class="hs-identifier hs-var">withDisplay</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679431961"><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679431961"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679431959"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431959"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Display -&gt; Window -&gt; Dimension -&gt; IO ()
</span><span class="hs-identifier hs-var">setWindowBorderWidth</span></span><span> </span><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679431961"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431959"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><a href="#local-6989586621679431963"><span class="hs-identifier hs-var">bw</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431964"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span id="local-6989586621679432258"><span class="annot"><a href="XMonad.Layout.NoBorders.html#singleton"><span class="hs-identifier hs-type">singleton</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679432258"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-87"></span><span id="singleton"><span class="annot"><span class="annottext">singleton :: forall a. [a] -&gt; Bool
</span><a href="XMonad.Layout.NoBorders.html#singleton"><span class="hs-identifier hs-var hs-var">singleton</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-keyword">type</span><span> </span><span id="SmartBorder"><span class="annot"><a href="XMonad.Layout.NoBorders.html#SmartBorder"><span class="hs-identifier hs-var">SmartBorder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#ConfigurableBorder"><span class="hs-identifier hs-type">ConfigurableBorder</span></a></span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#Ambiguity"><span class="hs-identifier hs-type">Ambiguity</span></a></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-comment">-- | Removes the borders from a window under one of the following conditions:</span><span>
</span><span id="line-92"></span><span class="hs-comment">--</span><span>
</span><span id="line-93"></span><span class="hs-comment">--  * There is only one screen and only one window. In this case it's obvious</span><span>
</span><span id="line-94"></span><span class="hs-comment">--  that it has the focus, so no border is needed.</span><span>
</span><span id="line-95"></span><span class="hs-comment">--</span><span>
</span><span id="line-96"></span><span class="hs-comment">--  * A floating window covers the entire screen (e.g. mplayer).</span><span>
</span><span id="line-97"></span><span class="hs-comment">--</span><span>
</span><span id="line-98"></span><span id="local-6989586621679432252"><span id="local-6989586621679432253"><span class="annot"><a href="XMonad.Layout.NoBorders.html#smartBorders"><span class="hs-identifier hs-type">smartBorders</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LayoutClass</span></span><span> </span><span class="annot"><a href="#local-6989586621679432253"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432252"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679432253"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432252"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Layout.LayoutModifier.html#ModifiedLayout"><span class="hs-identifier hs-type">ModifiedLayout</span></a></span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#SmartBorder"><span class="hs-identifier hs-type">SmartBorder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432253"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432252"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-99"></span><span id="smartBorders"><span class="annot"><span class="annottext">smartBorders :: forall (l :: * -&gt; *) a.
LayoutClass l a =&gt;
l a -&gt; ModifiedLayout SmartBorder l a
</span><a href="XMonad.Layout.NoBorders.html#smartBorders"><span class="hs-identifier hs-var hs-var">smartBorders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall p (l :: * -&gt; *) a.
(SetsAmbiguous p, Read p, Show p, LayoutClass l a) =&gt;
p -&gt; l a -&gt; ModifiedLayout (ConfigurableBorder p) l a
</span><a href="XMonad.Layout.NoBorders.html#lessBorders"><span class="hs-identifier hs-var">lessBorders</span></a></span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="XMonad.Layout.NoBorders.html#Never"><span class="hs-identifier hs-var">Never</span></a></span><span>
</span><span id="line-100"></span><span>
</span><span id="line-101"></span><span class="hs-comment">-- | Apply a datatype that has a SetsAmbiguous instance to provide a list of</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- windows that should not have borders.</span><span>
</span><span id="line-103"></span><span class="hs-comment">--</span><span>
</span><span id="line-104"></span><span class="hs-comment">-- This gives flexibility over when borders should be drawn, in particular with</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- xinerama setups: 'Ambiguity' has a number of useful 'SetsAmbiguous'</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- instances</span><span>
</span><span id="line-107"></span><span id="local-6989586621679432246"><span id="local-6989586621679432247"><span id="local-6989586621679432248"><span class="annot"><a href="XMonad.Layout.NoBorders.html#lessBorders"><span class="hs-identifier hs-type">lessBorders</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.NoBorders.html#SetsAmbiguous"><span class="hs-identifier hs-type">SetsAmbiguous</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432248"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="annot"><a href="#local-6989586621679432248"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679432248"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">LayoutClass</span></span><span> </span><span class="annot"><a href="#local-6989586621679432247"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432246"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-108"></span><span>        </span><span class="annot"><a href="#local-6989586621679432248"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679432247"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432246"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Layout.LayoutModifier.html#ModifiedLayout"><span class="hs-identifier hs-type">ModifiedLayout</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.NoBorders.html#ConfigurableBorder"><span class="hs-identifier hs-type">ConfigurableBorder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432248"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621679432247"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432246"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-109"></span><span id="lessBorders"><span class="annot"><span class="annottext">lessBorders :: forall p (l :: * -&gt; *) a.
(SetsAmbiguous p, Read p, Show p, LayoutClass l a) =&gt;
p -&gt; l a -&gt; ModifiedLayout (ConfigurableBorder p) l a
</span><a href="XMonad.Layout.NoBorders.html#lessBorders"><span class="hs-identifier hs-var hs-var">lessBorders</span></a></span></span><span> </span><span id="local-6989586621679431941"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679431941"><span class="hs-identifier hs-var">amb</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) (l :: * -&gt; *) a.
m a -&gt; l a -&gt; ModifiedLayout m l a
</span><a href="XMonad.Layout.LayoutModifier.html#ModifiedLayout"><span class="hs-identifier hs-var">ModifiedLayout</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall p w. p -&gt; [w] -&gt; [w] -&gt; [w] -&gt; ConfigurableBorder p w
</span><a href="XMonad.Layout.NoBorders.html#ConfigurableBorder"><span class="hs-identifier hs-var">ConfigurableBorder</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679431941"><span class="hs-identifier hs-var">amb</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-comment">-- | 'ManageHook' for sending 'HasBorder' messages:</span><span>
</span><span id="line-112"></span><span class="hs-comment">--</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- &gt;    title =? &quot;foo&quot; --&gt; hasBorder True</span><span>
</span><span id="line-114"></span><span class="hs-comment">--</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- There is no equivalent for 'ResetBorder'.</span><span>
</span><span id="line-116"></span><span class="annot"><a href="XMonad.Layout.NoBorders.html#hasBorder"><span class="hs-identifier hs-type">hasBorder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ManageHook</span></span><span>
</span><span id="line-117"></span><span id="hasBorder"><span class="annot"><span class="annottext">hasBorder :: Bool -&gt; Query (Endo WindowSet)
</span><a href="XMonad.Layout.NoBorders.html#hasBorder"><span class="hs-identifier hs-var hs-var">hasBorder</span></a></span></span><span> </span><span id="local-6989586621679431938"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679431938"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span><span class="hs-identifier hs-var">ask</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679431936"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431936"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. X a -&gt; Query a
</span><span class="hs-identifier hs-var">liftX</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Message a =&gt; a -&gt; X ()
</span><span class="hs-identifier hs-var">broadcastMessage</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Window -&gt; BorderMessage
</span><a href="XMonad.Layout.NoBorders.html#HasBorder"><span class="hs-identifier hs-var">HasBorder</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679431938"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431936"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall m. Monoid m =&gt; m
</span><span class="hs-identifier hs-var">idHook</span></span><span>
</span><span id="line-118"></span><span>
</span><span id="line-119"></span><span class="hs-keyword">data</span><span> </span><span id="BorderMessage"><span class="annot"><a href="XMonad.Layout.NoBorders.html#BorderMessage"><span class="hs-identifier hs-var">BorderMessage</span></a></span></span><span>
</span><span id="line-120"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="HasBorder"><span class="annot"><a href="XMonad.Layout.NoBorders.html#HasBorder"><span class="hs-identifier hs-var">HasBorder</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span>
</span><span id="line-121"></span><span>        </span><span class="hs-comment">-- ^ If @True@, never remove the border from the specified window. If</span><span>
</span><span id="line-122"></span><span>        </span><span class="hs-comment">-- @False@, always remove the border from the specified window.</span><span>
</span><span id="line-123"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="ResetBorder"><span class="annot"><a href="XMonad.Layout.NoBorders.html#ResetBorder"><span class="hs-identifier hs-var">ResetBorder</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span>
</span><span id="line-124"></span><span>        </span><span class="hs-comment">-- ^ Reset the effects of any 'HasBorder' messages on the specified</span><span>
</span><span id="line-125"></span><span>        </span><span class="hs-comment">-- window.</span><span>
</span><span id="line-126"></span><span>
</span><span id="line-127"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Message</span></span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#BorderMessage"><span class="hs-identifier hs-type">BorderMessage</span></a></span><span>
</span><span id="line-128"></span><span>
</span><span id="line-129"></span><span class="hs-keyword">data</span><span> </span><span id="ConfigurableBorder"><span class="annot"><a href="XMonad.Layout.NoBorders.html#ConfigurableBorder"><span class="hs-identifier hs-var">ConfigurableBorder</span></a></span></span><span> </span><span id="local-6989586621679432242"><span class="annot"><a href="#local-6989586621679432242"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span id="local-6989586621679432241"><span class="annot"><a href="#local-6989586621679432241"><span class="hs-identifier hs-type">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ConfigurableBorder"><span class="annot"><a href="XMonad.Layout.NoBorders.html#ConfigurableBorder"><span class="hs-identifier hs-var">ConfigurableBorder</span></a></span></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="_generateHidden"><span class="annot"><span class="annottext">forall p w. ConfigurableBorder p w -&gt; p
</span><a href="XMonad.Layout.NoBorders.html#_generateHidden"><span class="hs-identifier hs-var hs-var">_generateHidden</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679432242"><span class="hs-identifier hs-type">p</span></a></span><span>
</span><span id="line-131"></span><span>        </span><span class="hs-comment">-- ^ Generates a list of windows without borders. Uses 'SetsAmbiguous'</span><span>
</span><span id="line-132"></span><span>        </span><span class="hs-comment">-- to filter the current layout.</span><span>
</span><span id="line-133"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="alwaysHidden"><span class="annot"><span class="annottext">forall p w. ConfigurableBorder p w -&gt; [w]
</span><a href="XMonad.Layout.NoBorders.html#alwaysHidden"><span class="hs-identifier hs-var hs-var">alwaysHidden</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679432241"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-134"></span><span>        </span><span class="hs-comment">-- ^ Windows that never have borders. This list is added to the result</span><span>
</span><span id="line-135"></span><span>        </span><span class="hs-comment">-- of 'generateHidden'.</span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="neverHidden"><span class="annot"><span class="annottext">forall p w. ConfigurableBorder p w -&gt; [w]
</span><a href="XMonad.Layout.NoBorders.html#neverHidden"><span class="hs-identifier hs-var hs-var">neverHidden</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679432241"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-137"></span><span>        </span><span class="hs-comment">-- ^ Windows that always have borders - i.e. ignored by this module.</span><span>
</span><span id="line-138"></span><span>        </span><span class="hs-comment">-- This list is subtraced from 'alwaysHidden' and so has higher</span><span>
</span><span id="line-139"></span><span>        </span><span class="hs-comment">-- precendence.</span><span>
</span><span id="line-140"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="currentHidden"><span class="annot"><span class="annottext">forall p w. ConfigurableBorder p w -&gt; [w]
</span><a href="XMonad.Layout.NoBorders.html#currentHidden"><span class="hs-identifier hs-var hs-var">currentHidden</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621679432241"><span class="hs-identifier hs-type">w</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-141"></span><span>        </span><span class="hs-comment">-- ^ The current set of windows without borders, i.e. the state.</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679431900"><span id="local-6989586621679431917"><span id="local-6989586621679431920"><span id="local-6989586621679431922"><span class="annot"><span class="annottext">ReadPrec [ConfigurableBorder p w]
ReadPrec (ConfigurableBorder p w)
ReadS [ConfigurableBorder p w]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
forall p w. (Read p, Read w) =&gt; ReadPrec [ConfigurableBorder p w]
forall p w. (Read p, Read w) =&gt; ReadPrec (ConfigurableBorder p w)
forall p w.
(Read p, Read w) =&gt;
Int -&gt; ReadS (ConfigurableBorder p w)
forall p w. (Read p, Read w) =&gt; ReadS [ConfigurableBorder p w]
readListPrec :: ReadPrec [ConfigurableBorder p w]
$creadListPrec :: forall p w. (Read p, Read w) =&gt; ReadPrec [ConfigurableBorder p w]
readPrec :: ReadPrec (ConfigurableBorder p w)
$creadPrec :: forall p w. (Read p, Read w) =&gt; ReadPrec (ConfigurableBorder p w)
readList :: ReadS [ConfigurableBorder p w]
$creadList :: forall p w. (Read p, Read w) =&gt; ReadS [ConfigurableBorder p w]
readsPrec :: Int -&gt; ReadS (ConfigurableBorder p w)
$creadsPrec :: forall p w.
(Read p, Read w) =&gt;
Int -&gt; ReadS (ConfigurableBorder p w)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679431888"><span id="local-6989586621679431890"><span id="local-6989586621679431897"><span class="annot"><span class="annottext">Int -&gt; ConfigurableBorder p w -&gt; ShowS
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall p w.
(Show p, Show w) =&gt;
Int -&gt; ConfigurableBorder p w -&gt; ShowS
forall p w. (Show p, Show w) =&gt; [ConfigurableBorder p w] -&gt; ShowS
forall p w. (Show p, Show w) =&gt; ConfigurableBorder p w -&gt; String
showList :: [ConfigurableBorder p w] -&gt; ShowS
$cshowList :: forall p w. (Show p, Show w) =&gt; [ConfigurableBorder p w] -&gt; ShowS
show :: ConfigurableBorder p w -&gt; String
$cshow :: forall p w. (Show p, Show w) =&gt; ConfigurableBorder p w -&gt; String
showsPrec :: Int -&gt; ConfigurableBorder p w -&gt; ShowS
$cshowsPrec :: forall p w.
(Show p, Show w) =&gt;
Int -&gt; ConfigurableBorder p w -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-143"></span><span>
</span><span id="line-144"></span><span class="hs-comment">-- | Only necessary with 'BorderMessage' - remove non-existent windows from the</span><span>
</span><span id="line-145"></span><span class="hs-comment">-- 'alwaysHidden' or 'neverHidden' lists.</span><span>
</span><span id="line-146"></span><span class="annot"><a href="XMonad.Layout.NoBorders.html#borderEventHook"><span class="hs-identifier hs-type">borderEventHook</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Event</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">All</span></span><span>
</span><span id="line-147"></span><span id="borderEventHook"><span class="annot"><span class="annottext">borderEventHook :: Event -&gt; X All
</span><a href="XMonad.Layout.NoBorders.html#borderEventHook"><span class="hs-identifier hs-var hs-var">borderEventHook</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">DestroyWindowEvent</span></span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ev_window :: Event -&gt; Window
</span><span class="hs-identifier hs-var">ev_window</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679431885"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431885"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-148"></span><span>    </span><span class="annot"><span class="annottext">forall a. Message a =&gt; a -&gt; X ()
</span><span class="hs-identifier hs-var">broadcastMessage</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Window -&gt; BorderMessage
</span><a href="XMonad.Layout.NoBorders.html#ResetBorder"><span class="hs-identifier hs-var">ResetBorder</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431885"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-149"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; All
</span><span class="hs-identifier hs-var">All</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-150"></span><span class="annot"><a href="XMonad.Layout.NoBorders.html#borderEventHook"><span class="hs-identifier hs-var">borderEventHook</span></a></span><span> </span><span class="annot"><span class="annottext">Event
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; All
</span><span class="hs-identifier hs-var">All</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-151"></span><span>
</span><span id="line-152"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679431859"><span id="local-6989586621679431861"><span id="local-6989586621679431864"><span id="local-6989586621679431866"><span id="local-6989586621679431870"><span id="local-6989586621679431872"><span id="local-6989586621679431874"><span id="local-6989586621679431876"><span id="local-6989586621679432222"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Read</span></span><span> </span><span class="annot"><a href="#local-6989586621679432222"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621679432222"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#SetsAmbiguous"><span class="hs-identifier hs-type">SetsAmbiguous</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432222"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="XMonad.Layout.LayoutModifier.html#LayoutModifier"><span class="hs-identifier hs-type">LayoutModifier</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.NoBorders.html#ConfigurableBorder"><span class="hs-identifier hs-type">ConfigurableBorder</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679432222"><span class="hs-identifier hs-type">p</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-153"></span><span>    </span><span id="local-6989586621679431856"><span class="annot"><span class="annottext">unhook :: ConfigurableBorder p Window -&gt; X ()
</span><a href="#local-6989586621679431856"><span class="hs-identifier hs-var hs-var hs-var hs-var">unhook</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.NoBorders.html#ConfigurableBorder"><span class="hs-identifier hs-type">ConfigurableBorder</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679431855"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431855"><span class="hs-identifier hs-var">ch</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (l :: * -&gt; *). XConfig l -&gt; Dimension
</span><span class="hs-identifier hs-var">borderWidth</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XConf -&gt; XConfig Layout
</span><span class="hs-identifier hs-var">config</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; Dimension -&gt; X ()
</span><a href="XMonad.Layout.NoBorders.html#setBorders"><span class="hs-identifier hs-var">setBorders</span></a></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431855"><span class="hs-identifier hs-var">ch</span></a></span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span>    </span><span id="local-6989586621679431845"><span class="annot"><span class="annottext">redoLayout :: ConfigurableBorder p Window
-&gt; Rectangle
-&gt; Maybe (Stack Window)
-&gt; [(Window, Rectangle)]
-&gt; X ([(Window, Rectangle)], Maybe (ConfigurableBorder p Window))
</span><a href="#local-6989586621679431845"><span class="hs-identifier hs-var hs-var hs-var hs-var">redoLayout</span></a></span></span><span> </span><span id="local-6989586621679431844"><span class="annot"><span class="annottext">cb :: ConfigurableBorder p Window
</span><a href="#local-6989586621679431844"><span class="hs-identifier hs-var">cb</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.NoBorders.html#ConfigurableBorder"><span class="hs-identifier hs-type">ConfigurableBorder</span></a></span><span> </span><span id="local-6989586621679431843"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679431843"><span class="hs-identifier hs-var">gh</span></a></span></span><span> </span><span id="local-6989586621679431842"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431842"><span class="hs-identifier hs-var">ah</span></a></span></span><span> </span><span id="local-6989586621679431841"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431841"><span class="hs-identifier hs-var">nh</span></a></span></span><span> </span><span id="local-6989586621679431840"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431840"><span class="hs-identifier hs-var">ch</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679431839"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431839"><span class="hs-identifier hs-var">lr</span></a></span></span><span> </span><span id="local-6989586621679431838"><span class="annot"><span class="annottext">Maybe (Stack Window)
</span><a href="#local-6989586621679431838"><span class="hs-identifier hs-var">mst</span></a></span></span><span> </span><span id="local-6989586621679431837"><span class="annot"><span class="annottext">[(Window, Rectangle)]
</span><a href="#local-6989586621679431837"><span class="hs-identifier hs-var">wrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-156"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679431832"><span class="annot"><span class="annottext">gh' :: WindowSet -&gt; m [Window]
</span><a href="#local-6989586621679431832"><span class="hs-identifier hs-var hs-var">gh'</span></a></span></span><span> </span><span id="local-6989586621679431831"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679431831"><span class="hs-identifier hs-var">wset</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679431829"><span class="annot"><span class="annottext">lh :: [Window]
</span><a href="#local-6989586621679431829"><span class="hs-identifier hs-var hs-var">lh</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall p.
SetsAmbiguous p =&gt;
p
-&gt; WindowSet
-&gt; Rectangle
-&gt; Maybe (Stack Window)
-&gt; [(Window, Rectangle)]
-&gt; [Window]
</span><a href="XMonad.Layout.NoBorders.html#hiddens"><span class="hs-identifier hs-var">hiddens</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679431843"><span class="hs-identifier hs-var">gh</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679431831"><span class="hs-identifier hs-var">wset</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431839"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Stack Window)
</span><a href="#local-6989586621679431838"><span class="hs-identifier hs-var">mst</span></a></span><span> </span><span class="annot"><span class="annottext">[(Window, Rectangle)]
</span><a href="#local-6989586621679431837"><span class="hs-identifier hs-var">wrs</span></a></span><span>
</span><span id="line-157"></span><span>                       </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431842"><span class="hs-identifier hs-var">ah</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">`union`</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431829"><span class="hs-identifier hs-var">lh</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">\\</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431841"><span class="hs-identifier hs-var">nh</span></a></span><span>
</span><span id="line-158"></span><span>        </span><span id="local-6989586621679431826"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431826"><span class="hs-identifier hs-var">ch'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. (WindowSet -&gt; X a) -&gt; X a
</span><span class="hs-identifier hs-var">withWindowSet</span></span><span> </span><span class="annot"><span class="annottext">forall {m :: * -&gt; *}. Monad m =&gt; WindowSet -&gt; m [Window]
</span><a href="#local-6989586621679431832"><span class="hs-identifier hs-var">gh'</span></a></span><span>
</span><span id="line-159"></span><span>        </span><span class="annot"><span class="annottext">forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (l :: * -&gt; *). XConfig l -&gt; Dimension
</span><span class="hs-identifier hs-var">borderWidth</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XConf -&gt; XConfig Layout
</span><span class="hs-identifier hs-var">config</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; Dimension -&gt; X ()
</span><a href="XMonad.Layout.NoBorders.html#setBorders"><span class="hs-identifier hs-var">setBorders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431840"><span class="hs-identifier hs-var">ch</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">\\</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431826"><span class="hs-identifier hs-var">ch'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>        </span><span class="annot"><span class="annottext">[Window] -&gt; Dimension -&gt; X ()
</span><a href="XMonad.Layout.NoBorders.html#setBorders"><span class="hs-identifier hs-var">setBorders</span></a></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431826"><span class="hs-identifier hs-var">ch'</span></a></span><span> </span><span class="annot"><span class="annottext">Dimension
</span><span class="hs-number">0</span></span><span>
</span><span id="line-161"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[(Window, Rectangle)]
</span><a href="#local-6989586621679431837"><span class="hs-identifier hs-var">wrs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ConfigurableBorder p Window
</span><a href="#local-6989586621679431844"><span class="hs-identifier hs-var">cb</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">currentHidden :: [Window]
</span><a href="XMonad.Layout.NoBorders.html#currentHidden"><span class="hs-identifier hs-var">currentHidden</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431826"><span class="hs-identifier hs-var">ch'</span></a></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span>
</span><span id="line-162"></span><span>
</span><span id="line-163"></span><span>    </span><span id="local-6989586621679431816"><span class="annot"><span class="annottext">pureMess :: ConfigurableBorder p Window
-&gt; SomeMessage -&gt; Maybe (ConfigurableBorder p Window)
</span><a href="XMonad.Layout.LayoutModifier.html#pureMess"><span class="hs-identifier hs-var hs-var hs-var hs-var">pureMess</span></a></span></span><span> </span><span id="local-6989586621679431814"><span class="annot"><span class="annottext">cb :: ConfigurableBorder p Window
</span><a href="#local-6989586621679431814"><span class="hs-identifier hs-var">cb</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.NoBorders.html#ConfigurableBorder"><span class="hs-identifier hs-type">ConfigurableBorder</span></a></span><span> </span><span id="local-6989586621679431813"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679431813"><span class="hs-identifier hs-var">gh</span></a></span></span><span> </span><span id="local-6989586621679431812"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431812"><span class="hs-identifier hs-var">ah</span></a></span></span><span> </span><span id="local-6989586621679431811"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431811"><span class="hs-identifier hs-var">nh</span></a></span></span><span> </span><span id="local-6989586621679431810"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431810"><span class="hs-identifier hs-var">ch</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679431809"><span class="annot"><span class="annottext">SomeMessage
</span><a href="#local-6989586621679431809"><span class="hs-identifier hs-var">m</span></a></span></span><span>
</span><span id="line-164"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.NoBorders.html#HasBorder"><span class="hs-identifier hs-type">HasBorder</span></a></span><span> </span><span id="local-6989586621679431808"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679431808"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621679431807"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431807"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall m. Message m =&gt; SomeMessage -&gt; Maybe m
</span><span class="hs-identifier hs-var">fromMessage</span></span><span> </span><span class="annot"><span class="annottext">SomeMessage
</span><a href="#local-6989586621679431809"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-165"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679431803"><span class="annot"><span class="annottext">consNewIf :: [Window] -&gt; Bool -&gt; Maybe [Window]
</span><a href="#local-6989586621679431803"><span class="hs-identifier hs-var hs-var">consNewIf</span></a></span></span><span> </span><span id="local-6989586621679431802"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431802"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431807"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431802"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431807"><span class="hs-identifier hs-var">w</span></a></span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431802"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>                </span><span class="annot"><a href="#local-6989586621679431803"><span class="hs-identifier hs-var">consNewIf</span></a></span><span> </span><span id="local-6989586621679431800"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431800"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431800"><span class="hs-identifier hs-var">l</span></a></span><span>
</span><span id="line-167"></span><span>            </span><span class="hs-keyword">in</span><span>  </span><span class="annot"><span class="annottext">forall p w. p -&gt; [w] -&gt; [w] -&gt; [w] -&gt; ConfigurableBorder p w
</span><a href="XMonad.Layout.NoBorders.html#ConfigurableBorder"><span class="hs-identifier hs-var">ConfigurableBorder</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679431813"><span class="hs-identifier hs-var">gh</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; Bool -&gt; Maybe [Window]
</span><a href="#local-6989586621679431803"><span class="hs-identifier hs-var">consNewIf</span></a></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431812"><span class="hs-identifier hs-var">ah</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679431808"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span>                                        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; Bool -&gt; Maybe [Window]
</span><a href="#local-6989586621679431803"><span class="hs-identifier hs-var">consNewIf</span></a></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431811"><span class="hs-identifier hs-var">nh</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679431808"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-169"></span><span>                                        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431810"><span class="hs-identifier hs-var">ch</span></a></span><span>
</span><span id="line-170"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.NoBorders.html#ResetBorder"><span class="hs-identifier hs-type">ResetBorder</span></a></span><span> </span><span id="local-6989586621679431797"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431797"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall m. Message m =&gt; SomeMessage -&gt; Maybe m
</span><span class="hs-identifier hs-var">fromMessage</span></span><span> </span><span class="annot"><span class="annottext">SomeMessage
</span><a href="#local-6989586621679431809"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-171"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679431792"><span class="annot"><span class="annottext">delete' :: a -&gt; [a] -&gt; (Bool, [a])
</span><a href="#local-6989586621679431792"><span class="hs-identifier hs-var hs-var">delete'</span></a></span></span><span> </span><span id="local-6989586621679431791"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679431791"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="local-6989586621679431790"><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679431790"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679431791"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679431790"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">delete</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679431791"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679431790"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[a]
</span><a href="#local-6989586621679431790"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-172"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621679431787"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679431787"><span class="hs-identifier hs-var">da</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679431786"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431786"><span class="hs-identifier hs-var">ah'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {a}. Eq a =&gt; a -&gt; [a] -&gt; (Bool, [a])
</span><a href="#local-6989586621679431792"><span class="hs-identifier hs-var">delete'</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431797"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431812"><span class="hs-identifier hs-var">ah</span></a></span><span>
</span><span id="line-173"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621679431784"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679431784"><span class="hs-identifier hs-var">dn</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679431783"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431783"><span class="hs-identifier hs-var">nh'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {a}. Eq a =&gt; a -&gt; [a] -&gt; (Bool, [a])
</span><a href="#local-6989586621679431792"><span class="hs-identifier hs-var">delete'</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431797"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431811"><span class="hs-identifier hs-var">nh</span></a></span><span>
</span><span id="line-174"></span><span>            </span><span class="hs-keyword">in</span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679431787"><span class="hs-identifier hs-var">da</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679431784"><span class="hs-identifier hs-var">dn</span></a></span><span>
</span><span id="line-175"></span><span>                </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">ConfigurableBorder p Window
</span><a href="#local-6989586621679431814"><span class="hs-identifier hs-var">cb</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">alwaysHidden :: [Window]
</span><a href="XMonad.Layout.NoBorders.html#alwaysHidden"><span class="hs-identifier hs-var">alwaysHidden</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431786"><span class="hs-identifier hs-var">ah'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">neverHidden :: [Window]
</span><a href="XMonad.Layout.NoBorders.html#neverHidden"><span class="hs-identifier hs-var">neverHidden</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431783"><span class="hs-identifier hs-var">nh'</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-176"></span><span>                </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-177"></span><span>        </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="hs-comment">-- | SetsAmbiguous allows custom actions to generate lists of windows that</span><span>
</span><span id="line-180"></span><span class="hs-comment">-- should not have borders drawn through 'ConfigurableBorder'</span><span>
</span><span id="line-181"></span><span class="hs-comment">--</span><span>
</span><span id="line-182"></span><span class="hs-comment">-- To add your own (though perhaps those options would better belong as an</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- additional constructor to 'Ambiguity'), you can add the following function.</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- Note that @lr@, the parameter representing the 'Rectangle' of the parent</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- layout, was added to 'hiddens' in 0.14. Update your instance accordingly.</span><span>
</span><span id="line-186"></span><span class="hs-comment">--</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- &gt; data MyAmbiguity = MyAmbiguity deriving (Read, Show)</span><span>
</span><span id="line-188"></span><span class="hs-comment">--</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- &gt; instance SetsAmbiguous MyAmbiguity where</span><span>
</span><span id="line-190"></span><span class="hs-comment">-- &gt;  hiddens _ wset lr mst wrs = otherHiddens Screen \\ otherHiddens OnlyScreenFloat</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- &gt;     where otherHiddens p = hiddens p wset lr mst wrs</span><span>
</span><span id="line-192"></span><span class="hs-comment">--</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- The above example is redundant, because you can have the same result with:</span><span>
</span><span id="line-194"></span><span class="hs-comment">--</span><span>
</span><span id="line-195"></span><span class="hs-comment">-- &gt; layoutHook = lessBorders (Combine Difference Screen OnlyScreenFloat) (Tall 1 0.5 0.03 ||| ... )</span><span>
</span><span id="line-196"></span><span class="hs-comment">--</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- To get the same result as 'smartBorders':</span><span>
</span><span id="line-198"></span><span class="hs-comment">--</span><span>
</span><span id="line-199"></span><span class="hs-comment">-- &gt; layoutHook = lessBorders Never (Tall 1 0.5 0.03 ||| ...)</span><span>
</span><span id="line-200"></span><span class="hs-comment">--</span><span>
</span><span id="line-201"></span><span class="hs-comment">-- This indirect method is required to keep the 'Read' and 'Show' for</span><span>
</span><span id="line-202"></span><span class="hs-comment">-- ConfigurableBorder so that xmonad can serialize state.</span><span>
</span><span id="line-203"></span><span class="hs-keyword">class</span><span> </span><span id="SetsAmbiguous"><span class="annot"><a href="XMonad.Layout.NoBorders.html#SetsAmbiguous"><span class="hs-identifier hs-var">SetsAmbiguous</span></a></span></span><span> </span><span id="local-6989586621679432220"><span class="annot"><a href="#local-6989586621679432220"><span class="hs-identifier hs-type">p</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-204"></span><span>    </span><span id="hiddens"><span class="annot"><a href="XMonad.Layout.NoBorders.html#hiddens"><span class="hs-identifier hs-type">hiddens</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679432220"><span class="hs-identifier hs-type">p</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rectangle</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">W.Stack</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rectangle</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">]</span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="hs-comment">-- Quick overview since the documentation lacks clarity:</span><span>
</span><span id="line-207"></span><span class="hs-comment">-- * Overall stacking order =</span><span>
</span><span id="line-208"></span><span class="hs-comment">--      tiled stacking order ++ floating stacking order</span><span>
</span><span id="line-209"></span><span class="hs-comment">--   Where tiled windows are (obviously) stacked below floating windows.</span><span>
</span><span id="line-210"></span><span class="hs-comment">-- * Tiled stacking order =</span><span>
</span><span id="line-211"></span><span class="hs-comment">--      [(window, Rectangle] order</span><span>
</span><span id="line-212"></span><span class="hs-comment">--   Given by 'XMonad.Core.LayoutClass' where earlier entries are stacked</span><span>
</span><span id="line-213"></span><span class="hs-comment">--   higher.</span><span>
</span><span id="line-214"></span><span class="hs-comment">-- * Floating stacking order =</span><span>
</span><span id="line-215"></span><span class="hs-comment">--      focus order</span><span>
</span><span id="line-216"></span><span class="hs-comment">--   Given by the workspace stack where a higher focus corresponds to a higher</span><span>
</span><span id="line-217"></span><span class="hs-comment">--   stacking position.</span><span>
</span><span id="line-218"></span><span class="hs-comment">--</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- Integrating a stack returns a list in order of [highest...lowest].</span><span>
</span><span id="line-220"></span><span class="hs-comment">--</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- 'XMonad.Core.LayoutClass' is given a stack with all floating windows removed</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- and returns a list (in stack order) of only the visible tiled windows, while</span><span>
</span><span id="line-223"></span><span class="hs-comment">-- the workspace stack contains all windows (visible/hidden, floating/tiled) in</span><span>
</span><span id="line-224"></span><span class="hs-comment">-- focus order. The StackSet 'floating' field maps all floating windows across</span><span>
</span><span id="line-225"></span><span class="hs-comment">-- all workspaces to relative rectangles - without the associated screen.</span><span>
</span><span id="line-226"></span><span class="hs-comment">--</span><span>
</span><span id="line-227"></span><span class="hs-comment">-- 'XMonad.Operations.windows' gets the windowset from the state, mutates it,</span><span>
</span><span id="line-228"></span><span class="hs-comment">-- then updates the state before calling 'runLayout' with the new windowset -</span><span>
</span><span id="line-229"></span><span class="hs-comment">-- excluding any floating windows. Aside from the filtering, the stack received</span><span>
</span><span id="line-230"></span><span class="hs-comment">-- by the layout should be identical to the one received from 'withWindowSet'.</span><span>
</span><span id="line-231"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#SetsAmbiguous"><span class="hs-identifier hs-type">SetsAmbiguous</span></a></span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#Ambiguity"><span class="hs-identifier hs-type">Ambiguity</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-232"></span><span>    </span><span id="local-6989586621679431773"><span class="annot"><span class="annottext">hiddens :: Ambiguity
-&gt; WindowSet
-&gt; Rectangle
-&gt; Maybe (Stack Window)
-&gt; [(Window, Rectangle)]
-&gt; [Window]
</span><a href="#local-6989586621679431773"><span class="hs-identifier hs-var hs-var hs-var hs-var">hiddens</span></a></span></span><span> </span><span id="local-6989586621679431772"><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431772"><span class="hs-identifier hs-var">amb</span></a></span></span><span> </span><span id="local-6989586621679431771"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679431771"><span class="hs-identifier hs-var">wset</span></a></span></span><span> </span><span id="local-6989586621679431770"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431770"><span class="hs-identifier hs-var">lr</span></a></span></span><span> </span><span id="local-6989586621679431769"><span class="annot"><span class="annottext">Maybe (Stack Window)
</span><a href="#local-6989586621679431769"><span class="hs-identifier hs-var">mst</span></a></span></span><span> </span><span id="local-6989586621679431768"><span class="annot"><span class="annottext">[(Window, Rectangle)]
</span><a href="#local-6989586621679431768"><span class="hs-identifier hs-var">wrs</span></a></span></span><span>
</span><span id="line-233"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#Combine"><span class="hs-identifier hs-type">Combine</span></a></span><span> </span><span class="annot"><span class="annottext">With
</span><a href="XMonad.Layout.NoBorders.html#Union"><span class="hs-identifier hs-var">Union</span></a></span><span> </span><span id="local-6989586621679431765"><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431765"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679431764"><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431764"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431772"><span class="hs-identifier hs-var">amb</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">on</span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">union</span></span><span> </span><span class="annot"><span class="annottext">forall {p}. SetsAmbiguous p =&gt; p -&gt; [Window]
</span><a href="#local-6989586621679431762"><span class="hs-identifier hs-var">next</span></a></span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431765"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431764"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-234"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#Combine"><span class="hs-identifier hs-type">Combine</span></a></span><span> </span><span class="annot"><span class="annottext">With
</span><a href="XMonad.Layout.NoBorders.html#Difference"><span class="hs-identifier hs-var">Difference</span></a></span><span> </span><span id="local-6989586621679431760"><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431760"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679431759"><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431759"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431772"><span class="hs-identifier hs-var">amb</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">on</span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">(\\)</span></span><span> </span><span class="annot"><span class="annottext">forall {p}. SetsAmbiguous p =&gt; p -&gt; [Window]
</span><a href="#local-6989586621679431762"><span class="hs-identifier hs-var">next</span></a></span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431760"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431759"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-235"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#Combine"><span class="hs-identifier hs-type">Combine</span></a></span><span> </span><span class="annot"><span class="annottext">With
</span><a href="XMonad.Layout.NoBorders.html#Intersection"><span class="hs-identifier hs-var">Intersection</span></a></span><span> </span><span id="local-6989586621679431757"><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431757"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621679431756"><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431756"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431772"><span class="hs-identifier hs-var">amb</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">on</span></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">intersect</span></span><span> </span><span class="annot"><span class="annottext">forall {p}. SetsAmbiguous p =&gt; p -&gt; [Window]
</span><a href="#local-6989586621679431762"><span class="hs-identifier hs-var">next</span></a></span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431757"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431756"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-236"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {a}. [a] -&gt; [a]
</span><a href="#local-6989586621679431754"><span class="hs-identifier hs-var">tiled</span></a></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431753"><span class="hs-identifier hs-var">ms</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679431752"><span class="hs-identifier hs-var">floating</span></a></span><span>
</span><span id="line-237"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679431762"><span class="annot"><span class="annottext">next :: p -&gt; [Window]
</span><a href="#local-6989586621679431762"><span class="hs-identifier hs-var hs-var">next</span></a></span></span><span> </span><span id="local-6989586621679431749"><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679431749"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall p.
SetsAmbiguous p =&gt;
p
-&gt; WindowSet
-&gt; Rectangle
-&gt; Maybe (Stack Window)
-&gt; [(Window, Rectangle)]
-&gt; [Window]
</span><a href="XMonad.Layout.NoBorders.html#hiddens"><span class="hs-identifier hs-var">hiddens</span></a></span><span> </span><span class="annot"><span class="annottext">p
</span><a href="#local-6989586621679431749"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679431771"><span class="hs-identifier hs-var">wset</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431770"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Stack Window)
</span><a href="#local-6989586621679431769"><span class="hs-identifier hs-var">mst</span></a></span><span> </span><span class="annot"><span class="annottext">[(Window, Rectangle)]
</span><a href="#local-6989586621679431768"><span class="hs-identifier hs-var">wrs</span></a></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span>            </span><span id="local-6989586621679431747"><span class="annot"><span class="annottext">screens :: [Screen String (Layout Window) Window ScreenId ScreenDetail]
</span><a href="#local-6989586621679431747"><span class="hs-identifier hs-var hs-var">screens</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Screen String (Layout Window) Window ScreenId ScreenDetail
</span><a href="#local-6989586621679431746"><span class="hs-identifier hs-var">scr</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679431746"><span class="annot"><span class="annottext">Screen String (Layout Window) Window ScreenId ScreenDetail
</span><a href="#local-6989586621679431746"><span class="hs-identifier hs-var">scr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall i l a s sd. StackSet i l a s sd -&gt; [Screen i l a s sd]
</span><span class="hs-identifier hs-var">W.screens</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679431771"><span class="hs-identifier hs-var">wset</span></a></span><span>
</span><span id="line-240"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431772"><span class="hs-identifier hs-var">amb</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-241"></span><span>                                    </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="XMonad.Layout.NoBorders.html#Never"><span class="hs-identifier hs-var">Never</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-242"></span><span>                                    </span><span class="annot"><span class="annottext">Ambiguity
</span><span class="hs-identifier">_</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall {i} {l} {a} {sid} {sd}. Screen i l a sid sd -&gt; [a]
</span><a href="#local-6989586621679431744"><span class="hs-identifier hs-var">integrate</span></a></span><span> </span><span class="annot"><span class="annottext">Screen String (Layout Window) Window ScreenId ScreenDetail
</span><a href="#local-6989586621679431746"><span class="hs-identifier hs-var">scr</span></a></span><span>
</span><span id="line-243"></span><span>                            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Bool
</span><a href="XMonad.Util.Rectangle.html#empty"><span class="hs-identifier hs-var">R.empty</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ScreenDetail -&gt; Rectangle
</span><span class="hs-identifier hs-var">screenRect</span></span><span>
</span><span id="line-244"></span><span>                                </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; sd
</span><span class="hs-identifier hs-var">W.screenDetail</span></span><span> </span><span class="annot"><span class="annottext">Screen String (Layout Window) Window ScreenId ScreenDetail
</span><a href="#local-6989586621679431746"><span class="hs-identifier hs-var">scr</span></a></span><span>
</span><span id="line-245"></span><span>                            </span><span class="hs-special">]</span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span>            </span><span class="hs-comment">-- Find the screen containing the workspace being layouted.</span><span>
</span><span id="line-248"></span><span>            </span><span class="hs-comment">-- (This is a list only to avoid the need to specialcase when it</span><span>
</span><span id="line-249"></span><span>            </span><span class="hs-comment">-- can't be found or when several contain @lr@. When that happens,</span><span>
</span><span id="line-250"></span><span>            </span><span class="hs-comment">-- the result will probably be incorrect.)</span><span>
</span><span id="line-251"></span><span>            </span><span id="local-6989586621679431740"><span class="annot"><span class="annottext">thisScreen :: [Screen String (Layout Window) Window ScreenId ScreenDetail]
</span><a href="#local-6989586621679431740"><span class="hs-identifier hs-var hs-var">thisScreen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Screen String (Layout Window) Window ScreenId ScreenDetail
</span><a href="#local-6989586621679431739"><span class="hs-identifier hs-var">scr</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621679431739"><span class="annot"><span class="annottext">Screen String (Layout Window) Window ScreenId ScreenDetail
</span><a href="#local-6989586621679431739"><span class="hs-identifier hs-var">scr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall i l a s sd. StackSet i l a s sd -&gt; [Screen i l a s sd]
</span><span class="hs-identifier hs-var">W.screens</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679431771"><span class="hs-identifier hs-var">wset</span></a></span><span>
</span><span id="line-252"></span><span>                               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ScreenDetail -&gt; Rectangle
</span><span class="hs-identifier hs-var">screenRect</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; sd
</span><span class="hs-identifier hs-var">W.screenDetail</span></span><span> </span><span class="annot"><span class="annottext">Screen String (Layout Window) Window ScreenId ScreenDetail
</span><a href="#local-6989586621679431739"><span class="hs-identifier hs-var">scr</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Rectangle -&gt; Bool
</span><a href="XMonad.Util.Rectangle.html#supersetOf"><span class="hs-operator hs-var">`R.supersetOf`</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431770"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="hs-special">]</span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span>            </span><span class="hs-comment">-- This originally considered all floating windows across all</span><span>
</span><span id="line-255"></span><span>            </span><span class="hs-comment">-- workspaces. It seems more efficient to have each screen manage</span><span>
</span><span id="line-256"></span><span>            </span><span class="hs-comment">-- its own floating windows - and necessary to support the</span><span>
</span><span id="line-257"></span><span>            </span><span class="hs-comment">-- additional OnlyLayoutFloat* variants correctly in multihead</span><span>
</span><span id="line-258"></span><span>            </span><span class="hs-comment">-- setups. In some cases the previous code would redundantly add</span><span>
</span><span id="line-259"></span><span>            </span><span class="hs-comment">-- then remove borders from already-borderless windows.</span><span>
</span><span id="line-260"></span><span>            </span><span id="local-6989586621679431752"><span class="annot"><span class="annottext">floating :: [Window]
</span><a href="#local-6989586621679431752"><span class="hs-identifier hs-var hs-var">floating</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-261"></span><span>                </span><span id="local-6989586621679431726"><span class="annot"><span class="annottext">Screen String (Layout Window) Window ScreenId ScreenDetail
</span><a href="#local-6989586621679431726"><span class="hs-identifier hs-var">scr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Screen String (Layout Window) Window ScreenId ScreenDetail]
</span><a href="#local-6989586621679431740"><span class="hs-identifier hs-var">thisScreen</span></a></span><span>
</span><span id="line-262"></span><span>                </span><span class="hs-keyword">let</span><span> </span><span class="annot"><a href="#local-6989586621679431725"><span class="hs-identifier hs-type">wz</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Rectangle</span></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>                       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier hs-type">Rectangle</span></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>                    </span><span id="local-6989586621679431725"><span class="annot"><span class="annottext">wz :: Integer -&gt; (Window, Rectangle) -&gt; (Integer, Window, Rectangle)
</span><a href="#local-6989586621679431725"><span class="hs-identifier hs-var hs-var">wz</span></a></span></span><span> </span><span id="local-6989586621679431724"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679431724"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679431723"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431723"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679431722"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431722"><span class="hs-identifier hs-var">wr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679431724"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431723"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431722"><span class="hs-identifier hs-var">wr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-265"></span><span>                    </span><span class="hs-comment">-- For the following: in stacking order lowest -&gt; highest.</span><span>
</span><span id="line-266"></span><span>                    </span><span id="local-6989586621679431714"><span class="annot"><span class="annottext">ts :: [(Integer, Window, Rectangle)]
</span><a href="#local-6989586621679431714"><span class="hs-identifier hs-var hs-var">ts</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall {a}. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; (Window, Rectangle) -&gt; (Integer, Window, Rectangle)
</span><a href="#local-6989586621679431725"><span class="hs-identifier hs-var">wz</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span class="hs-glyph">-</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">2</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[(Window, Rectangle)]
</span><a href="#local-6989586621679431768"><span class="hs-identifier hs-var">wrs</span></a></span><span>
</span><span id="line-267"></span><span>                    </span><span id="local-6989586621679431703"><span class="annot"><span class="annottext">fs :: [(Integer, Window, Rectangle)]
</span><a href="#local-6989586621679431703"><span class="hs-identifier hs-var hs-var">fs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; [a] -&gt; [b] -&gt; [c]
</span><span class="hs-identifier hs-var">zipWith</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; (Window, Rectangle) -&gt; (Integer, Window, Rectangle)
</span><a href="#local-6989586621679431725"><span class="hs-identifier hs-var">wz</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-268"></span><span>                        </span><span id="local-6989586621679431702"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431702"><span class="hs-identifier hs-var">w</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall {a}. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe (Stack a) -&gt; [a]
</span><span class="hs-identifier hs-var">W.integrate'</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a. Workspace i l a -&gt; Maybe (Stack a)
</span><span class="hs-identifier hs-var">W.stack</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; Workspace i l a
</span><span class="hs-identifier hs-var">W.workspace</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Screen String (Layout Window) Window ScreenId ScreenDetail
</span><a href="#local-6989586621679431726"><span class="hs-identifier hs-var">scr</span></a></span><span>
</span><span id="line-269"></span><span>                        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679431698"><span class="annot"><span class="annottext">RationalRect
</span><a href="#local-6989586621679431698"><span class="hs-identifier hs-var">wr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall k a. Ord k =&gt; k -&gt; Map k a -&gt; Maybe a
</span><span class="hs-identifier hs-var">M.lookup</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431702"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall i l a sid sd. StackSet i l a sid sd -&gt; Map a RationalRect
</span><span class="hs-identifier hs-var">W.floating</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679431771"><span class="hs-identifier hs-var">wset</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-270"></span><span>                        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431702"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">Rectangle -&gt; RationalRect -&gt; Rectangle
</span><span class="hs-identifier hs-var">scaleRationalRect</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431694"><span class="hs-identifier hs-var">sr</span></a></span><span> </span><span class="annot"><span class="annottext">RationalRect
</span><a href="#local-6989586621679431698"><span class="hs-identifier hs-var">wr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>                    </span><span id="local-6989586621679431694"><span class="annot"><span class="annottext">sr :: Rectangle
</span><a href="#local-6989586621679431694"><span class="hs-identifier hs-var hs-var">sr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScreenDetail -&gt; Rectangle
</span><span class="hs-identifier hs-var">screenRect</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; sd
</span><span class="hs-identifier hs-var">W.screenDetail</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Screen String (Layout Window) Window ScreenId ScreenDetail
</span><a href="#local-6989586621679431726"><span class="hs-identifier hs-var">scr</span></a></span><span>
</span><span id="line-272"></span><span>                </span><span class="hs-special">(</span><span id="local-6989586621679431693"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679431693"><span class="hs-identifier hs-var">i1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679431692"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431692"><span class="hs-identifier hs-var">w1</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679431691"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431691"><span class="hs-identifier hs-var">wr1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Integer, Window, Rectangle)]
</span><a href="#local-6989586621679431703"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-273"></span><span>                </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431772"><span class="hs-identifier hs-var">amb</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-274"></span><span>                    </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="XMonad.Layout.NoBorders.html#OnlyLayoutFloatBelow"><span class="hs-identifier hs-var">OnlyLayoutFloatBelow</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-275"></span><span>                        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679431683"><span class="annot"><span class="annottext">vu :: [Bool]
</span><a href="#local-6989586621679431683"><span class="hs-identifier hs-var hs-var">vu</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-276"></span><span>                                </span><span id="local-6989586621679431682"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431682"><span class="hs-identifier hs-var">gr</span></a></span></span><span>           </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431694"><span class="hs-identifier hs-var">sr</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Rectangle -&gt; [Rectangle]
</span><a href="XMonad.Util.Rectangle.html#difference"><span class="hs-operator hs-var">`R.difference`</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431770"><span class="hs-identifier hs-var">lr</span></a></span><span>
</span><span id="line-277"></span><span>                                </span><span class="hs-special">(</span><span id="local-6989586621679431680"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679431680"><span class="hs-identifier hs-var">i2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679431679"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431679"><span class="hs-identifier hs-var">_w2</span></a></span></span><span class="hs-special">,</span><span id="local-6989586621679431678"><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431678"><span class="hs-identifier hs-var">wr2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(Integer, Window, Rectangle)]
</span><a href="#local-6989586621679431714"><span class="hs-identifier hs-var">ts</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[(Integer, Window, Rectangle)]
</span><a href="#local-6989586621679431703"><span class="hs-identifier hs-var">fs</span></a></span><span>
</span><span id="line-278"></span><span>                                </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679431680"><span class="hs-identifier hs-var">i2</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679431693"><span class="hs-identifier hs-var">i1</span></a></span><span>
</span><span id="line-279"></span><span>                                </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431678"><span class="hs-identifier hs-var">wr2</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Rectangle -&gt; Bool
</span><a href="XMonad.Util.Rectangle.html#intersects"><span class="hs-operator hs-var">`R.intersects`</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431682"><span class="hs-identifier hs-var">gr</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-280"></span><span>                        </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431770"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431691"><span class="hs-identifier hs-var">wr1</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *). Foldable t =&gt; t Bool -&gt; Bool
</span><span class="hs-identifier hs-var">or</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Bool]
</span><a href="#local-6989586621679431683"><span class="hs-identifier hs-var">vu</span></a></span><span>
</span><span id="line-281"></span><span>                    </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="XMonad.Layout.NoBorders.html#OnlyLayoutFloat"><span class="hs-identifier hs-var">OnlyLayoutFloat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-282"></span><span>                        </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431770"><span class="hs-identifier hs-var">lr</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431691"><span class="hs-identifier hs-var">wr1</span></a></span><span>
</span><span id="line-283"></span><span>                    </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="XMonad.Layout.NoBorders.html#OnlyFloat"><span class="hs-identifier hs-var">OnlyFloat</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-284"></span><span>                        </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-285"></span><span>                    </span><span class="annot"><span class="annottext">Ambiguity
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-286"></span><span>                        </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431691"><span class="hs-identifier hs-var">wr1</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle -&gt; Rectangle -&gt; Bool
</span><a href="XMonad.Util.Rectangle.html#supersetOf"><span class="hs-operator hs-var">`R.supersetOf`</span></a></span><span> </span><span class="annot"><span class="annottext">Rectangle
</span><a href="#local-6989586621679431694"><span class="hs-identifier hs-var">sr</span></a></span><span>
</span><span id="line-287"></span><span>                </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679431692"><span class="hs-identifier hs-var">w1</span></a></span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span>            </span><span id="local-6989586621679431753"><span class="annot"><span class="annottext">ms :: [Window]
</span><a href="#local-6989586621679431753"><span class="hs-identifier hs-var hs-var">ms</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe (Stack a) -&gt; [a]
</span><span class="hs-identifier hs-var">W.integrate'</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Stack Window)
</span><a href="#local-6989586621679431769"><span class="hs-identifier hs-var">mst</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">[(Window, Rectangle)]
</span><a href="#local-6989586621679431768"><span class="hs-identifier hs-var">wrs</span></a></span><span>
</span><span id="line-290"></span><span>            </span><span id="local-6989586621679431754"><span class="annot"><span class="annottext">tiled :: [a] -&gt; [a]
</span><a href="#local-6989586621679431754"><span class="hs-identifier hs-var hs-var">tiled</span></a></span></span><span> </span><span class="hs-special">[</span><span id="local-6989586621679431660"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679431660"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-291"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="XMonad.Layout.NoBorders.html#Screen"><span class="hs-identifier hs-var">Screen</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431772"><span class="hs-identifier hs-var">amb</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679431660"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-292"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="XMonad.Layout.NoBorders.html#OnlyScreenFloat"><span class="hs-identifier hs-var">OnlyScreenFloat</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431772"><span class="hs-identifier hs-var">amb</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-293"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="XMonad.Layout.NoBorders.html#OnlyLayoutFloat"><span class="hs-identifier hs-var">OnlyLayoutFloat</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431772"><span class="hs-identifier hs-var">amb</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-294"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="XMonad.Layout.NoBorders.html#OnlyFloat"><span class="hs-identifier hs-var">OnlyFloat</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431772"><span class="hs-identifier hs-var">amb</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-295"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="XMonad.Layout.NoBorders.html#OnlyLayoutFloatBelow"><span class="hs-identifier hs-var">OnlyLayoutFloatBelow</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431772"><span class="hs-identifier hs-var">amb</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-296"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="XMonad.Layout.NoBorders.html#OtherIndicated"><span class="hs-identifier hs-var">OtherIndicated</span></a></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Ambiguity
</span><a href="#local-6989586621679431772"><span class="hs-identifier hs-var">amb</span></a></span><span>
</span><span id="line-297"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679431656"><span class="annot"><span class="annottext">nonF :: [[Window]]
</span><a href="#local-6989586621679431656"><span class="hs-identifier hs-var hs-var">nonF</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">forall {i} {l} {a} {sid} {sd}. Screen i l a sid sd -&gt; [a]
</span><a href="#local-6989586621679431744"><span class="hs-identifier hs-var">integrate</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. StackSet i l a sid sd -&gt; Screen i l a sid sd
</span><span class="hs-identifier hs-var">W.current</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679431771"><span class="hs-identifier hs-var">wset</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">forall i l a s sd. StackSet i l a s sd -&gt; [Screen i l a s sd]
</span><span class="hs-identifier hs-var">W.visible</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679431771"><span class="hs-identifier hs-var">wset</span></a></span><span>
</span><span id="line-298"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">[[Window]]
</span><a href="#local-6989586621679431656"><span class="hs-identifier hs-var">nonF</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[(Window, Rectangle)]
</span><a href="#local-6989586621679431768"><span class="hs-identifier hs-var">wrs</span></a></span><span>
</span><span id="line-299"></span><span>              </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; Bool
</span><a href="XMonad.Layout.NoBorders.html#singleton"><span class="hs-identifier hs-var">singleton</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[[Window]]
</span><a href="#local-6989586621679431656"><span class="hs-identifier hs-var">nonF</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679431660"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-300"></span><span>              </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; Bool
</span><a href="XMonad.Layout.NoBorders.html#singleton"><span class="hs-identifier hs-var">singleton</span></a></span><span> </span><span class="annot"><span class="annottext">[Screen String (Layout Window) Window ScreenId ScreenDetail]
</span><a href="#local-6989586621679431747"><span class="hs-identifier hs-var">screens</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679431660"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-301"></span><span>            </span><span class="annot"><a href="#local-6989586621679431754"><span class="hs-identifier hs-var">tiled</span></a></span><span> </span><span class="annot"><span class="annottext">[a]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-302"></span><span>            </span><span id="local-6989586621679431744"><span class="annot"><span class="annottext">integrate :: Screen i l a sid sd -&gt; [a]
</span><a href="#local-6989586621679431744"><span class="hs-identifier hs-var hs-var">integrate</span></a></span></span><span> </span><span id="local-6989586621679431650"><span class="annot"><span class="annottext">Screen i l a sid sd
</span><a href="#local-6989586621679431650"><span class="hs-identifier hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe (Stack a) -&gt; [a]
</span><span class="hs-identifier hs-var">W.integrate'</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall i l a. Workspace i l a -&gt; Maybe (Stack a)
</span><span class="hs-identifier hs-var">W.stack</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall i l a sid sd. Screen i l a sid sd -&gt; Workspace i l a
</span><span class="hs-identifier hs-var">W.workspace</span></span><span> </span><span class="annot"><span class="annottext">Screen i l a sid sd
</span><a href="#local-6989586621679431650"><span class="hs-identifier hs-var">y</span></a></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-comment">-- | In order of increasing ambiguity (less borders more frequently), where</span><span>
</span><span id="line-305"></span><span class="hs-comment">-- subsequent constructors add additional cases where borders are not drawn</span><span>
</span><span id="line-306"></span><span class="hs-comment">-- than their predecessors. These behaviors make most sense with with multiple</span><span>
</span><span id="line-307"></span><span class="hs-comment">-- screens: for single screens, 'Never' or 'smartBorders' makes more sense.</span><span>
</span><span id="line-308"></span><span class="hs-keyword">data</span><span> </span><span id="Ambiguity"><span class="annot"><a href="XMonad.Layout.NoBorders.html#Ambiguity"><span class="hs-identifier hs-var">Ambiguity</span></a></span></span><span>
</span><span id="line-309"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="Combine"><span class="annot"><a href="XMonad.Layout.NoBorders.html#Combine"><span class="hs-identifier hs-var">Combine</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#With"><span class="hs-identifier hs-type">With</span></a></span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#Ambiguity"><span class="hs-identifier hs-type">Ambiguity</span></a></span><span> </span><span class="annot"><a href="XMonad.Layout.NoBorders.html#Ambiguity"><span class="hs-identifier hs-type">Ambiguity</span></a></span><span>
</span><span id="line-310"></span><span>        </span><span class="hs-comment">-- ^ This constructor is used to combine the borderless windows</span><span>
</span><span id="line-311"></span><span>        </span><span class="hs-comment">-- provided by the SetsAmbiguous instances from two other 'Ambiguity'</span><span>
</span><span id="line-312"></span><span>        </span><span class="hs-comment">-- data types.</span><span>
</span><span id="line-313"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="OnlyLayoutFloatBelow"><span class="annot"><a href="XMonad.Layout.NoBorders.html#OnlyLayoutFloatBelow"><span class="hs-identifier hs-var">OnlyLayoutFloatBelow</span></a></span></span><span>
</span><span id="line-314"></span><span>        </span><span class="hs-comment">-- ^ Like 'OnlyLayoutFloat', but only removes borders if no window</span><span>
</span><span id="line-315"></span><span>        </span><span class="hs-comment">-- stacked below remains visible. Considers all floating windows on the</span><span>
</span><span id="line-316"></span><span>        </span><span class="hs-comment">-- current screen and all visible tiled windows of the child layout. If</span><span>
</span><span id="line-317"></span><span>        </span><span class="hs-comment">-- any such window (that is stacked below) shows in any gap between the</span><span>
</span><span id="line-318"></span><span>        </span><span class="hs-comment">-- parent layout rectangle and the physical screen, the border will</span><span>
</span><span id="line-319"></span><span>        </span><span class="hs-comment">-- remain drawn.</span><span>
</span><span id="line-320"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="OnlyLayoutFloat"><span class="annot"><a href="XMonad.Layout.NoBorders.html#OnlyLayoutFloat"><span class="hs-identifier hs-var">OnlyLayoutFloat</span></a></span></span><span>
</span><span id="line-321"></span><span>        </span><span class="hs-comment">-- ^ Only remove borders on floating windows that exactly cover the</span><span>
</span><span id="line-322"></span><span>        </span><span class="hs-comment">-- parent layout rectangle.</span><span>
</span><span id="line-323"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="OnlyScreenFloat"><span class="annot"><a href="XMonad.Layout.NoBorders.html#OnlyScreenFloat"><span class="hs-identifier hs-var">OnlyScreenFloat</span></a></span></span><span>
</span><span id="line-324"></span><span>        </span><span class="hs-comment">-- ^ Only remove borders on floating windows that cover the whole</span><span>
</span><span id="line-325"></span><span>        </span><span class="hs-comment">-- screen.</span><span>
</span><span id="line-326"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Never"><span class="annot"><a href="XMonad.Layout.NoBorders.html#Never"><span class="hs-identifier hs-var">Never</span></a></span></span><span>
</span><span id="line-327"></span><span>        </span><span class="hs-comment">-- ^ Like 'OnlyScreenFloat', and also remove borders of tiled windows</span><span>
</span><span id="line-328"></span><span>        </span><span class="hs-comment">-- when not ambiguous: this is the same as 'smartBorders'.</span><span>
</span><span id="line-329"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="EmptyScreen"><span class="annot"><a href="XMonad.Layout.NoBorders.html#EmptyScreen"><span class="hs-identifier hs-var">EmptyScreen</span></a></span></span><span>
</span><span id="line-330"></span><span>        </span><span class="hs-comment">-- ^ Focus in an empty screen does not count as ambiguous.</span><span>
</span><span id="line-331"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="OtherIndicated"><span class="annot"><a href="XMonad.Layout.NoBorders.html#OtherIndicated"><span class="hs-identifier hs-var">OtherIndicated</span></a></span></span><span>
</span><span id="line-332"></span><span>        </span><span class="hs-comment">-- ^ No borders on full when all other screens have borders.</span><span>
</span><span id="line-333"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="OnlyFloat"><span class="annot"><a href="XMonad.Layout.NoBorders.html#OnlyFloat"><span class="hs-identifier hs-var">OnlyFloat</span></a></span></span><span>
</span><span id="line-334"></span><span>        </span><span class="hs-comment">-- ^ Remove borders on all floating windows; tiling windows of</span><span>
</span><span id="line-335"></span><span>        </span><span class="hs-comment">-- any kinds are not affected.</span><span>
</span><span id="line-336"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="Screen"><span class="annot"><a href="XMonad.Layout.NoBorders.html#Screen"><span class="hs-identifier hs-var">Screen</span></a></span></span><span>
</span><span id="line-337"></span><span>        </span><span class="hs-comment">-- ^ Borders are never drawn on singleton screens.  With this one you</span><span>
</span><span id="line-338"></span><span>        </span><span class="hs-comment">-- really need another way such as a statusbar to detect focus.</span><span>
</span><span id="line-339"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679431624"><span id="local-6989586621679431642"><span id="local-6989586621679431645"><span id="local-6989586621679431647"><span class="annot"><span class="annottext">ReadPrec [Ambiguity]
ReadPrec Ambiguity
Int -&gt; ReadS Ambiguity
ReadS [Ambiguity]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [Ambiguity]
$creadListPrec :: ReadPrec [Ambiguity]
readPrec :: ReadPrec Ambiguity
$creadPrec :: ReadPrec Ambiguity
readList :: ReadS [Ambiguity]
$creadList :: ReadS [Ambiguity]
readsPrec :: Int -&gt; ReadS Ambiguity
$creadsPrec :: Int -&gt; ReadS Ambiguity
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679431613"><span id="local-6989586621679431615"><span id="local-6989586621679431621"><span class="annot"><span class="annottext">Int -&gt; Ambiguity -&gt; ShowS
[Ambiguity] -&gt; ShowS
Ambiguity -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Ambiguity] -&gt; ShowS
$cshowList :: [Ambiguity] -&gt; ShowS
show :: Ambiguity -&gt; String
$cshow :: Ambiguity -&gt; String
showsPrec :: Int -&gt; Ambiguity -&gt; ShowS
$cshowsPrec :: Int -&gt; Ambiguity -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-comment">-- | Used to indicate to the 'SetsAmbiguous' instance for 'Ambiguity' how two</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- lists should be combined.</span><span>
</span><span id="line-343"></span><span class="hs-keyword">data</span><span> </span><span id="With"><span class="annot"><a href="XMonad.Layout.NoBorders.html#With"><span class="hs-identifier hs-var">With</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Union"><span class="annot"><a href="XMonad.Layout.NoBorders.html#Union"><span class="hs-identifier hs-var">Union</span></a></span></span><span>        </span><span class="hs-comment">-- ^ uses 'Data.List.union'</span><span>
</span><span id="line-344"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="Difference"><span class="annot"><a href="XMonad.Layout.NoBorders.html#Difference"><span class="hs-identifier hs-var">Difference</span></a></span></span><span>   </span><span class="hs-comment">-- ^ uses 'Data.List.\\'</span><span>
</span><span id="line-345"></span><span>          </span><span class="hs-glyph">|</span><span> </span><span id="Intersection"><span class="annot"><a href="XMonad.Layout.NoBorders.html#Intersection"><span class="hs-identifier hs-var">Intersection</span></a></span></span><span> </span><span class="hs-comment">-- ^ uses 'Data.List.intersect'</span><span>
</span><span id="line-346"></span><span>        </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679431601"><span id="local-6989586621679431606"><span id="local-6989586621679431609"><span id="local-6989586621679431611"><span class="annot"><span class="annottext">ReadPrec [With]
ReadPrec With
Int -&gt; ReadS With
ReadS [With]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [With]
$creadListPrec :: ReadPrec [With]
readPrec :: ReadPrec With
$creadPrec :: ReadPrec With
readList :: ReadS [With]
$creadList :: ReadS [With]
readsPrec :: Int -&gt; ReadS With
$creadsPrec :: Int -&gt; ReadS With
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679431594"><span id="local-6989586621679431596"><span id="local-6989586621679431598"><span class="annot"><span class="annottext">Int -&gt; With -&gt; ShowS
[With] -&gt; ShowS
With -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [With] -&gt; ShowS
$cshowList :: [With] -&gt; ShowS
show :: With -&gt; String
$cshow :: With -&gt; String
showsPrec :: Int -&gt; With -&gt; ShowS
$cshowsPrec :: Int -&gt; With -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span></pre></body></html>