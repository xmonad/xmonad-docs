<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP                 #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE InstanceSigs        #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase          #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns      #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings   #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE RecordWildCards     #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE StrictData          #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE ViewPatterns        #-}</span><span>
</span><span id="line-10"></span><span class="hs-comment">--------------------------------------------------------------------</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- Module      :  XMonad.Prompt.OrgMode</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Description :  A prompt for interacting with org-mode.</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- Copyright   :  (c) 2021  Tony Zorman</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- License     :  BSD3-style (see LICENSE)</span><span>
</span><span id="line-16"></span><span class="hs-comment">--</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- Maintainer  :  Tony Zorman &lt;soliditsallgood@mailbox.org&gt;</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Stability   :  experimental</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- Portability :  unknown</span><span>
</span><span id="line-20"></span><span class="hs-comment">--</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- A prompt for interacting with &lt;https:\/\/orgmode.org\/ org-mode&gt;.</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- This can be seen as an org-specific version of</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- &quot;XMonad.Prompt.AppendFile&quot;, allowing for more interesting</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- interactions with that particular file type.</span><span>
</span><span id="line-25"></span><span class="hs-comment">--</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- It can be used to quickly save TODOs, NOTEs, and the like with the</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- additional capability to schedule/deadline a task, add a priority,</span><span>
</span><span id="line-28"></span><span class="hs-comment">-- refile to some existing heading, and use the system's clipboard</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- (really: the primary selection) as the contents of the note.</span><span>
</span><span id="line-30"></span><span class="hs-comment">--</span><span>
</span><span id="line-31"></span><span class="hs-comment">-- A blog post highlighting some features of this module can be found</span><span>
</span><span id="line-32"></span><span class="hs-comment">-- &lt;https://tony-zorman.com/posts/orgmode-prompt/2022-08-27-xmonad-and-org-mode.html here&gt;.</span><span>
</span><span id="line-33"></span><span class="hs-comment">--</span><span>
</span><span id="line-34"></span><span class="hs-comment">--------------------------------------------------------------------</span><span>
</span><span id="line-35"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">XMonad.Prompt.OrgMode</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Usage</span></span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><span class="hs-comment">-- $usage</span></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Prompts</span></span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#orgPrompt"><span class="hs-identifier">orgPrompt</span></a></span><span class="hs-special">,</span><span>              </span><span class="hs-comment">-- :: XPConfig -&gt; String -&gt; FilePath -&gt; X ()</span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#orgPromptRefile"><span class="hs-identifier">orgPromptRefile</span></a></span><span class="hs-special">,</span><span>        </span><span class="hs-comment">-- :: XPConfig -&gt; [String] -&gt; String -&gt; FilePath -&gt; X ()</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#orgPromptRefileTo"><span class="hs-identifier">orgPromptRefileTo</span></a></span><span class="hs-special">,</span><span>      </span><span class="hs-comment">-- :: XPConfig -&gt; String -&gt; String -&gt; FilePath -&gt; X ()</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#orgPromptPrimary"><span class="hs-identifier">orgPromptPrimary</span></a></span><span class="hs-special">,</span><span>       </span><span class="hs-comment">-- :: XPConfig -&gt; String -&gt; FilePath -&gt; X ()</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#ClipboardSupport"><span class="hs-identifier">ClipboardSupport</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier">OrgMode</span></a></span><span class="hs-special">,</span><span>                </span><span class="hs-comment">-- abstract</span><span class="hs-cpp">

#ifdef TESTING
</span><span>    </span><span class="hs-identifier">pInput</span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-identifier">Note</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-identifier">Priority</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>    </span><span class="hs-identifier">Date</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>    </span><span class="hs-identifier">Time</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>    </span><span class="hs-identifier">TimeOfDay</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>    </span><span class="hs-identifier">OrgTime</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>    </span><span class="hs-identifier">DayOfWeek</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-60"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Prelude.html"><span class="hs-identifier">XMonad.Prelude</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">XMonad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">X</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">io</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">whenJust</span></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Prompt.html"><span class="hs-identifier">XMonad.Prompt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.html#XPConfig"><span class="hs-identifier">XPConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#XPrompt"><span class="hs-identifier">XPrompt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.html#showXPrompt"><span class="hs-identifier">showXPrompt</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#mkXPromptWithReturn"><span class="hs-identifier">mkXPromptWithReturn</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#mkComplFunFromList"><span class="hs-identifier">mkComplFunFromList</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#ComplFunction"><span class="hs-identifier">ComplFunction</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html"><span class="hs-identifier">XMonad.Util.Parser</span></a></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Util.XSelection.html"><span class="hs-identifier">XMonad.Util.XSelection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Util.XSelection.html#getSelection"><span class="hs-identifier">getSelection</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Util.Run.html"><span class="hs-identifier">XMonad.Util.Run</span></a></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.DeepSeq</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">deepseq</span></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NE</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">head</span></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Day</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ModifiedJulianDay</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">NominalDiffTime</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">UTCTime</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">utctDay</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">addUTCTime</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromGregorian</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">getCurrentTime</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">nominalDay</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">toGregorian</span></span><span class="hs-special">)</span><span class="hs-cpp">
#if MIN_VERSION_time(1, 9, 0)
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time.Format.ISO8601</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">iso8601Show</span></span><span class="hs-special">)</span><span class="hs-cpp">
#else
</span><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Time.Format</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">defaultTimeLocale</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">formatTime</span><span class="hs-special">,</span><span> </span><span class="hs-identifier">iso8601DateFormat</span><span class="hs-special">)</span><span class="hs-cpp">
#endif
</span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Natural</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Natural</span></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IOMode</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">AppendMode</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ReadMode</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hClose</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hGetContents</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">openFile</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">withFile</span></span><span class="hs-special">)</span><span>
</span><span id="line-80"></span><span>
</span><span id="line-81"></span><span class="hs-comment">{- $usage

You can use this module by importing it, along with &quot;XMonad.Prompt&quot;, in
your @xmonad.hs@

&gt; import XMonad.Prompt
&gt; import XMonad.Prompt.OrgMode (orgPrompt)

and adding an appropriate keybinding.  For example, using syntax from
&quot;XMonad.Util.EZConfig&quot;:

&gt; , (&quot;M-C-o&quot;, orgPrompt def &quot;TODO&quot; &quot;/home/me/org/todos.org&quot;)

This would create notes of the form @* TODO /my-message/@ in the
specified file.

You can also enter a relative path; in that case the file path will be
prepended with @$HOME@ or an equivalent directory.  I.e. instead of the
above you can write

&gt; , (&quot;M-C-o&quot;, orgPrompt def &quot;TODO&quot; &quot;org/todos.org&quot;)
&gt;                -- also possible: &quot;~/org/todos.org&quot;

There is also some scheduling and deadline functionality present.  This
may be initiated by entering @+s@ or @+d@&#8212;separated by at least one
whitespace character on either side&#8212;into the prompt, respectively.
Then, one may enter a date and (optionally) a time of day.  Any of the
following are valid dates, where brackets indicate optionality:

  - tod[ay]
  - tom[orrow]
  - /any weekday/
  - /any date of the form DD [MM] [YYYY]/

In the last case, the missing month and year will be filled out with the
current month and year.

For weekdays, we also disambiguate as early as possible; a simple @w@
will suffice to mean Wednesday, but @s@ will not be enough to say
Sunday.  You can, however, also write the full word without any
troubles.  Weekdays always schedule into the future; e.g., if today is
Monday and you schedule something for Monday, you will actually schedule
it for the /next/ Monday (the one in seven days).

The time is specified in the @HH:MM@ or @HHMM@ format.  The minutes may
be omitted, in which case we assume a full hour is specified.  It is also
possible to enter a time span using the syntax @HH:MM-HH:MM@ or @HH:MM+HH@.
In the former case, minutes may be omitted.

A few examples are probably in order.  Suppose we have bound the key
above, pressed it, and are now confronted with a prompt:

  - @hello +s today@ would create a TODO note with the header @hello@
    and would schedule that for today's date.

  - @hello +s today 12@ schedules the note for today at 12:00.

  - @hello +s today 12:30@ schedules it for today at 12:30.

  - @hello +d today 12:30@ works just like above, but creates a
    deadline.

  - @hello +d today 12:30-14:30@ works like the above, but gives the
    event a duration of two hours.  An alternative way to specify
    this would be @hello +d today 12:30+2@.

  - @hello +s thu@ would schedule the note for next thursday.

  - @hello +s 11@ would schedule it for the 11th of this month and this
    year.

  - @hello +s 11 jan 2013@ would schedule the note for the 11th of
    January 2013.

Note that, due to ambiguity concerns, years below @25@ result in
undefined parsing behaviour.  Otherwise, what should @message +s 11 jan
13@ resolve to&#8212;the 11th of january at 13:00 or the 11th of january in
the year 13?

There is basic support for alphabetic org-mode
&lt;https:\/\/orgmode.org\/manual\/Priorities.html priorities&gt;.
Simply append either @#A@, @#B@, or @#C@ (capitalisation is optional) to
the end of the note.  For example, one could write @&quot;hello +s 11 jan
2013 #A&quot;@ or @&quot;hello #C&quot;@.  Note that there has to be at least one
whitespace character between the end of the note and the chosen
priority.

There's also the possibility to take what's currently in the primary
selection and paste that as the content of the created note.  This is
especially useful when you want to quickly save a URL for later and
return to whatever you were doing before.  See the 'orgPromptPrimary'
prompt for that.

Finally, 'orgPromptRefile' and 'orgPromptRefileTo' provide support to
automatically
&lt;https://orgmode.org/manual/Refile-and-Copy.html refile&gt;
the generated item under a heading of choice.  For example, binding

&gt; orgPromptRefile def &quot;TODO&quot; &quot;todos.org&quot;

to a key will first pop up an ordinary prompt that works exactly like
'orgPrompt', and then query the user for an already existing heading
(with completions) as provided by the @~/todos.org@ file.  If that
prompt is cancelled, the heading will appear in the org file as normal
(i.e., at the end of the file); otherwise, it gets refiled under the
selected heading.

-}</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span class="hs-comment">{- TODO

  - XMonad.Util.XSelection.getSelection is really, really horrible.  The
    plan would be to rewrite this in a way so it uses xmonad's
    connection to the X server.

  - Add option to explicitly use the system clipboard instead of the
    primary selection.

-}</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-202"></span><span class="hs-comment">-- Prompt</span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="hs-keyword">data</span><span> </span><span id="OrgMode"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-var">OrgMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="OrgMode"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-var">OrgMode</span></a></span></span><span>
</span><span id="line-205"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="clpSupport"><span class="annot"><span class="annottext">OrgMode -&gt; ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#clpSupport"><span class="hs-identifier hs-var hs-var">clpSupport</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#ClipboardSupport"><span class="hs-identifier hs-type">ClipboardSupport</span></a></span><span>
</span><span id="line-206"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="todoHeader"><span class="annot"><span class="annottext">OrgMode -&gt; [Char]
</span><a href="XMonad.Prompt.OrgMode.html#todoHeader"><span class="hs-identifier hs-var hs-var">todoHeader</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>    </span><span class="hs-comment">-- ^ Will display like @* todoHeader @</span><span>
</span><span id="line-207"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="orgFile"><span class="annot"><span class="annottext">OrgMode -&gt; [Char]
</span><a href="XMonad.Prompt.OrgMode.html#orgFile"><span class="hs-identifier hs-var hs-var">orgFile</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-208"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-209"></span><span>
</span><span id="line-210"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#mkOrgCfg"><span class="hs-identifier hs-type">mkOrgCfg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#ClipboardSupport"><span class="hs-identifier hs-type">ClipboardSupport</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-type">OrgMode</span></a></span><span>
</span><span id="line-211"></span><span id="mkOrgCfg"><span class="annot"><span class="annottext">mkOrgCfg :: ClipboardSupport -&gt; [Char] -&gt; [Char] -&gt; X OrgMode
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgCfg"><span class="hs-identifier hs-var hs-var">mkOrgCfg</span></a></span></span><span> </span><span id="local-6989586621679459836"><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="#local-6989586621679459836"><span class="hs-identifier hs-var">clp</span></a></span></span><span> </span><span id="local-6989586621679459835"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459835"><span class="hs-identifier hs-var">header</span></a></span></span><span> </span><span id="local-6989586621679459834"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459834"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ClipboardSupport -&gt; [Char] -&gt; [Char] -&gt; OrgMode
</span><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-var">OrgMode</span></a></span><span> </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="#local-6989586621679459836"><span class="hs-identifier hs-var">clp</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459835"><span class="hs-identifier hs-var">header</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; [Char] -&gt; m [Char]
</span><a href="XMonad.Prelude.html#mkAbsolutePath"><span class="hs-identifier hs-var">mkAbsolutePath</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459834"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-212"></span><span>
</span><span id="line-213"></span><span class="hs-comment">-- | Whether we should use a clipboard and which one to use.</span><span>
</span><span id="line-214"></span><span class="hs-keyword">data</span><span> </span><span id="ClipboardSupport"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#ClipboardSupport"><span class="hs-identifier hs-var">ClipboardSupport</span></a></span></span><span>
</span><span id="line-215"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PrimarySelection"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#PrimarySelection"><span class="hs-identifier hs-var">PrimarySelection</span></a></span></span><span>
</span><span id="line-216"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NoClpSupport"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#NoClpSupport"><span class="hs-identifier hs-var">NoClpSupport</span></a></span></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">-- | How one should display the clipboard string.</span><span>
</span><span id="line-219"></span><span class="hs-keyword">data</span><span> </span><span id="Clp"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Clp"><span class="hs-identifier hs-var">Clp</span></a></span></span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Header"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Header"><span class="hs-identifier hs-var">Header</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>  </span><span class="hs-comment">-- ^ In the header as a link: @* [[clp][message]]@</span><span>
</span><span id="line-221"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Body"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span>   </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>  </span><span class="hs-comment">-- ^ In the body as additional text: @* message \n clp@</span><span>
</span><span id="line-222"></span><span>
</span><span id="line-223"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679459817"><span id="local-6989586621679459819"><span id="local-6989586621679459821"><span id="local-6989586621679459823"><span id="local-6989586621679459825"><span class="annot"><a href="XMonad.Prompt.html#XPrompt"><span class="hs-identifier hs-type">XPrompt</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-type">OrgMode</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-224"></span><span>  </span><span class="annot"><a href="XMonad.Prompt.html#showXPrompt"><span class="hs-identifier hs-type">showXPrompt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-type">OrgMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-225"></span><span>  </span><span id="local-6989586621679459811"><span class="annot"><span class="annottext">showXPrompt :: OrgMode -&gt; [Char]
</span><a href="#local-6989586621679459811"><span class="hs-identifier hs-var hs-var hs-var hs-var">showXPrompt</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-type">OrgMode</span></a></span><span class="hs-special">{</span><span> </span><span id="local-6989586621679459810"><span class="annot"><span class="annottext">[Char]
todoHeader :: [Char]
todoHeader :: OrgMode -&gt; [Char]
</span><a href="#local-6989586621679459810"><span class="hs-identifier hs-var hs-var">todoHeader</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459809"><span class="annot"><span class="annottext">[Char]
orgFile :: [Char]
orgFile :: OrgMode -&gt; [Char]
</span><a href="#local-6989586621679459809"><span class="hs-identifier hs-var hs-var">orgFile</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459808"><span class="annot"><span class="annottext">ClipboardSupport
clpSupport :: ClipboardSupport
clpSupport :: OrgMode -&gt; ClipboardSupport
</span><a href="#local-6989586621679459808"><span class="hs-identifier hs-var hs-var">clpSupport</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-226"></span><span>    </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Add &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459810"><span class="hs-identifier hs-var">todoHeader</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459807"><span class="hs-identifier hs-var">clp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; to &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459809"><span class="hs-identifier hs-var">orgFile</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;: &quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-227"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-228"></span><span>    </span><span id="local-6989586621679459807"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459807"><span class="hs-identifier hs-var">clp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="#local-6989586621679459808"><span class="hs-identifier hs-var">clpSupport</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-229"></span><span>      </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#NoClpSupport"><span class="hs-identifier hs-var">NoClpSupport</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-230"></span><span>      </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#PrimarySelection"><span class="hs-identifier hs-var">PrimarySelection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; + PS&quot;</span></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span class="hs-comment">-- | Prompt for interacting with @org-mode@.</span><span>
</span><span id="line-233"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#orgPrompt"><span class="hs-identifier hs-type">orgPrompt</span></a></span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#XPConfig"><span class="hs-identifier hs-type">XPConfig</span></a></span><span>  </span><span class="hs-comment">-- ^ Prompt configuration</span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>    </span><span class="hs-comment">-- ^ What kind of note to create; will be displayed after</span><span>
</span><span id="line-236"></span><span>               </span><span class="hs-comment">--   a single @*@</span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>  </span><span class="hs-comment">-- ^ Path to @.org@ file, e.g. @home\/me\/todos.org@</span><span>
</span><span id="line-238"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-239"></span><span id="orgPrompt"><span class="annot"><span class="annottext">orgPrompt :: XPConfig -&gt; [Char] -&gt; [Char] -&gt; X ()
</span><a href="XMonad.Prompt.OrgMode.html#orgPrompt"><span class="hs-identifier hs-var hs-var">orgPrompt</span></a></span></span><span> </span><span id="local-6989586621679459803"><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679459803"><span class="hs-identifier hs-var">xpc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XPConfig -&gt; OrgMode -&gt; X Bool
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgPrompt"><span class="hs-identifier hs-var">mkOrgPrompt</span></a></span><span> </span><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679459803"><span class="hs-identifier hs-var">xpc</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b c d. (a -&gt; b) -&gt; (c -&gt; d -&gt; a) -&gt; c -&gt; d -&gt; b
</span><a href="XMonad.Prelude.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">ClipboardSupport -&gt; [Char] -&gt; [Char] -&gt; X OrgMode
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgCfg"><span class="hs-identifier hs-var">mkOrgCfg</span></a></span><span> </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#NoClpSupport"><span class="hs-identifier hs-var">NoClpSupport</span></a></span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="hs-comment">-- | Like 'orgPrompt', but additionally make use of the primary</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- selection.  If it is a URL, then use an org-style link</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- @[[primary-selection][entered message]]@ as the heading.  Otherwise,</span><span>
</span><span id="line-244"></span><span class="hs-comment">-- use the primary selection as the content of the note.</span><span>
</span><span id="line-245"></span><span class="hs-comment">--</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- The prompt will display a little @+ PS@ in the window</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- after the type of note.</span><span>
</span><span id="line-248"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#orgPromptPrimary"><span class="hs-identifier hs-type">orgPromptPrimary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#XPConfig"><span class="hs-identifier hs-type">XPConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span id="orgPromptPrimary"><span class="annot"><span class="annottext">orgPromptPrimary :: XPConfig -&gt; [Char] -&gt; [Char] -&gt; X ()
</span><a href="XMonad.Prompt.OrgMode.html#orgPromptPrimary"><span class="hs-identifier hs-var hs-var">orgPromptPrimary</span></a></span></span><span> </span><span id="local-6989586621679459797"><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679459797"><span class="hs-identifier hs-var">xpc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XPConfig -&gt; OrgMode -&gt; X Bool
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgPrompt"><span class="hs-identifier hs-var">mkOrgPrompt</span></a></span><span> </span><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679459797"><span class="hs-identifier hs-var">xpc</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b c d. (a -&gt; b) -&gt; (c -&gt; d -&gt; a) -&gt; c -&gt; d -&gt; b
</span><a href="XMonad.Prelude.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">ClipboardSupport -&gt; [Char] -&gt; [Char] -&gt; X OrgMode
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgCfg"><span class="hs-identifier hs-var">mkOrgCfg</span></a></span><span> </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#PrimarySelection"><span class="hs-identifier hs-var">PrimarySelection</span></a></span><span>
</span><span id="line-250"></span><span>
</span><span id="line-251"></span><span class="hs-comment">-- | Internal type in order to generate a nice prompt in</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- 'orgPromptRefile' and 'orgPromptRefileTo'.</span><span>
</span><span id="line-253"></span><span class="hs-keyword">data</span><span> </span><span id="RefilePrompt"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#RefilePrompt"><span class="hs-identifier hs-var">RefilePrompt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Refile"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Refile"><span class="hs-identifier hs-var">Refile</span></a></span></span><span>
</span><span id="line-254"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679459785"><span id="local-6989586621679459787"><span id="local-6989586621679459789"><span id="local-6989586621679459791"><span id="local-6989586621679459793"><span class="annot"><a href="XMonad.Prompt.html#XPrompt"><span class="hs-identifier hs-type">XPrompt</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#RefilePrompt"><span class="hs-identifier hs-type">RefilePrompt</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-255"></span><span>  </span><span class="annot"><a href="XMonad.Prompt.html#showXPrompt"><span class="hs-identifier hs-type">showXPrompt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#RefilePrompt"><span class="hs-identifier hs-type">RefilePrompt</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-256"></span><span>  </span><span id="local-6989586621679459784"><span class="annot"><span class="annottext">showXPrompt :: RefilePrompt -&gt; [Char]
</span><a href="#local-6989586621679459784"><span class="hs-identifier hs-var hs-var hs-var hs-var">showXPrompt</span></a></span></span><span> </span><span class="annot"><span class="annottext">RefilePrompt
</span><a href="XMonad.Prompt.OrgMode.html#Refile"><span class="hs-identifier hs-var">Refile</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Refile note to: &quot;</span></span><span>
</span><span id="line-257"></span><span>
</span><span id="line-258"></span><span class="hs-comment">-- | Like 'orgPrompt' (which see for the other arguments), but offer to</span><span>
</span><span id="line-259"></span><span class="hs-comment">-- refile the entered note afterwards.</span><span>
</span><span id="line-260"></span><span class="hs-comment">--</span><span>
</span><span id="line-261"></span><span class="hs-comment">-- Note that refiling is done by shelling out to Emacs, hence an @emacs@</span><span>
</span><span id="line-262"></span><span class="hs-comment">-- binary must be in @$PATH@.  One may customise this by following the</span><span>
</span><span id="line-263"></span><span class="hs-comment">-- instructions in &quot;XMonad.Util.Run#g:EDSL&quot;; more specifically, by</span><span>
</span><span id="line-264"></span><span class="hs-comment">-- changing the 'XMonad.Util.Run.emacs' field of</span><span>
</span><span id="line-265"></span><span class="hs-comment">-- 'XMonad.Util.Run.ProcessConfig'.</span><span>
</span><span id="line-266"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#orgPromptRefile"><span class="hs-identifier hs-type">orgPromptRefile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#XPConfig"><span class="hs-identifier hs-type">XPConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span id="orgPromptRefile"><span class="annot"><span class="annottext">orgPromptRefile :: XPConfig -&gt; [Char] -&gt; [Char] -&gt; X ()
</span><a href="XMonad.Prompt.OrgMode.html#orgPromptRefile"><span class="hs-identifier hs-var hs-var">orgPromptRefile</span></a></span></span><span> </span><span id="local-6989586621679459783"><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679459783"><span class="hs-identifier hs-var">xpc</span></a></span></span><span> </span><span id="local-6989586621679459782"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459782"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621679459781"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459781"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-268"></span><span>  </span><span id="local-6989586621679459780"><span class="annot"><span class="annottext">OrgMode
</span><a href="#local-6989586621679459780"><span class="hs-identifier hs-var">orgCfg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ClipboardSupport -&gt; [Char] -&gt; [Char] -&gt; X OrgMode
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgCfg"><span class="hs-identifier hs-var">mkOrgCfg</span></a></span><span> </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#NoClpSupport"><span class="hs-identifier hs-var">NoClpSupport</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459782"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459781"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-comment">-- NOTE: Ideally we would just use System.IO.readFile' here</span><span>
</span><span id="line-271"></span><span>  </span><span class="hs-comment">-- (especially because it also reads everything strictly), but this is</span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-comment">-- only available starting in base 4.15.x.</span><span>
</span><span id="line-273"></span><span>  </span><span id="local-6989586621679459779"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459779"><span class="hs-identifier hs-var">fileContents</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-274"></span><span>    </span><span id="local-6989586621679459778"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679459778"><span class="hs-identifier hs-var">handle</span></a></span></span><span>   </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; IOMode -&gt; IO Handle
</span><span class="hs-identifier hs-var">openFile</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrgMode -&gt; [Char]
</span><a href="XMonad.Prompt.OrgMode.html#orgFile"><span class="hs-identifier hs-var">orgFile</span></a></span><span> </span><span class="annot"><span class="annottext">OrgMode
</span><a href="#local-6989586621679459780"><span class="hs-identifier hs-var">orgCfg</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IOMode
</span><span class="hs-identifier hs-var">ReadMode</span></span><span>
</span><span id="line-275"></span><span>    </span><span id="local-6989586621679459777"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459777"><span class="hs-identifier hs-var">contents</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; IO [Char]
</span><span class="hs-identifier hs-var">hGetContents</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679459778"><span class="hs-identifier hs-var">handle</span></a></span><span>
</span><span id="line-276"></span><span>    </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459777"><span class="hs-identifier hs-var">contents</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459777"><span class="hs-identifier hs-var">contents</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. NFData a =&gt; a -&gt; b -&gt; b
</span><span class="hs-operator hs-var">`deepseq`</span></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><span class="hs-identifier hs-var">hClose</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679459778"><span class="hs-identifier hs-var">handle</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-comment">-- Save the entry as soon as possible.</span><span>
</span><span id="line-279"></span><span>  </span><span id="local-6989586621679459775"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679459775"><span class="hs-identifier hs-var">notCancelled</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XPConfig -&gt; OrgMode -&gt; X Bool
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgPrompt"><span class="hs-identifier hs-var">mkOrgPrompt</span></a></span><span> </span><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679459783"><span class="hs-identifier hs-var">xpc</span></a></span><span> </span><span class="annot"><span class="annottext">OrgMode
</span><a href="#local-6989586621679459780"><span class="hs-identifier hs-var">orgCfg</span></a></span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679459775"><span class="hs-identifier hs-var">notCancelled</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-281"></span><span>    </span><span class="hs-comment">-- If the user didn't cancel, try to parse the org file and offer to</span><span>
</span><span id="line-282"></span><span>    </span><span class="hs-comment">-- refile the entry if possible.</span><span>
</span><span id="line-283"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><span class="hs-identifier hs-var">whenJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Parser a -&gt; [Char] -&gt; Maybe a
</span><a href="XMonad.Util.Parser.html#runParser"><span class="hs-identifier hs-var">runParser</span></a></span><span> </span><span class="annot"><span class="annottext">Parser [Heading]
</span><a href="XMonad.Prompt.OrgMode.html#pOrgFile"><span class="hs-identifier hs-var">pOrgFile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459779"><span class="hs-identifier hs-var">fileContents</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679459771"><span class="annot"><span class="annottext">[Heading]
</span><a href="#local-6989586621679459771"><span class="hs-identifier hs-var">headings</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-284"></span><span>      </span><span class="annot"><span class="annottext">forall p a.
XPrompt p =&gt;
p -&gt; XPConfig -&gt; ComplFunction -&gt; ([Char] -&gt; X a) -&gt; X (Maybe a)
</span><a href="XMonad.Prompt.html#mkXPromptWithReturn"><span class="hs-identifier hs-var">mkXPromptWithReturn</span></a></span><span> </span><span class="annot"><span class="annottext">RefilePrompt
</span><a href="XMonad.Prompt.OrgMode.html#Refile"><span class="hs-identifier hs-var">Refile</span></a></span><span> </span><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679459783"><span class="hs-identifier hs-var">xpc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Heading] -&gt; ComplFunction
</span><a href="#local-6989586621679459770"><span class="hs-identifier hs-var">completeHeadings</span></a></span><span> </span><span class="annot"><span class="annottext">[Heading]
</span><a href="#local-6989586621679459771"><span class="hs-identifier hs-var">headings</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-285"></span><span>        </span><span class="annot"><span class="annottext">Maybe [Char]
</span><span class="hs-identifier hs-var">Nothing</span></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679459769"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459769"><span class="hs-identifier hs-var">parent</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; X ()
</span><a href="XMonad.Prompt.OrgMode.html#refile"><span class="hs-identifier hs-var">refile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459769"><span class="hs-identifier hs-var">parent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrgMode -&gt; [Char]
</span><a href="XMonad.Prompt.OrgMode.html#orgFile"><span class="hs-identifier hs-var">orgFile</span></a></span><span> </span><span class="annot"><span class="annottext">OrgMode
</span><a href="#local-6989586621679459780"><span class="hs-identifier hs-var">orgCfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-288"></span><span>  </span><span class="annot"><a href="#local-6989586621679459770"><span class="hs-identifier hs-type">completeHeadings</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Heading"><span class="hs-identifier hs-type">Heading</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#ComplFunction"><span class="hs-identifier hs-type">ComplFunction</span></a></span><span>
</span><span id="line-289"></span><span>  </span><span id="local-6989586621679459770"><span class="annot"><span class="annottext">completeHeadings :: [Heading] -&gt; ComplFunction
</span><a href="#local-6989586621679459770"><span class="hs-identifier hs-var hs-var">completeHeadings</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XPConfig -&gt; [[Char]] -&gt; ComplFunction
</span><a href="XMonad.Prompt.html#mkComplFunFromList"><span class="hs-identifier hs-var">mkComplFunFromList</span></a></span><span> </span><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679459783"><span class="hs-identifier hs-var">xpc</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Heading -&gt; [Char]
</span><a href="XMonad.Prompt.OrgMode.html#headingText"><span class="hs-identifier hs-var">headingText</span></a></span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span class="hs-comment">-- | Like 'orgPromptRefile', but with a fixed heading for refiling; no</span><span>
</span><span id="line-292"></span><span class="hs-comment">-- prompt will appear to query for a target.</span><span>
</span><span id="line-293"></span><span class="hs-comment">--</span><span>
</span><span id="line-294"></span><span class="hs-comment">-- Heading names may omit tags, but generally need to be prefixed by the</span><span>
</span><span id="line-295"></span><span class="hs-comment">-- correct todo keywords; e.g.,</span><span>
</span><span id="line-296"></span><span class="hs-comment">--</span><span>
</span><span id="line-297"></span><span class="hs-comment">-- &gt; orgPromptRefileTo def &quot;PROJECT Work&quot; &quot;TODO&quot; &quot;~/todos.org&quot;</span><span>
</span><span id="line-298"></span><span class="hs-comment">--</span><span>
</span><span id="line-299"></span><span class="hs-comment">-- Will refile the created note @&quot;TODO &lt;text&gt;&quot;@ to the @&quot;PROJECT Work&quot;@</span><span>
</span><span id="line-300"></span><span class="hs-comment">-- heading, even with the actual name is @&quot;PROJECT Work</span><span>
</span><span id="line-301"></span><span class="hs-comment">-- :work:other_tags:&quot;@.  Just entering @&quot;Work&quot;@ will not work, as Emacs</span><span>
</span><span id="line-302"></span><span class="hs-comment">-- doesn't recognise @&quot;PROJECT&quot;@ as an Org keyword by default (i.e. when</span><span>
</span><span id="line-303"></span><span class="hs-comment">-- started in batch-mode).</span><span>
</span><span id="line-304"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#orgPromptRefileTo"><span class="hs-identifier hs-type">orgPromptRefileTo</span></a></span><span>
</span><span id="line-305"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#XPConfig"><span class="hs-identifier hs-type">XPConfig</span></a></span><span>
</span><span id="line-306"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>     </span><span class="hs-comment">-- ^ Heading to refile the entry under.</span><span>
</span><span id="line-307"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-308"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-309"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span id="orgPromptRefileTo"><span class="annot"><span class="annottext">orgPromptRefileTo :: XPConfig -&gt; [Char] -&gt; [Char] -&gt; [Char] -&gt; X ()
</span><a href="XMonad.Prompt.OrgMode.html#orgPromptRefileTo"><span class="hs-identifier hs-var hs-var">orgPromptRefileTo</span></a></span></span><span> </span><span id="local-6989586621679459766"><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679459766"><span class="hs-identifier hs-var">xpc</span></a></span></span><span> </span><span id="local-6989586621679459765"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459765"><span class="hs-identifier hs-var">refileHeading</span></a></span></span><span> </span><span id="local-6989586621679459764"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459764"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621679459763"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459763"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-311"></span><span>  </span><span id="local-6989586621679459762"><span class="annot"><span class="annottext">OrgMode
</span><a href="#local-6989586621679459762"><span class="hs-identifier hs-var">orgCfg</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ClipboardSupport -&gt; [Char] -&gt; [Char] -&gt; X OrgMode
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgCfg"><span class="hs-identifier hs-var">mkOrgCfg</span></a></span><span> </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#NoClpSupport"><span class="hs-identifier hs-var">NoClpSupport</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459764"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459763"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-312"></span><span>  </span><span id="local-6989586621679459761"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679459761"><span class="hs-identifier hs-var">notCancelled</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">XPConfig -&gt; OrgMode -&gt; X Bool
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgPrompt"><span class="hs-identifier hs-var">mkOrgPrompt</span></a></span><span> </span><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679459766"><span class="hs-identifier hs-var">xpc</span></a></span><span> </span><span class="annot"><span class="annottext">OrgMode
</span><a href="#local-6989586621679459762"><span class="hs-identifier hs-var">orgCfg</span></a></span><span>
</span><span id="line-313"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679459761"><span class="hs-identifier hs-var">notCancelled</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; X ()
</span><a href="XMonad.Prompt.OrgMode.html#refile"><span class="hs-identifier hs-var">refile</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459765"><span class="hs-identifier hs-var">refileHeading</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">OrgMode -&gt; [Char]
</span><a href="XMonad.Prompt.OrgMode.html#orgFile"><span class="hs-identifier hs-var">orgFile</span></a></span><span> </span><span class="annot"><span class="annottext">OrgMode
</span><a href="#local-6989586621679459762"><span class="hs-identifier hs-var">orgCfg</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span class="hs-comment">-- | Create the actual prompt.  Returns 'False' when the input was</span><span>
</span><span id="line-316"></span><span class="hs-comment">-- cancelled by the user (by, for example, pressing @Esc@ or @C-g@) and</span><span>
</span><span id="line-317"></span><span class="hs-comment">-- 'True' otherwise.</span><span>
</span><span id="line-318"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#mkOrgPrompt"><span class="hs-identifier hs-type">mkOrgPrompt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#XPConfig"><span class="hs-identifier hs-type">XPConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-type">OrgMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-319"></span><span id="mkOrgPrompt"><span class="annot"><span class="annottext">mkOrgPrompt :: XPConfig -&gt; OrgMode -&gt; X Bool
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgPrompt"><span class="hs-identifier hs-var hs-var">mkOrgPrompt</span></a></span></span><span> </span><span id="local-6989586621679459760"><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679459760"><span class="hs-identifier hs-var">xpc</span></a></span></span><span> </span><span id="local-6989586621679459759"><span class="annot"><span class="annottext">oc :: OrgMode
</span><a href="#local-6989586621679459759"><span class="hs-identifier hs-var">oc</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-type">OrgMode</span></a></span><span class="hs-special">{</span><span> </span><span id="local-6989586621679459758"><span class="annot"><span class="annottext">[Char]
todoHeader :: [Char]
todoHeader :: OrgMode -&gt; [Char]
</span><a href="#local-6989586621679459758"><span class="hs-identifier hs-var hs-var">todoHeader</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459757"><span class="annot"><span class="annottext">[Char]
orgFile :: [Char]
orgFile :: OrgMode -&gt; [Char]
</span><a href="#local-6989586621679459757"><span class="hs-identifier hs-var hs-var">orgFile</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459756"><span class="annot"><span class="annottext">ClipboardSupport
clpSupport :: ClipboardSupport
clpSupport :: OrgMode -&gt; ClipboardSupport
</span><a href="#local-6989586621679459756"><span class="hs-identifier hs-var hs-var">clpSupport</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-320"></span><span>  </span><span class="annot"><span class="annottext">forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isJust</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall p a.
XPrompt p =&gt;
p -&gt; XPConfig -&gt; ComplFunction -&gt; ([Char] -&gt; X a) -&gt; X (Maybe a)
</span><a href="XMonad.Prompt.html#mkXPromptWithReturn"><span class="hs-identifier hs-var">mkXPromptWithReturn</span></a></span><span> </span><span class="annot"><span class="annottext">OrgMode
</span><a href="#local-6989586621679459759"><span class="hs-identifier hs-var">oc</span></a></span><span> </span><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679459760"><span class="hs-identifier hs-var">xpc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; X ()
</span><a href="#local-6989586621679459753"><span class="hs-identifier hs-var">appendNote</span></a></span><span>
</span><span id="line-321"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-322"></span><span>  </span><span class="hs-comment">-- | Parse the user input, create an @org-mode@ note out of that and</span><span>
</span><span id="line-323"></span><span>  </span><span class="hs-comment">-- try to append it to the given file.</span><span>
</span><span id="line-324"></span><span>  </span><span class="annot"><a href="#local-6989586621679459753"><span class="hs-identifier hs-type">appendNote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>  </span><span id="local-6989586621679459753"><span class="annot"><span class="annottext">appendNote :: [Char] -&gt; X ()
</span><a href="#local-6989586621679459753"><span class="hs-identifier hs-var hs-var">appendNote</span></a></span></span><span> </span><span id="local-6989586621679459752"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459752"><span class="hs-identifier hs-var">input</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-326"></span><span>    </span><span id="local-6989586621679459751"><span class="annot"><span class="annottext">Clp
</span><a href="#local-6989586621679459751"><span class="hs-identifier hs-var">clpStr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="#local-6989586621679459756"><span class="hs-identifier hs-var">clpSupport</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-327"></span><span>      </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#NoClpSupport"><span class="hs-identifier hs-var">NoClpSupport</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Clp
</span><a href="XMonad.Prompt.OrgMode.html#Body"><span class="hs-identifier hs-var">Body</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-328"></span><span>      </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#PrimarySelection"><span class="hs-identifier hs-var">PrimarySelection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-329"></span><span>        </span><span id="local-6989586621679459750"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459750"><span class="hs-identifier hs-var">sel</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; m [Char]
</span><a href="XMonad.Util.XSelection.html#getSelection"><span class="hs-identifier hs-var">getSelection</span></a></span><span>
</span><span id="line-330"></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">if</span><span>   </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><span class="hs-operator hs-var">`isPrefixOf`</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459750"><span class="hs-identifier hs-var">sel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;http://&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;https://&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-331"></span><span>               </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Clp
</span><a href="XMonad.Prompt.OrgMode.html#Header"><span class="hs-identifier hs-var">Header</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459750"><span class="hs-identifier hs-var">sel</span></a></span><span>
</span><span id="line-332"></span><span>               </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Clp
</span><a href="XMonad.Prompt.OrgMode.html#Body"><span class="hs-identifier hs-var">Body</span></a></span><span>   </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;\n &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459750"><span class="hs-identifier hs-var">sel</span></a></span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span>    </span><span class="annot"><span class="annottext">forall r. [Char] -&gt; IOMode -&gt; (Handle -&gt; IO r) -&gt; IO r
</span><span class="hs-identifier hs-var">withFile</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459757"><span class="hs-identifier hs-var">orgFile</span></a></span><span> </span><span class="annot"><span class="annottext">IOMode
</span><span class="hs-identifier hs-var">AppendMode</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; [Char] -&gt; IO ()
</span><span class="hs-identifier hs-var">hPutStrLn</span></span><span>
</span><span id="line-335"></span><span>      </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) b c a.
Monad m =&gt;
(b -&gt; m c) -&gt; (a -&gt; m b) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&lt;=&lt;</span></span><span> </span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Clp -&gt; [Char] -&gt; Note -&gt; IO [Char]
</span><a href="XMonad.Prompt.OrgMode.html#ppNote"><span class="hs-identifier hs-var">ppNote</span></a></span><span> </span><span class="annot"><span class="annottext">Clp
</span><a href="#local-6989586621679459751"><span class="hs-identifier hs-var">clpStr</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459758"><span class="hs-identifier hs-var">todoHeader</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Maybe Note
</span><a href="XMonad.Prompt.OrgMode.html#pInput"><span class="hs-identifier hs-var">pInput</span></a></span><span>
</span><span id="line-336"></span><span>        </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459752"><span class="hs-identifier hs-var">input</span></a></span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- Refiling</span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-comment">-- | Let Emacs do the refiling, as this seems&#8212;and I know how this</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- sounds&#8212;more robust than trying to do it ad-hoc in this module.</span><span>
</span><span id="line-343"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#refile"><span class="hs-identifier hs-type">refile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span id="refile"><span class="annot"><span class="annottext">refile :: [Char] -&gt; [Char] -&gt; X ()
</span><a href="XMonad.Prompt.OrgMode.html#refile"><span class="hs-identifier hs-var hs-var">refile</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; [Char]
</span><a href="XMonad.Util.Run.html#asString"><span class="hs-identifier hs-var">asString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679459740"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459740"><span class="hs-identifier hs-var">parent</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; [Char]
</span><a href="XMonad.Util.Run.html#asString"><span class="hs-identifier hs-var">asString</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679459739"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459739"><span class="hs-identifier hs-var">fp</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-345"></span><span>  </span><span class="annot"><span class="annottext">X ([Char] -&gt; [Char]) -&gt; X ()
</span><a href="XMonad.Util.Run.html#proc"><span class="hs-identifier hs-var">proc</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">X ([Char] -&gt; [Char])
</span><a href="XMonad.Util.Run.html#inEmacs"><span class="hs-identifier hs-var">inEmacs</span></a></span><span>
</span><span id="line-346"></span><span>     </span><span class="annot"><span class="annottext">X ([Char] -&gt; [Char])
-&gt; X ([Char] -&gt; [Char]) -&gt; X ([Char] -&gt; [Char])
</span><a href="XMonad.Util.Run.html#%3E-%3E"><span class="hs-operator hs-var">&gt;-&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">X ([Char] -&gt; [Char])
</span><a href="XMonad.Util.Run.html#asBatch"><span class="hs-identifier hs-var">asBatch</span></a></span><span>
</span><span id="line-347"></span><span>     </span><span class="annot"><span class="annottext">X ([Char] -&gt; [Char])
-&gt; X ([Char] -&gt; [Char]) -&gt; X ([Char] -&gt; [Char])
</span><a href="XMonad.Util.Run.html#%3E-%3E"><span class="hs-operator hs-var">&gt;-&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; X ([Char] -&gt; [Char])
</span><a href="XMonad.Util.Run.html#eval"><span class="hs-identifier hs-var">eval</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
</span><a href="XMonad.Util.Run.html#progn"><span class="hs-identifier hs-var">progn</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;find-file&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459739"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-348"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;end-of-buffer&quot;</span></span><span>
</span><span id="line-349"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;org-refile nil nil&quot;</span></span><span>
</span><span id="line-350"></span><span>                         </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
</span><a href="XMonad.Util.Run.html#list"><span class="hs-identifier hs-var">list</span></a></span><span> </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459740"><span class="hs-identifier hs-var">parent</span></a></span><span>
</span><span id="line-351"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459739"><span class="hs-identifier hs-var">fp</span></a></span><span>
</span><span id="line-352"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;nil&quot;</span></span><span>
</span><span id="line-353"></span><span>                                 </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[[Char]] -&gt; [Char]
</span><a href="XMonad.Util.Run.html#saveExcursion"><span class="hs-identifier hs-var">saveExcursion</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;org-find-exact-headline-in-buffer&quot;</span></span><span>
</span><span id="line-354"></span><span>                                                    </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459740"><span class="hs-identifier hs-var">parent</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-355"></span><span>                                 </span><span class="hs-special">]</span><span>
</span><span id="line-356"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;save-buffer&quot;</span></span><span>
</span><span id="line-357"></span><span>                     </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-360"></span><span class="hs-comment">-- Time</span><span>
</span><span id="line-361"></span><span>
</span><span id="line-362"></span><span class="hs-comment">-- | A 'Time' is a 'Date' with the possibility of having a specified</span><span>
</span><span id="line-363"></span><span class="hs-comment">-- @HH:MM@ time.</span><span>
</span><span id="line-364"></span><span class="hs-keyword">data</span><span> </span><span id="Time"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-var">Time</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Time"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-var">Time</span></a></span></span><span>
</span><span id="line-365"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="date"><span class="annot"><span class="annottext">Time -&gt; Date
</span><a href="XMonad.Prompt.OrgMode.html#date"><span class="hs-identifier hs-var hs-var">date</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-type">Date</span></a></span><span>
</span><span id="line-366"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tod"><span class="annot"><span class="annottext">Time -&gt; Maybe OrgTime
</span><a href="XMonad.Prompt.OrgMode.html#tod"><span class="hs-identifier hs-var hs-var">tod</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgTime"><span class="hs-identifier hs-type">OrgTime</span></a></span><span>
</span><span id="line-367"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-368"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679459720"><span id="local-6989586621679459726"><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Time -&gt; Time -&gt; Bool
$c/= :: Time -&gt; Time -&gt; Bool
== :: Time -&gt; Time -&gt; Bool
$c== :: Time -&gt; Time -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459708"><span id="local-6989586621679459710"><span id="local-6989586621679459717"><span class="annot"><span class="annottext">Int -&gt; Time -&gt; [Char] -&gt; [Char]
[Time] -&gt; [Char] -&gt; [Char]
Time -&gt; [Char]
forall a.
(Int -&gt; a -&gt; [Char] -&gt; [Char])
-&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; [Char] -&gt; [Char]) -&gt; Show a
showList :: [Time] -&gt; [Char] -&gt; [Char]
$cshowList :: [Time] -&gt; [Char] -&gt; [Char]
show :: Time -&gt; [Char]
$cshow :: Time -&gt; [Char]
showsPrec :: Int -&gt; Time -&gt; [Char] -&gt; [Char]
$cshowsPrec :: Int -&gt; Time -&gt; [Char] -&gt; [Char]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span class="hs-comment">-- | The time in HH:MM.</span><span>
</span><span id="line-371"></span><span class="hs-keyword">data</span><span> </span><span id="TimeOfDay"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-var">TimeOfDay</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="HHMM"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#HHMM"><span class="hs-identifier hs-var">HHMM</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-372"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679459699"><span id="local-6989586621679459704"><span class="annot"><span class="annottext">TimeOfDay -&gt; TimeOfDay -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TimeOfDay -&gt; TimeOfDay -&gt; Bool
$c/= :: TimeOfDay -&gt; TimeOfDay -&gt; Bool
== :: TimeOfDay -&gt; TimeOfDay -&gt; Bool
$c== :: TimeOfDay -&gt; TimeOfDay -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-373"></span><span>
</span><span id="line-374"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679459694"><span id="local-6989586621679459697"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-375"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">show</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-376"></span><span>  </span><span id="local-6989586621679459682"><span class="annot"><span class="annottext">show :: TimeOfDay -&gt; [Char]
</span><a href="#local-6989586621679459682"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#HHMM"><span class="hs-identifier hs-type">HHMM</span></a></span><span> </span><span id="local-6989586621679459681"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459681"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679459680"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459680"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Char]
</span><a href="#local-6989586621679459679"><span class="hs-identifier hs-var">pad</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459681"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; [Char]
</span><a href="#local-6989586621679459679"><span class="hs-identifier hs-var">pad</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459680"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-377"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-378"></span><span>    </span><span class="annot"><a href="#local-6989586621679459679"><span class="hs-identifier hs-type">pad</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-379"></span><span>    </span><span id="local-6989586621679459679"><span class="annot"><span class="annottext">pad :: Int -&gt; [Char]
</span><a href="#local-6989586621679459679"><span class="hs-identifier hs-var hs-var">pad</span></a></span></span><span> </span><span id="local-6989586621679459678"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459678"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459678"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;0&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459678"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-380"></span><span>
</span><span id="line-381"></span><span class="hs-comment">-- | The time&#8212;possibly as a span&#8212;in HH:MM format.</span><span>
</span><span id="line-382"></span><span class="hs-keyword">data</span><span> </span><span id="OrgTime"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgTime"><span class="hs-identifier hs-var">OrgTime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MomentInTime"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#MomentInTime"><span class="hs-identifier hs-var">MomentInTime</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="TimeSpan"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeSpan"><span class="hs-identifier hs-var">TimeSpan</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span><span>
</span><span id="line-383"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679459668"><span id="local-6989586621679459673"><span class="annot"><span class="annottext">OrgTime -&gt; OrgTime -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: OrgTime -&gt; OrgTime -&gt; Bool
$c/= :: OrgTime -&gt; OrgTime -&gt; Bool
== :: OrgTime -&gt; OrgTime -&gt; Bool
$c== :: OrgTime -&gt; OrgTime -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>
</span><span id="line-385"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679459663"><span id="local-6989586621679459666"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgTime"><span class="hs-identifier hs-type">OrgTime</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-386"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">show</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgTime"><span class="hs-identifier hs-type">OrgTime</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-387"></span><span>  </span><span id="local-6989586621679459656"><span class="annot"><span class="annottext">show :: OrgTime -&gt; [Char]
</span><a href="#local-6989586621679459656"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#MomentInTime"><span class="hs-identifier hs-type">MomentInTime</span></a></span><span> </span><span id="local-6989586621679459655"><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679459655"><span class="hs-identifier hs-var">tod</span></a></span></span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679459655"><span class="hs-identifier hs-var">tod</span></a></span><span>
</span><span id="line-388"></span><span>  </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeSpan"><span class="hs-identifier hs-type">TimeSpan</span></a></span><span> </span><span id="local-6989586621679459654"><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679459654"><span class="hs-identifier hs-var">tod</span></a></span></span><span> </span><span id="local-6989586621679459653"><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679459653"><span class="hs-identifier hs-var">tod'</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679459654"><span class="hs-identifier hs-var">tod</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679459653"><span class="hs-identifier hs-var">tod'</span></a></span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span class="hs-comment">-- | Type for specifying exactly which day one wants.</span><span>
</span><span id="line-391"></span><span class="hs-keyword">data</span><span> </span><span id="Date"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-var">Date</span></a></span></span><span>
</span><span id="line-392"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Today"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Today"><span class="hs-identifier hs-var">Today</span></a></span></span><span>
</span><span id="line-393"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Tomorrow"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Tomorrow"><span class="hs-identifier hs-var">Tomorrow</span></a></span></span><span>
</span><span id="line-394"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Next"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Next"><span class="hs-identifier hs-var">Next</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span>
</span><span id="line-395"></span><span>    </span><span class="hs-comment">-- ^ This will __always__ show the next 'DayOfWeek' (e.g. calling</span><span>
</span><span id="line-396"></span><span>    </span><span class="hs-comment">-- 'Next Monday' on a Monday will result in getting the menu for the</span><span>
</span><span id="line-397"></span><span>    </span><span class="hs-comment">-- following Monday)</span><span>
</span><span id="line-398"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Date"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-var">Date</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>    </span><span class="hs-comment">-- ^ Manual date entry in the format DD [MM] [YYYY]</span><span>
</span><span id="line-400"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679459639"><span id="local-6989586621679459647"><span class="annot"><span class="annottext">Date -&gt; Date -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Date -&gt; Date -&gt; Bool
$c/= :: Date -&gt; Date -&gt; Bool
== :: Date -&gt; Date -&gt; Bool
$c== :: Date -&gt; Date -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459616"><span id="local-6989586621679459618"><span id="local-6989586621679459620"><span id="local-6989586621679459622"><span id="local-6989586621679459624"><span id="local-6989586621679459626"><span id="local-6989586621679459633"><span class="annot"><span class="annottext">Eq Date
Date -&gt; Date -&gt; Bool
Date -&gt; Date -&gt; Ordering
Date -&gt; Date -&gt; Date
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Date -&gt; Date -&gt; Date
$cmin :: Date -&gt; Date -&gt; Date
max :: Date -&gt; Date -&gt; Date
$cmax :: Date -&gt; Date -&gt; Date
&gt;= :: Date -&gt; Date -&gt; Bool
$c&gt;= :: Date -&gt; Date -&gt; Bool
&gt; :: Date -&gt; Date -&gt; Bool
$c&gt; :: Date -&gt; Date -&gt; Bool
&lt;= :: Date -&gt; Date -&gt; Bool
$c&lt;= :: Date -&gt; Date -&gt; Bool
&lt; :: Date -&gt; Date -&gt; Bool
$c&lt; :: Date -&gt; Date -&gt; Bool
compare :: Date -&gt; Date -&gt; Ordering
$ccompare :: Date -&gt; Date -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459600"><span id="local-6989586621679459602"><span id="local-6989586621679459612"><span class="annot"><span class="annottext">Int -&gt; Date -&gt; [Char] -&gt; [Char]
[Date] -&gt; [Char] -&gt; [Char]
Date -&gt; [Char]
forall a.
(Int -&gt; a -&gt; [Char] -&gt; [Char])
-&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; [Char] -&gt; [Char]) -&gt; Show a
showList :: [Date] -&gt; [Char] -&gt; [Char]
$cshowList :: [Date] -&gt; [Char] -&gt; [Char]
show :: Date -&gt; [Char]
$cshow :: Date -&gt; [Char]
showsPrec :: Int -&gt; Date -&gt; [Char] -&gt; [Char]
$cshowsPrec :: Int -&gt; Date -&gt; [Char] -&gt; [Char]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span>
</span><span id="line-402"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#toOrgFmt"><span class="hs-identifier hs-type">toOrgFmt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgTime"><span class="hs-identifier hs-type">OrgTime</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Day</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-403"></span><span id="toOrgFmt"><span class="annot"><span class="annottext">toOrgFmt :: Maybe OrgTime -&gt; Day -&gt; [Char]
</span><a href="XMonad.Prompt.OrgMode.html#toOrgFmt"><span class="hs-identifier hs-var hs-var">toOrgFmt</span></a></span></span><span> </span><span id="local-6989586621679459596"><span class="annot"><span class="annottext">Maybe OrgTime
</span><a href="#local-6989586621679459596"><span class="hs-identifier hs-var">tod</span></a></span></span><span> </span><span id="local-6989586621679459595"><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679459595"><span class="hs-identifier hs-var">day</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-404"></span><span>  </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&lt;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459594"><span class="hs-identifier hs-var">isoDay</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Day -&gt; DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#dayOfWeek"><span class="hs-identifier hs-var">dayOfWeek</span></a></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679459595"><span class="hs-identifier hs-var">day</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459591"><span class="hs-identifier hs-var">time</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&gt;&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-405"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-406"></span><span>  </span><span id="local-6989586621679459591"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459591"><span class="hs-identifier hs-var">time</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe OrgTime
</span><a href="#local-6989586621679459596"><span class="hs-identifier hs-var">tod</span></a></span><span class="hs-cpp">
#if MIN_VERSION_time(1, 9, 0)
</span><span>  </span><span id="local-6989586621679459594"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459594"><span class="hs-identifier hs-var">isoDay</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall t. ISO8601 t =&gt; t -&gt; [Char]
</span><span class="hs-identifier hs-var">iso8601Show</span></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679459595"><span class="hs-identifier hs-var">day</span></a></span><span class="hs-cpp">
#else
</span><span>  </span><span class="hs-identifier">isoDay</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier">String</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">formatTime</span><span> </span><span class="hs-identifier">defaultTimeLocale</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">iso8601DateFormat</span><span> </span><span class="hs-identifier">Nothing</span><span class="hs-special">)</span><span> </span><span class="hs-identifier">day</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-413"></span><span class="hs-comment">-- | Pretty print a 'Date' and an optional time to reflect the actual</span><span>
</span><span id="line-414"></span><span class="hs-comment">-- date.</span><span>
</span><span id="line-415"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#ppDate"><span class="hs-identifier hs-type">ppDate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-416"></span><span id="ppDate"><span class="annot"><span class="annottext">ppDate :: Time -&gt; IO [Char]
</span><a href="XMonad.Prompt.OrgMode.html#ppDate"><span class="hs-identifier hs-var hs-var">ppDate</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span class="hs-special">{</span><span> </span><span id="local-6989586621679459584"><span class="annot"><span class="annottext">Date
date :: Date
date :: Time -&gt; Date
</span><a href="#local-6989586621679459584"><span class="hs-identifier hs-var hs-var">date</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459583"><span class="annot"><span class="annottext">Maybe OrgTime
tod :: Maybe OrgTime
tod :: Time -&gt; Maybe OrgTime
</span><a href="#local-6989586621679459583"><span class="hs-identifier hs-var hs-var">tod</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-417"></span><span>  </span><span id="local-6989586621679459582"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679459582"><span class="hs-identifier hs-var">curTime</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO UTCTime
</span><span class="hs-identifier hs-var">getCurrentTime</span></span><span>
</span><span id="line-418"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679459581"><span class="annot"><span class="annottext">curDay :: Day
</span><a href="#local-6989586621679459581"><span class="hs-identifier hs-var hs-var">curDay</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Day
</span><span class="hs-identifier hs-var">utctDay</span></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679459582"><span class="hs-identifier hs-var">curTime</span></a></span><span>
</span><span id="line-419"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679459580"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679459580"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459579"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459579"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Day -&gt; (Integer, Int, Int)
</span><span class="hs-identifier hs-var">toGregorian</span></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679459581"><span class="hs-identifier hs-var">curDay</span></a></span><span>
</span><span id="line-420"></span><span>      </span><span id="local-6989586621679459578"><span class="annot"><span class="annottext">diffToDay :: DayOfWeek -&gt; NominalDiffTime
</span><a href="#local-6989586621679459578"><span class="hs-identifier hs-var hs-var">diffToDay</span></a></span></span><span> </span><span id="local-6989586621679459577"><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679459577"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DayOfWeek -&gt; DayOfWeek -&gt; NominalDiffTime
</span><a href="#local-6989586621679459576"><span class="hs-identifier hs-var">diffBetween</span></a></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679459577"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Day -&gt; DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#dayOfWeek"><span class="hs-identifier hs-var">dayOfWeek</span></a></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679459581"><span class="hs-identifier hs-var">curDay</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Maybe OrgTime -&gt; Day -&gt; [Char]
</span><a href="XMonad.Prompt.OrgMode.html#toOrgFmt"><span class="hs-identifier hs-var">toOrgFmt</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe OrgTime
</span><a href="#local-6989586621679459583"><span class="hs-identifier hs-var">tod</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Date
</span><a href="#local-6989586621679459584"><span class="hs-identifier hs-var">date</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-423"></span><span>    </span><span class="annot"><span class="annottext">Date
</span><a href="XMonad.Prompt.OrgMode.html#Today"><span class="hs-identifier hs-var">Today</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679459581"><span class="hs-identifier hs-var">curDay</span></a></span><span>
</span><span id="line-424"></span><span>    </span><span class="annot"><span class="annottext">Date
</span><a href="XMonad.Prompt.OrgMode.html#Tomorrow"><span class="hs-identifier hs-var">Tomorrow</span></a></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Day
</span><span class="hs-identifier hs-var">utctDay</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; UTCTime -&gt; UTCTime
</span><a href="#local-6989586621679459575"><span class="hs-identifier hs-var">addDays</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679459582"><span class="hs-identifier hs-var">curTime</span></a></span><span>
</span><span id="line-425"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Next"><span class="hs-identifier hs-type">Next</span></a></span><span> </span><span id="local-6989586621679459574"><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679459574"><span class="hs-identifier hs-var">wday</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Day
</span><span class="hs-identifier hs-var">utctDay</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; UTCTime -&gt; UTCTime
</span><a href="#local-6989586621679459575"><span class="hs-identifier hs-var">addDays</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DayOfWeek -&gt; NominalDiffTime
</span><a href="#local-6989586621679459578"><span class="hs-identifier hs-var">diffToDay</span></a></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679459574"><span class="hs-identifier hs-var">wday</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679459582"><span class="hs-identifier hs-var">curTime</span></a></span><span>
</span><span id="line-426"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-type">Date</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679459573"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459573"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459572"><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679459572"><span class="hs-identifier hs-var">mbM</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459571"><span class="annot"><span class="annottext">Maybe Integer
</span><a href="#local-6989586621679459571"><span class="hs-identifier hs-var">mbY</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Int -&gt; Day
</span><span class="hs-identifier hs-var">fromGregorian</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679459580"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Integer
</span><a href="#local-6989586621679459571"><span class="hs-identifier hs-var">mbY</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459579"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679459572"><span class="hs-identifier hs-var">mbM</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459573"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-427"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-428"></span><span>  </span><span class="hs-comment">-- | Add a specified number of days to a 'UTCTime'.</span><span>
</span><span id="line-429"></span><span>  </span><span id="local-6989586621679459575"><span class="annot"><span class="annottext">NominalDiffTime -&gt; UTCTime -&gt; UTCTime
</span><a href="#local-6989586621679459575"><span class="hs-identifier hs-var">addDays</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NominalDiffTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UTCTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UTCTime</span></span><span>
</span><span id="line-430"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; UTCTime -&gt; UTCTime
</span><span class="hs-identifier hs-var">addUTCTime</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><span class="hs-identifier hs-var">nominalDay</span></span><span class="hs-special">)</span><span>
</span><span id="line-431"></span><span>
</span><span id="line-432"></span><span>  </span><span class="hs-comment">-- | Evil enum hackery.</span><span>
</span><span id="line-433"></span><span>  </span><span class="annot"><a href="#local-6989586621679459576"><span class="hs-identifier hs-type">diffBetween</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NominalDiffTime</span></span><span>
</span><span id="line-434"></span><span>  </span><span id="local-6989586621679459576"><span class="annot"><span class="annottext">diffBetween :: DayOfWeek -&gt; DayOfWeek -&gt; NominalDiffTime
</span><a href="#local-6989586621679459576"><span class="hs-identifier hs-var hs-var">diffBetween</span></a></span></span><span> </span><span id="local-6989586621679459567"><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679459567"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621679459566"><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679459566"><span class="hs-identifier hs-var">cur</span></a></span></span><span>  </span><span class="hs-comment">-- we want to jump to @d@</span><span>
</span><span id="line-435"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679459567"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679459566"><span class="hs-identifier hs-var">cur</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><span class="hs-number">7</span></span><span>
</span><span id="line-436"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679459567"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679459566"><span class="hs-identifier hs-var">cur</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mod`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span>
</span><span id="line-437"></span><span>
</span><span id="line-438"></span><span class="hs-comment">-- Old GHC versions don't have a @time@ library new enough to have</span><span>
</span><span id="line-439"></span><span class="hs-comment">-- this, so replicate it here for the moment.</span><span>
</span><span id="line-440"></span><span>
</span><span id="line-441"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#dayOfWeek"><span class="hs-identifier hs-type">dayOfWeek</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Day</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span>
</span><span id="line-442"></span><span id="dayOfWeek"><span class="annot"><span class="annottext">dayOfWeek :: Day -&gt; DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#dayOfWeek"><span class="hs-identifier hs-var hs-var">dayOfWeek</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ModifiedJulianDay</span></span><span> </span><span id="local-6989586621679459562"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679459562"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Enum a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679459562"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">3</span></span><span>
</span><span id="line-443"></span><span>
</span><span id="line-444"></span><span class="hs-keyword">data</span><span> </span><span id="DayOfWeek"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-var">DayOfWeek</span></a></span></span><span>
</span><span id="line-445"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Monday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Monday"><span class="hs-identifier hs-var">Monday</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Tuesday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Tuesday"><span class="hs-identifier hs-var">Tuesday</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Wednesday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Wednesday"><span class="hs-identifier hs-var">Wednesday</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Thursday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Thursday"><span class="hs-identifier hs-var">Thursday</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Friday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Friday"><span class="hs-identifier hs-var">Friday</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Saturday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Saturday"><span class="hs-identifier hs-var">Saturday</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Sunday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Sunday"><span class="hs-identifier hs-var">Sunday</span></a></span></span><span>
</span><span id="line-446"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679459549"><span id="local-6989586621679459551"><span class="annot"><span class="annottext">DayOfWeek -&gt; DayOfWeek -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
$c/= :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
== :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
$c== :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459530"><span id="local-6989586621679459532"><span id="local-6989586621679459535"><span id="local-6989586621679459538"><span id="local-6989586621679459541"><span id="local-6989586621679459543"><span id="local-6989586621679459545"><span class="annot"><span class="annottext">Eq DayOfWeek
DayOfWeek -&gt; DayOfWeek -&gt; Bool
DayOfWeek -&gt; DayOfWeek -&gt; Ordering
DayOfWeek -&gt; DayOfWeek -&gt; DayOfWeek
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: DayOfWeek -&gt; DayOfWeek -&gt; DayOfWeek
$cmin :: DayOfWeek -&gt; DayOfWeek -&gt; DayOfWeek
max :: DayOfWeek -&gt; DayOfWeek -&gt; DayOfWeek
$cmax :: DayOfWeek -&gt; DayOfWeek -&gt; DayOfWeek
&gt;= :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
$c&gt;= :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
&gt; :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
$c&gt; :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
&lt;= :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
$c&lt;= :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
&lt; :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
$c&lt; :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
compare :: DayOfWeek -&gt; DayOfWeek -&gt; Ordering
$ccompare :: DayOfWeek -&gt; DayOfWeek -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459524"><span id="local-6989586621679459526"><span id="local-6989586621679459528"><span class="annot"><span class="annottext">Int -&gt; DayOfWeek -&gt; [Char] -&gt; [Char]
[DayOfWeek] -&gt; [Char] -&gt; [Char]
DayOfWeek -&gt; [Char]
forall a.
(Int -&gt; a -&gt; [Char] -&gt; [Char])
-&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; [Char] -&gt; [Char]) -&gt; Show a
showList :: [DayOfWeek] -&gt; [Char] -&gt; [Char]
$cshowList :: [DayOfWeek] -&gt; [Char] -&gt; [Char]
show :: DayOfWeek -&gt; [Char]
$cshow :: DayOfWeek -&gt; [Char]
showsPrec :: Int -&gt; DayOfWeek -&gt; [Char] -&gt; [Char]
$cshowsPrec :: Int -&gt; DayOfWeek -&gt; [Char] -&gt; [Char]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="hs-comment">-- | \&quot;Circular\&quot;, so for example @[Tuesday ..]@ gives an endless</span><span>
</span><span id="line-449"></span><span class="hs-comment">-- sequence.  Also: 'fromEnum' gives [1 .. 7] for [Monday .. Sunday],</span><span>
</span><span id="line-450"></span><span class="hs-comment">-- and 'toEnum' performs mod 7 to give a cycle of days.</span><span>
</span><span id="line-451"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679459510"><span id="local-6989586621679459512"><span id="local-6989586621679459514"><span id="local-6989586621679459516"><span id="local-6989586621679459520"><span id="local-6989586621679459522"><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-452"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">toEnum</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span>
</span><span id="line-453"></span><span>  </span><span id="local-6989586621679459494"><span class="annot"><span class="annottext">toEnum :: Int -&gt; DayOfWeek
</span><a href="#local-6989586621679459494"><span class="hs-identifier hs-var hs-var hs-var hs-var">toEnum</span></a></span></span><span> </span><span id="local-6989586621679459493"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459493"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mod</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459493"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-454"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Sunday"><span class="hs-identifier hs-var">Sunday</span></a></span><span>
</span><span id="line-455"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Monday"><span class="hs-identifier hs-var">Monday</span></a></span><span>
</span><span id="line-456"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Tuesday"><span class="hs-identifier hs-var">Tuesday</span></a></span><span>
</span><span id="line-457"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Wednesday"><span class="hs-identifier hs-var">Wednesday</span></a></span><span>
</span><span id="line-458"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Thursday"><span class="hs-identifier hs-var">Thursday</span></a></span><span>
</span><span id="line-459"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Friday"><span class="hs-identifier hs-var">Friday</span></a></span><span>
</span><span id="line-460"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Saturday"><span class="hs-identifier hs-var">Saturday</span></a></span><span>
</span><span id="line-461"></span><span>
</span><span id="line-462"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">fromEnum</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-463"></span><span>  </span><span id="local-6989586621679459492"><span class="annot"><span class="annottext">fromEnum :: DayOfWeek -&gt; Int
</span><a href="#local-6989586621679459492"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromEnum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-464"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Monday"><span class="hs-identifier hs-var">Monday</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-465"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Tuesday"><span class="hs-identifier hs-var">Tuesday</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-466"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Wednesday"><span class="hs-identifier hs-var">Wednesday</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>
</span><span id="line-467"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Thursday"><span class="hs-identifier hs-var">Thursday</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-468"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Friday"><span class="hs-identifier hs-var">Friday</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-469"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Saturday"><span class="hs-identifier hs-var">Saturday</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span>
</span><span id="line-470"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Sunday"><span class="hs-identifier hs-var">Sunday</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span>
</span><span id="line-471"></span><span>
</span><span id="line-472"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-473"></span><span class="hs-comment">-- Note</span><span>
</span><span id="line-474"></span><span>
</span><span id="line-475"></span><span class="hs-comment">-- | An @org-mode@ style note.</span><span>
</span><span id="line-476"></span><span class="hs-keyword">data</span><span> </span><span id="Note"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Note"><span class="hs-identifier hs-var">Note</span></a></span></span><span>
</span><span id="line-477"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Scheduled"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Scheduled"><span class="hs-identifier hs-var">Scheduled</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span>
</span><span id="line-478"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Deadline"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Deadline"><span class="hs-identifier hs-var">Deadline</span></a></span></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span>
</span><span id="line-479"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NormalMsg"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#NormalMsg"><span class="hs-identifier hs-var">NormalMsg</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>      </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span>
</span><span id="line-480"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679459477"><span id="local-6989586621679459487"><span class="annot"><span class="annottext">Note -&gt; Note -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Note -&gt; Note -&gt; Bool
$c/= :: Note -&gt; Note -&gt; Bool
== :: Note -&gt; Note -&gt; Bool
$c== :: Note -&gt; Note -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459458"><span id="local-6989586621679459460"><span id="local-6989586621679459475"><span class="annot"><span class="annottext">Int -&gt; Note -&gt; [Char] -&gt; [Char]
[Note] -&gt; [Char] -&gt; [Char]
Note -&gt; [Char]
forall a.
(Int -&gt; a -&gt; [Char] -&gt; [Char])
-&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; [Char] -&gt; [Char]) -&gt; Show a
showList :: [Note] -&gt; [Char] -&gt; [Char]
$cshowList :: [Note] -&gt; [Char] -&gt; [Char]
show :: Note -&gt; [Char]
$cshow :: Note -&gt; [Char]
showsPrec :: Int -&gt; Note -&gt; [Char] -&gt; [Char]
$cshowsPrec :: Int -&gt; Note -&gt; [Char] -&gt; [Char]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-481"></span><span>
</span><span id="line-482"></span><span class="hs-comment">-- | An @org-mode@ style priority symbol[1]; e.g., something like</span><span>
</span><span id="line-483"></span><span class="hs-comment">-- @[#A]@.  Note that this uses the standard org conventions: supported</span><span>
</span><span id="line-484"></span><span class="hs-comment">-- priorities are @A@, @B@, and @C@, with @A@ being the highest.</span><span>
</span><span id="line-485"></span><span class="hs-comment">-- Numerical priorities are not supported.</span><span>
</span><span id="line-486"></span><span class="hs-comment">--</span><span>
</span><span id="line-487"></span><span class="hs-comment">-- [1]: https://orgmode.org/manual/Priorities.html</span><span>
</span><span id="line-488"></span><span class="hs-keyword">data</span><span> </span><span id="Priority"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-var">Priority</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="A"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#A"><span class="hs-identifier hs-var">A</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="B"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#B"><span class="hs-identifier hs-var">B</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="C"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#C"><span class="hs-identifier hs-var">C</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NoPriority"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#NoPriority"><span class="hs-identifier hs-var">NoPriority</span></a></span></span><span>
</span><span id="line-489"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679459449"><span id="local-6989586621679459451"><span class="annot"><span class="annottext">Priority -&gt; Priority -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Priority -&gt; Priority -&gt; Bool
$c/= :: Priority -&gt; Priority -&gt; Bool
== :: Priority -&gt; Priority -&gt; Bool
$c== :: Priority -&gt; Priority -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459443"><span id="local-6989586621679459445"><span id="local-6989586621679459447"><span class="annot"><span class="annottext">Int -&gt; Priority -&gt; [Char] -&gt; [Char]
[Priority] -&gt; [Char] -&gt; [Char]
Priority -&gt; [Char]
forall a.
(Int -&gt; a -&gt; [Char] -&gt; [Char])
-&gt; (a -&gt; [Char]) -&gt; ([a] -&gt; [Char] -&gt; [Char]) -&gt; Show a
showList :: [Priority] -&gt; [Char] -&gt; [Char]
$cshowList :: [Priority] -&gt; [Char] -&gt; [Char]
show :: Priority -&gt; [Char]
$cshow :: Priority -&gt; [Char]
showsPrec :: Int -&gt; Priority -&gt; [Char] -&gt; [Char]
$cshowsPrec :: Int -&gt; Priority -&gt; [Char] -&gt; [Char]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-490"></span><span>
</span><span id="line-491"></span><span class="hs-comment">-- | Pretty print a given 'Note'.</span><span>
</span><span id="line-492"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#ppNote"><span class="hs-identifier hs-type">ppNote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Clp"><span class="hs-identifier hs-type">Clp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Note"><span class="hs-identifier hs-type">Note</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-493"></span><span id="ppNote"><span class="annot"><span class="annottext">ppNote :: Clp -&gt; [Char] -&gt; Note -&gt; IO [Char]
</span><a href="XMonad.Prompt.OrgMode.html#ppNote"><span class="hs-identifier hs-var hs-var">ppNote</span></a></span></span><span> </span><span id="local-6989586621679459442"><span class="annot"><span class="annottext">Clp
</span><a href="#local-6989586621679459442"><span class="hs-identifier hs-var">clp</span></a></span></span><span> </span><span id="local-6989586621679459441"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459441"><span class="hs-identifier hs-var">todo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-494"></span><span>  </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Scheduled"><span class="hs-identifier hs-type">Scheduled</span></a></span><span> </span><span id="local-6989586621679459440"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459440"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621679459439"><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621679459439"><span class="hs-identifier hs-var">time</span></a></span></span><span> </span><span id="local-6989586621679459438"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679459438"><span class="hs-identifier hs-var">prio</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Maybe Time -&gt; Priority -&gt; IO [Char]
</span><a href="#local-6989586621679459437"><span class="hs-identifier hs-var">mkLine</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459440"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;SCHEDULED: &quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621679459439"><span class="hs-identifier hs-var">time</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679459438"><span class="hs-identifier hs-var">prio</span></a></span><span>
</span><span id="line-495"></span><span>  </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Deadline"><span class="hs-identifier hs-type">Deadline</span></a></span><span>  </span><span id="local-6989586621679459436"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459436"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621679459435"><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621679459435"><span class="hs-identifier hs-var">time</span></a></span></span><span> </span><span id="local-6989586621679459434"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679459434"><span class="hs-identifier hs-var">prio</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Maybe Time -&gt; Priority -&gt; IO [Char]
</span><a href="#local-6989586621679459437"><span class="hs-identifier hs-var">mkLine</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459436"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;DEADLINE: &quot;</span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621679459435"><span class="hs-identifier hs-var">time</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679459434"><span class="hs-identifier hs-var">prio</span></a></span><span>
</span><span id="line-496"></span><span>  </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#NormalMsg"><span class="hs-identifier hs-type">NormalMsg</span></a></span><span> </span><span id="local-6989586621679459433"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459433"><span class="hs-identifier hs-var">str</span></a></span></span><span>      </span><span id="local-6989586621679459432"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679459432"><span class="hs-identifier hs-var">prio</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; [Char] -&gt; Maybe Time -&gt; Priority -&gt; IO [Char]
</span><a href="#local-6989586621679459437"><span class="hs-identifier hs-var">mkLine</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459433"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span>            </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>     </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679459432"><span class="hs-identifier hs-var">prio</span></a></span><span>
</span><span id="line-497"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-498"></span><span>  </span><span class="annot"><a href="#local-6989586621679459437"><span class="hs-identifier hs-type">mkLine</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-499"></span><span>  </span><span id="local-6989586621679459437"><span class="annot"><span class="annottext">mkLine :: [Char] -&gt; [Char] -&gt; Maybe Time -&gt; Priority -&gt; IO [Char]
</span><a href="#local-6989586621679459437"><span class="hs-identifier hs-var hs-var">mkLine</span></a></span></span><span> </span><span id="local-6989586621679459431"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459431"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621679459430"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459430"><span class="hs-identifier hs-var">sched</span></a></span></span><span> </span><span id="local-6989586621679459429"><span class="annot"><span class="annottext">Maybe Time
</span><a href="#local-6989586621679459429"><span class="hs-identifier hs-var">time</span></a></span></span><span> </span><span id="local-6989586621679459428"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679459428"><span class="hs-identifier hs-var">prio</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-500"></span><span>    </span><span id="local-6989586621679459427"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459427"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Time
</span><a href="#local-6989586621679459429"><span class="hs-identifier hs-var">time</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-501"></span><span>      </span><span class="annot"><span class="annottext">Maybe Time
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-502"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679459426"><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621679459426"><span class="hs-identifier hs-var">ti</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;\n  &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459430"><span class="hs-identifier hs-var">sched</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; IO [Char]
</span><a href="XMonad.Prompt.OrgMode.html#ppDate"><span class="hs-identifier hs-var">ppDate</span></a></span><span> </span><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621679459426"><span class="hs-identifier hs-var">ti</span></a></span><span>
</span><span id="line-503"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;* &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459441"><span class="hs-identifier hs-var">todo</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459425"><span class="hs-identifier hs-var">priority</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Clp
</span><a href="#local-6989586621679459442"><span class="hs-identifier hs-var">clp</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-504"></span><span>      </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span>   </span><span id="local-6989586621679459424"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459424"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459431"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459427"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459424"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-505"></span><span>      </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span id="local-6989586621679459423"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459423"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;[[&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459423"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;][&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459431"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;]]&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459427"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-506"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-507"></span><span>    </span><span id="local-6989586621679459425"><span class="annot"><span class="annottext">priority :: [Char]
</span><a href="#local-6989586621679459425"><span class="hs-identifier hs-var hs-var">priority</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679459428"><span class="hs-identifier hs-var">prio</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-508"></span><span>      </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#NoPriority"><span class="hs-identifier hs-var">NoPriority</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; &quot;</span></span><span>
</span><span id="line-509"></span><span>      </span><span id="local-6989586621679459415"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679459415"><span class="hs-identifier hs-var">otherPrio</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot; [#&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Show a =&gt; a -&gt; [Char]
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679459415"><span class="hs-identifier hs-var">otherPrio</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;] &quot;</span></span><span>
</span><span id="line-510"></span><span>
</span><span id="line-511"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-512"></span><span class="hs-comment">-- Note parsing</span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span class="hs-comment">-- | Parse the given string into a 'Note'.</span><span>
</span><span id="line-515"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pInput"><span class="hs-identifier hs-type">pInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Note"><span class="hs-identifier hs-type">Note</span></a></span><span>
</span><span id="line-516"></span><span id="pInput"><span class="annot"><span class="annottext">pInput :: [Char] -&gt; Maybe Note
</span><a href="XMonad.Prompt.OrgMode.html#pInput"><span class="hs-identifier hs-var hs-var">pInput</span></a></span></span><span> </span><span id="local-6989586621679459414"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459414"><span class="hs-identifier hs-var">inp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Parser a -&gt; [Char] -&gt; Maybe a
</span><a href="XMonad.Util.Parser.html#runParser"><span class="hs-operator hs-var">`runParser`</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459414"><span class="hs-identifier hs-var">inp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-517"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Time -&gt; Priority -&gt; Note
</span><a href="XMonad.Prompt.OrgMode.html#Scheduled"><span class="hs-identifier hs-var">Scheduled</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Parser [Char]
</span><a href="#local-6989586621679459412"><span class="hs-identifier hs-var">getLast</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;+s&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;*</span></span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Date -&gt; Maybe OrgTime -&gt; Parser Time
</span><a href="#local-6989586621679459410"><span class="hs-identifier hs-var">fixTime</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe Date)
</span><a href="XMonad.Prompt.OrgMode.html#pDate"><span class="hs-identifier hs-var">pDate</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe OrgTime)
</span><a href="XMonad.Prompt.OrgMode.html#pOrgTime"><span class="hs-identifier hs-var">pOrgTime</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Priority
</span><a href="XMonad.Prompt.OrgMode.html#pPriority"><span class="hs-identifier hs-var">pPriority</span></a></span><span>
</span><span id="line-518"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Time -&gt; Priority -&gt; Note
</span><a href="XMonad.Prompt.OrgMode.html#Deadline"><span class="hs-identifier hs-var">Deadline</span></a></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Parser [Char]
</span><a href="#local-6989586621679459412"><span class="hs-identifier hs-var">getLast</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;+d&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;*</span></span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; m (m a) -&gt; m a
</span><span class="hs-identifier hs-var">join</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Date -&gt; Maybe OrgTime -&gt; Parser Time
</span><a href="#local-6989586621679459410"><span class="hs-identifier hs-var">fixTime</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe Date)
</span><a href="XMonad.Prompt.OrgMode.html#pDate"><span class="hs-identifier hs-var">pDate</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe OrgTime)
</span><a href="XMonad.Prompt.OrgMode.html#pOrgTime"><span class="hs-identifier hs-var">pOrgTime</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Priority
</span><a href="XMonad.Prompt.OrgMode.html#pPriority"><span class="hs-identifier hs-var">pPriority</span></a></span><span>
</span><span id="line-519"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679459406"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459406"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser [Char]
</span><a href="XMonad.Util.Parser.html#munch1"><span class="hs-identifier hs-var">munch1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-520"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679459401"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459401"><span class="hs-identifier hs-var">s'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459400"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459400"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">splitAt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459406"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459406"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-521"></span><span>       </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Maybe Priority
</span><a href="#local-6989586621679459397"><span class="hs-identifier hs-var">tryPrio</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459400"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-522"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679459396"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679459396"><span class="hs-identifier hs-var">prio</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Priority -&gt; Note
</span><a href="XMonad.Prompt.OrgMode.html#NormalMsg"><span class="hs-identifier hs-var">NormalMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; [Char] -&gt; [Char]
</span><a href="#local-6989586621679459395"><span class="hs-identifier hs-var">dropStripEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459401"><span class="hs-identifier hs-var">s'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679459396"><span class="hs-identifier hs-var">prio</span></a></span><span>
</span><span id="line-523"></span><span>         </span><span class="annot"><span class="annottext">Maybe Priority
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Priority -&gt; Note
</span><a href="XMonad.Prompt.OrgMode.html#NormalMsg"><span class="hs-identifier hs-var">NormalMsg</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459406"><span class="hs-identifier hs-var">s</span></a></span><span>                   </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#NoPriority"><span class="hs-identifier hs-var">NoPriority</span></a></span><span>
</span><span id="line-524"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-525"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-526"></span><span>  </span><span class="annot"><a href="#local-6989586621679459410"><span class="hs-identifier hs-type">fixTime</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-type">Date</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgTime"><span class="hs-identifier hs-type">OrgTime</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span>
</span><span id="line-527"></span><span>  </span><span id="local-6989586621679459410"><span class="annot"><span class="annottext">fixTime :: Maybe Date -&gt; Maybe OrgTime -&gt; Parser Time
</span><a href="#local-6989586621679459410"><span class="hs-identifier hs-var hs-var">fixTime</span></a></span></span><span> </span><span id="local-6989586621679459394"><span class="annot"><span class="annottext">Maybe Date
</span><a href="#local-6989586621679459394"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621679459393"><span class="annot"><span class="annottext">Maybe OrgTime
</span><a href="#local-6989586621679459393"><span class="hs-identifier hs-var">tod</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Date
</span><a href="#local-6989586621679459394"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe OrgTime
</span><a href="#local-6989586621679459393"><span class="hs-identifier hs-var">tod</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-528"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Date
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe OrgTime
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>                </span><span class="hs-comment">-- no day and no time</span><span>
</span><span id="line-529"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Date
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span class="hs-special">{</span><span class="hs-special">}</span><span class="hs-special">)</span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Date -&gt; Maybe OrgTime -&gt; Time
</span><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-var">Time</span></a></span><span> </span><span class="annot"><span class="annottext">Date
</span><a href="XMonad.Prompt.OrgMode.html#Today"><span class="hs-identifier hs-var">Today</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe OrgTime
</span><a href="#local-6989586621679459393"><span class="hs-identifier hs-var">tod</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- no day, but a time</span><span>
</span><span id="line-530"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679459392"><span class="annot"><span class="annottext">Date
</span><a href="#local-6989586621679459392"><span class="hs-identifier hs-var">d'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe OrgTime
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Date -&gt; Maybe OrgTime -&gt; Time
</span><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-var">Time</span></a></span><span> </span><span class="annot"><span class="annottext">Date
</span><a href="#local-6989586621679459392"><span class="hs-identifier hs-var">d'</span></a></span><span>    </span><span class="annot"><span class="annottext">Maybe OrgTime
</span><a href="#local-6989586621679459393"><span class="hs-identifier hs-var">tod</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- day given</span><span>
</span><span id="line-531"></span><span>
</span><span id="line-532"></span><span>  </span><span class="annot"><a href="#local-6989586621679459397"><span class="hs-identifier hs-type">tryPrio</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span>
</span><span id="line-533"></span><span>  </span><span id="local-6989586621679459397"><span class="annot"><span class="annottext">tryPrio :: [Char] -&gt; Maybe Priority
</span><a href="#local-6989586621679459397"><span class="hs-identifier hs-var hs-var">tryPrio</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'#'</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679459391"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679459391"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-534"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679459391"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Aa&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#A"><span class="hs-identifier hs-var">A</span></a></span><span>
</span><span id="line-535"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679459391"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Bb&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#B"><span class="hs-identifier hs-var">B</span></a></span><span>
</span><span id="line-536"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679459391"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;Cc&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#C"><span class="hs-identifier hs-var">C</span></a></span><span>
</span><span id="line-537"></span><span>  </span><span class="annot"><a href="#local-6989586621679459397"><span class="hs-identifier hs-var">tryPrio</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-538"></span><span>
</span><span id="line-539"></span><span>  </span><span class="hs-comment">-- Trim whitespace at the end of a string after dropping some number</span><span>
</span><span id="line-540"></span><span>  </span><span class="hs-comment">-- of characters from it.</span><span>
</span><span id="line-541"></span><span>  </span><span class="annot"><a href="#local-6989586621679459395"><span class="hs-identifier hs-type">dropStripEnd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-542"></span><span>  </span><span id="local-6989586621679459395"><span class="annot"><span class="annottext">dropStripEnd :: Int -&gt; [Char] -&gt; [Char]
</span><a href="#local-6989586621679459395"><span class="hs-identifier hs-var hs-var">dropStripEnd</span></a></span></span><span> </span><span id="local-6989586621679459389"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459389"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">dropWhile</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459389"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span>
</span><span id="line-543"></span><span>
</span><span id="line-544"></span><span>  </span><span class="annot"><a href="#local-6989586621679459412"><span class="hs-identifier hs-type">getLast</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-545"></span><span>  </span><span id="local-6989586621679459412"><span class="annot"><span class="annottext">getLast :: [Char] -&gt; Parser [Char]
</span><a href="#local-6989586621679459412"><span class="hs-identifier hs-var hs-var">getLast</span></a></span></span><span> </span><span id="local-6989586621679459385"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459385"><span class="hs-identifier hs-var">ptn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">Int -&gt; [Char] -&gt; [Char]
</span><a href="#local-6989586621679459395"><span class="hs-identifier hs-var">dropStripEnd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459385"><span class="hs-identifier hs-var">ptn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- drop only the last pattern before stripping</span><span>
</span><span id="line-546"></span><span>              </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>  </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span>
</span><span id="line-547"></span><span>             </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a sep. Parser a -&gt; Parser sep -&gt; Parser [a]
</span><a href="XMonad.Util.Parser.html#endBy1"><span class="hs-identifier hs-var">endBy1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Parser [Char]
</span><a href="#local-6989586621679459382"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459385"><span class="hs-identifier hs-var">ptn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-548"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-549"></span><span>    </span><span class="annot"><a href="#local-6989586621679459382"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-550"></span><span>    </span><span id="local-6989586621679459382"><span class="annot"><span class="annottext">go :: [Char] -&gt; Parser [Char]
</span><a href="#local-6989586621679459382"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679459381"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459381"><span class="hs-identifier hs-var">consumed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-551"></span><span>      </span><span id="local-6989586621679459380"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459380"><span class="hs-identifier hs-var">str</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser [Char]
</span><a href="XMonad.Util.Parser.html#munch"><span class="hs-identifier hs-var">munch</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">forall a. NonEmpty a -&gt; a
</span><span class="hs-identifier hs-var">NE.head</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. HasCallStack =&gt; [a] -&gt; NonEmpty a
</span><a href="XMonad.Prelude.html#notEmpty"><span class="hs-identifier hs-var">notEmpty</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459385"><span class="hs-identifier hs-var">ptn</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-552"></span><span>      </span><span id="local-6989586621679459376"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459376"><span class="hs-identifier hs-var">word</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser [Char]
</span><a href="XMonad.Util.Parser.html#munch1"><span class="hs-identifier hs-var">munch1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span class="hs-special">)</span><span>
</span><span id="line-553"></span><span>      </span><span class="annot"><span class="annottext">forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Parser [Char]
</span><a href="#local-6989586621679459382"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459376"><span class="hs-identifier hs-var">word</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459385"><span class="hs-identifier hs-var">ptn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459381"><span class="hs-identifier hs-var">consumed</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459380"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459376"><span class="hs-identifier hs-var">word</span></a></span><span>
</span><span id="line-554"></span><span>
</span><span id="line-555"></span><span class="hs-comment">-- | Parse a 'Priority'.</span><span>
</span><span id="line-556"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pPriority"><span class="hs-identifier hs-type">pPriority</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span>
</span><span id="line-557"></span><span id="pPriority"><span class="annot"><span class="annottext">pPriority :: Parser Priority
</span><a href="XMonad.Prompt.OrgMode.html#pPriority"><span class="hs-identifier hs-var hs-var">pPriority</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Parser a -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#option"><span class="hs-identifier hs-var">option</span></a></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#NoPriority"><span class="hs-identifier hs-var">NoPriority</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-558"></span><span>  </span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span>
</span><span id="line-559"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Parser [Char]
</span><a href="XMonad.Prompt.OrgMode.html#foldCase"><span class="hs-identifier hs-var">foldCase</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;a&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#A"><span class="hs-identifier hs-var">A</span></a></span><span>
</span><span id="line-560"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Parser [Char]
</span><a href="XMonad.Prompt.OrgMode.html#foldCase"><span class="hs-identifier hs-var">foldCase</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;b&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#B"><span class="hs-identifier hs-var">B</span></a></span><span>
</span><span id="line-561"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char] -&gt; Parser [Char]
</span><a href="XMonad.Prompt.OrgMode.html#foldCase"><span class="hs-identifier hs-var">foldCase</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;c&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#C"><span class="hs-identifier hs-var">C</span></a></span><span>
</span><span id="line-562"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-563"></span><span>
</span><span id="line-564"></span><span class="hs-comment">-- | Try to parse a 'Time'.</span><span>
</span><span id="line-565"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pOrgTime"><span class="hs-identifier hs-type">pOrgTime</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgTime"><span class="hs-identifier hs-type">OrgTime</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-566"></span><span id="pOrgTime"><span class="annot"><span class="annottext">pOrgTime :: Parser (Maybe OrgTime)
</span><a href="XMonad.Prompt.OrgMode.html#pOrgTime"><span class="hs-identifier hs-var hs-var">pOrgTime</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Parser a -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#option"><span class="hs-identifier hs-var">option</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-567"></span><span>  </span><span class="annot"><span class="annottext">forall open close a.
Parser open -&gt; Parser close -&gt; Parser a -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#between"><span class="hs-identifier hs-var">between</span></a></span><span> </span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#eof"><span class="hs-identifier hs-var">eof</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-568"></span><span>    </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span>
</span><span id="line-569"></span><span>      </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TimeOfDay -&gt; TimeOfDay -&gt; OrgTime
</span><a href="XMonad.Prompt.OrgMode.html#TimeSpan"><span class="hs-identifier hs-var">TimeSpan</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser TimeOfDay
</span><a href="#local-6989586621679459367"><span class="hs-identifier hs-var">pTimeOfDay</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot;--&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot;&#8211;&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser TimeOfDay
</span><a href="#local-6989586621679459367"><span class="hs-identifier hs-var">pTimeOfDay</span></a></span><span>
</span><span id="line-570"></span><span>      </span><span class="hs-comment">-- Org is not super smart around times with this syntax, so</span><span>
</span><span id="line-571"></span><span>      </span><span class="hs-comment">-- we pretend not to be as well.</span><span>
</span><span id="line-572"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679459366"><span class="annot"><span class="annottext">from :: TimeOfDay
</span><a href="#local-6989586621679459366"><span class="hs-identifier hs-var">from</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#HHMM"><span class="hs-identifier hs-type">HHMM</span></a></span><span> </span><span id="local-6989586621679459365"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459365"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679459364"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459364"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser TimeOfDay
</span><a href="#local-6989586621679459367"><span class="hs-identifier hs-var">pTimeOfDay</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;*</span></span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot;+&quot;</span></span><span>
</span><span id="line-573"></span><span>           </span><span id="local-6989586621679459363"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459363"><span class="hs-identifier hs-var">off</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679459362"><span class="hs-identifier hs-var">pHour</span></a></span><span>
</span><span id="line-574"></span><span>           </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay -&gt; TimeOfDay -&gt; OrgTime
</span><a href="XMonad.Prompt.OrgMode.html#TimeSpan"><span class="hs-identifier hs-var">TimeSpan</span></a></span><span> </span><span class="annot"><span class="annottext">TimeOfDay
</span><a href="#local-6989586621679459366"><span class="hs-identifier hs-var">from</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; TimeOfDay
</span><a href="XMonad.Prompt.OrgMode.html#HHMM"><span class="hs-identifier hs-var">HHMM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459365"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459363"><span class="hs-identifier hs-var">off</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459364"><span class="hs-identifier hs-var">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-575"></span><span>      </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TimeOfDay -&gt; OrgTime
</span><a href="XMonad.Prompt.OrgMode.html#MomentInTime"><span class="hs-identifier hs-var">MomentInTime</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser TimeOfDay
</span><a href="#local-6989586621679459367"><span class="hs-identifier hs-var">pTimeOfDay</span></a></span><span>
</span><span id="line-576"></span><span>      </span><span class="hs-special">]</span><span>
</span><span id="line-577"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-578"></span><span>  </span><span class="annot"><a href="#local-6989586621679459367"><span class="hs-identifier hs-type">pTimeOfDay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span><span>
</span><span id="line-579"></span><span>  </span><span id="local-6989586621679459367"><span class="annot"><span class="annottext">pTimeOfDay :: Parser TimeOfDay
</span><a href="#local-6989586621679459367"><span class="hs-identifier hs-var hs-var">pTimeOfDay</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span>
</span><span id="line-580"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; TimeOfDay
</span><a href="XMonad.Prompt.OrgMode.html#HHMM"><span class="hs-identifier hs-var">HHMM</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679459362"><span class="hs-identifier hs-var">pHour</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;*</span></span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679459361"><span class="hs-identifier hs-var">pMinute</span></a></span><span> </span><span class="hs-comment">-- HH:MM</span><span>
</span><span id="line-581"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser TimeOfDay
</span><a href="#local-6989586621679459360"><span class="hs-identifier hs-var">pHHMM</span></a></span><span>                             </span><span class="hs-comment">-- HHMM</span><span>
</span><span id="line-582"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; TimeOfDay
</span><a href="XMonad.Prompt.OrgMode.html#HHMM"><span class="hs-identifier hs-var">HHMM</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679459362"><span class="hs-identifier hs-var">pHour</span></a></span><span>        </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>  </span><span class="hs-comment">-- HH</span><span>
</span><span id="line-583"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-584"></span><span>
</span><span id="line-585"></span><span>  </span><span class="annot"><a href="#local-6989586621679459360"><span class="hs-identifier hs-type">pHHMM</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span><span>
</span><span id="line-586"></span><span>  </span><span id="local-6989586621679459360"><span class="annot"><span class="annottext">pHHMM :: Parser TimeOfDay
</span><a href="#local-6989586621679459360"><span class="hs-identifier hs-var hs-var">pHHMM</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-587"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679459359"><span class="annot"><span class="annottext">getTwo :: Parser [Char]
</span><a href="#local-6989586621679459359"><span class="hs-identifier hs-var hs-var">getTwo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Int -&gt; Parser a -&gt; Parser [a]
</span><a href="XMonad.Util.Parser.html#count"><span class="hs-identifier hs-var">count</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser Char
</span><a href="XMonad.Util.Parser.html#satisfy"><span class="hs-identifier hs-var">satisfy</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Bool
</span><span class="hs-identifier hs-var">isDigit</span></span><span class="hs-special">)</span><span>
</span><span id="line-588"></span><span>    </span><span id="local-6989586621679459355"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459355"><span class="hs-identifier hs-var">hh</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. Read a =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">read</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><a href="#local-6989586621679459359"><span class="hs-identifier hs-var">getTwo</span></a></span><span>
</span><span id="line-589"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459355"><span class="hs-identifier hs-var">hh</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459355"><span class="hs-identifier hs-var">hh</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">23</span></span><span class="hs-special">)</span><span>
</span><span id="line-590"></span><span>    </span><span id="local-6989586621679459352"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459352"><span class="hs-identifier hs-var">mm</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. Read a =&gt; [Char] -&gt; a
</span><span class="hs-identifier hs-var">read</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><a href="#local-6989586621679459359"><span class="hs-identifier hs-var">getTwo</span></a></span><span>
</span><span id="line-591"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459352"><span class="hs-identifier hs-var">mm</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459352"><span class="hs-identifier hs-var">mm</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">59</span></span><span class="hs-special">)</span><span>
</span><span id="line-592"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; TimeOfDay
</span><a href="XMonad.Prompt.OrgMode.html#HHMM"><span class="hs-identifier hs-var">HHMM</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459355"><span class="hs-identifier hs-var">hh</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459352"><span class="hs-identifier hs-var">mm</span></a></span><span>
</span><span id="line-593"></span><span>
</span><span id="line-594"></span><span>  </span><span id="local-6989586621679459362"><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679459362"><span class="hs-identifier hs-var">pHour</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Parser Int
</span><a href="XMonad.Prompt.OrgMode.html#pNumBetween"><span class="hs-identifier hs-var">pNumBetween</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">23</span></span><span>
</span><span id="line-595"></span><span>  </span><span id="local-6989586621679459361"><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679459361"><span class="hs-identifier hs-var">pMinute</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Parser Int
</span><a href="XMonad.Prompt.OrgMode.html#pNumBetween"><span class="hs-identifier hs-var">pNumBetween</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">59</span></span><span>
</span><span id="line-596"></span><span>
</span><span id="line-597"></span><span class="hs-comment">-- | Try to parse a 'Date'.</span><span>
</span><span id="line-598"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pDate"><span class="hs-identifier hs-type">pDate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-type">Date</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-599"></span><span id="pDate"><span class="annot"><span class="annottext">pDate :: Parser (Maybe Date)
</span><a href="XMonad.Prompt.OrgMode.html#pDate"><span class="hs-identifier hs-var hs-var">pDate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f (Maybe a)
</span><span class="hs-identifier hs-var">optional</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span>
</span><span id="line-600"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;tod&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ay&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Date
</span><a href="XMonad.Prompt.OrgMode.html#Today"><span class="hs-identifier hs-var">Today</span></a></span><span>
</span><span id="line-601"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;tom&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;orrow&quot;</span></span><span> </span><span class="annot"><span class="annottext">Date
</span><a href="XMonad.Prompt.OrgMode.html#Tomorrow"><span class="hs-identifier hs-var">Tomorrow</span></a></span><span>
</span><span id="line-602"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DayOfWeek -&gt; Date
</span><a href="XMonad.Prompt.OrgMode.html#Next"><span class="hs-identifier hs-var">Next</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser DayOfWeek
</span><a href="#local-6989586621679459348"><span class="hs-identifier hs-var">pNext</span></a></span><span>
</span><span id="line-603"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Int, Maybe Int, Maybe Integer) -&gt; Date
</span><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-var">Date</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Int, Maybe Int, Maybe Integer)
</span><a href="#local-6989586621679459347"><span class="hs-identifier hs-var">pDate'</span></a></span><span>
</span><span id="line-604"></span><span>  </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-605"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-606"></span><span>  </span><span id="local-6989586621679459348"><span class="annot"><span class="annottext">Parser DayOfWeek
</span><a href="#local-6989586621679459348"><span class="hs-identifier hs-var">pNext</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span>
</span><span id="line-607"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;m&quot;</span></span><span>  </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;onday&quot;</span></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Monday"><span class="hs-identifier hs-var">Monday</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;tu&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;esday&quot;</span></span><span>  </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Tuesday"><span class="hs-identifier hs-var">Tuesday</span></a></span><span>
</span><span id="line-608"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;w&quot;</span></span><span>  </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ednesday&quot;</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Wednesday"><span class="hs-identifier hs-var">Wednesday</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;th&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ursday&quot;</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Thursday"><span class="hs-identifier hs-var">Thursday</span></a></span><span>
</span><span id="line-609"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;f&quot;</span></span><span>  </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;riday&quot;</span></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Friday"><span class="hs-identifier hs-var">Friday</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;sa&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;turday&quot;</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Saturday"><span class="hs-identifier hs-var">Saturday</span></a></span><span>
</span><span id="line-610"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;su&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;nday&quot;</span></span><span>     </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Sunday"><span class="hs-identifier hs-var">Sunday</span></a></span><span>
</span><span id="line-611"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-612"></span><span>
</span><span id="line-613"></span><span>  </span><span class="annot"><a href="#local-6989586621679459346"><span class="hs-identifier hs-type">numWithoutColon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-614"></span><span>  </span><span id="local-6989586621679459346"><span class="annot"><span class="annottext">numWithoutColon :: Parser Int
</span><a href="#local-6989586621679459346"><span class="hs-identifier hs-var hs-var">numWithoutColon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-615"></span><span>    </span><span id="local-6989586621679459345"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459345"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Parser Int
</span><a href="XMonad.Prompt.OrgMode.html#pNumBetween"><span class="hs-identifier hs-var">pNumBetween</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">12</span></span><span> </span><span class="hs-comment">-- month</span><span>
</span><span id="line-616"></span><span>    </span><span id="local-6989586621679459344"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679459344"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser Char
</span><a href="XMonad.Util.Parser.html#get"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-617"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679459344"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">':'</span></span><span>
</span><span id="line-618"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">forall a. Parser a
</span><a href="XMonad.Util.Parser.html#pfail"><span class="hs-identifier hs-var">pfail</span></a></span><span>
</span><span id="line-619"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459345"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-620"></span><span>
</span><span id="line-621"></span><span>  </span><span class="annot"><a href="#local-6989586621679459347"><span class="hs-identifier hs-type">pDate'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-622"></span><span>  </span><span id="local-6989586621679459347"><span class="annot"><span class="annottext">pDate' :: Parser (Int, Maybe Int, Maybe Integer)
</span><a href="#local-6989586621679459347"><span class="hs-identifier hs-var hs-var">pDate'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-623"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Parser Int
</span><a href="XMonad.Prompt.OrgMode.html#pNumBetween"><span class="hs-identifier hs-var">pNumBetween</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">31</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;*</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#eof"><span class="hs-identifier hs-var">eof</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>  </span><span class="hs-comment">-- day</span><span>
</span><span id="line-624"></span><span>         </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f (Maybe a)
</span><span class="hs-identifier hs-var">optional</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span>
</span><span id="line-625"></span><span>               </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ja&quot;</span></span><span>  </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;nuary&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;f&quot;</span></span><span>   </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ebruary&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-626"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;mar&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ch&quot;</span></span><span>       </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ap&quot;</span></span><span>  </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ril&quot;</span></span><span>     </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-627"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;may&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span>         </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;jun&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;e&quot;</span></span><span>       </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span>
</span><span id="line-628"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;jul&quot;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;y&quot;</span></span><span>        </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;au&quot;</span></span><span>  </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;gust&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-629"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;s&quot;</span></span><span>   </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;eptember&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;o&quot;</span></span><span>   </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ctober&quot;</span></span><span>  </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">10</span></span><span>
</span><span id="line-630"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;n&quot;</span></span><span>   </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ovember&quot;</span></span><span>  </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">11</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;d&quot;</span></span><span>   </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;ecember&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">12</span></span><span>
</span><span id="line-631"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679459346"><span class="hs-identifier hs-var">numWithoutColon</span></a></span><span>
</span><span id="line-632"></span><span>               </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-633"></span><span>         </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f (Maybe a)
</span><span class="hs-identifier hs-var">optional</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall a. (Read a, Integral a) =&gt; Parser a
</span><a href="XMonad.Util.Parser.html#num"><span class="hs-identifier hs-var">num</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679459340"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679459340"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679459340"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">25</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679459340"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-634"></span><span>
</span><span id="line-635"></span><span>  </span><span class="hs-comment">-- Parse a prefix and drop a potential suffix up to the next (space</span><span>
</span><span id="line-636"></span><span>  </span><span class="hs-comment">-- separated) word.  If successful, return @ret@.</span><span>
</span><span id="line-637"></span><span>  </span><span id="local-6989586621679460250"><span class="annot"><a href="#local-6989586621679459349"><span class="hs-identifier hs-type">pPrefix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679460250"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679460250"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-638"></span><span>  </span><span id="local-6989586621679459349"><span class="annot"><span class="annottext">pPrefix :: forall a. [Char] -&gt; [Char] -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679459349"><span class="hs-identifier hs-var hs-var">pPrefix</span></a></span></span><span> </span><span id="local-6989586621679459330"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459330"><span class="hs-identifier hs-var">start</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char
</span><span class="hs-identifier hs-var">toLower</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span id="local-6989586621679459328"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459328"><span class="hs-identifier hs-var">leftover</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679459327"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679459327"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-639"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Parser [Char]
</span><a href="XMonad.Prompt.OrgMode.html#foldCase"><span class="hs-identifier hs-var">foldCase</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459330"><span class="hs-identifier hs-var">start</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-640"></span><span>    </span><span id="local-6989586621679459326"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459326"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char
</span><span class="hs-identifier hs-var">toLower</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser [Char]
</span><a href="XMonad.Util.Parser.html#munch"><span class="hs-identifier hs-var">munch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span class="hs-special">)</span><span>
</span><span id="line-641"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459326"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><span class="hs-operator hs-var">`isPrefixOf`</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459328"><span class="hs-identifier hs-var">leftover</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-642"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679459327"><span class="hs-identifier hs-var">ret</span></a></span><span>
</span><span id="line-643"></span><span>
</span><span id="line-644"></span><span class="hs-comment">-- | Parse a number between @lo@ (inclusive) and @hi@ (inclusive).</span><span>
</span><span id="line-645"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pNumBetween"><span class="hs-identifier hs-type">pNumBetween</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-646"></span><span id="pNumBetween"><span class="annot"><span class="annottext">pNumBetween :: Int -&gt; Int -&gt; Parser Int
</span><a href="XMonad.Prompt.OrgMode.html#pNumBetween"><span class="hs-identifier hs-var hs-var">pNumBetween</span></a></span></span><span> </span><span id="local-6989586621679459325"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459325"><span class="hs-identifier hs-var">lo</span></a></span></span><span> </span><span id="local-6989586621679459324"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459324"><span class="hs-identifier hs-var">hi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-647"></span><span>  </span><span id="local-6989586621679459323"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459323"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall a. (Read a, Integral a) =&gt; Parser a
</span><a href="XMonad.Util.Parser.html#num"><span class="hs-identifier hs-var">num</span></a></span><span>
</span><span id="line-648"></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459323"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459323"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459325"><span class="hs-identifier hs-var">lo</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459323"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679459324"><span class="hs-identifier hs-var">hi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-649"></span><span>
</span><span id="line-650"></span><span class="hs-comment">-- Parse the given string case insensitively.</span><span>
</span><span id="line-651"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#foldCase"><span class="hs-identifier hs-type">foldCase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-652"></span><span id="foldCase"><span class="annot"><span class="annottext">foldCase :: [Char] -&gt; Parser [Char]
</span><a href="XMonad.Prompt.OrgMode.html#foldCase"><span class="hs-identifier hs-var hs-var">foldCase</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679459321"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679459321"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Char -&gt; Parser Char
</span><a href="XMonad.Util.Parser.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char
</span><span class="hs-identifier hs-var">toLower</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679459321"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Parser Char
</span><a href="XMonad.Util.Parser.html#char"><span class="hs-identifier hs-var">char</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char
</span><span class="hs-identifier hs-var">toUpper</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679459321"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-653"></span><span>
</span><span id="line-654"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-655"></span><span class="hs-comment">-- File parsing</span><span>
</span><span id="line-656"></span><span>
</span><span id="line-657"></span><span class="hs-keyword">data</span><span> </span><span id="Heading"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Heading"><span class="hs-identifier hs-var">Heading</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Heading"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Heading"><span class="hs-identifier hs-var">Heading</span></a></span></span><span>
</span><span id="line-658"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="level"><span class="annot"><span class="annottext">Heading -&gt; Natural
</span><a href="XMonad.Prompt.OrgMode.html#level"><span class="hs-identifier hs-var hs-var">level</span></a></span></span><span>       </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Natural</span></span><span>
</span><span id="line-659"></span><span>    </span><span class="hs-comment">-- ^ Level of the Org heading; i.e., the number of leading stars.</span><span>
</span><span id="line-660"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="headingText"><span class="annot"><span class="annottext">Heading -&gt; [Char]
</span><a href="XMonad.Prompt.OrgMode.html#headingText"><span class="hs-identifier hs-var hs-var">headingText</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-661"></span><span>    </span><span class="hs-comment">-- ^ The heading text without its level.</span><span>
</span><span id="line-662"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-663"></span><span>
</span><span id="line-664"></span><span class="hs-comment">-- | Na&#239;vely parse an Org file.  At this point, only the headings are</span><span>
</span><span id="line-665"></span><span class="hs-comment">-- parsed into a non-nested list (ignoring parent-child relations); no</span><span>
</span><span id="line-666"></span><span class="hs-comment">-- further analysis is done on the individual lines themselves.</span><span>
</span><span id="line-667"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pOrgFile"><span class="hs-identifier hs-type">pOrgFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Heading"><span class="hs-identifier hs-type">Heading</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-668"></span><span id="pOrgFile"><span class="annot"><span class="annottext">pOrgFile :: Parser [Heading]
</span><a href="XMonad.Prompt.OrgMode.html#pOrgFile"><span class="hs-identifier hs-var hs-var">pOrgFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f [a]
</span><span class="hs-identifier hs-var">many</span></span><span> </span><span class="annot"><span class="annottext">Parser Heading
</span><a href="XMonad.Prompt.OrgMode.html#pHeading"><span class="hs-identifier hs-var">pHeading</span></a></span><span>
</span><span id="line-669"></span><span>
</span><span id="line-670"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pHeading"><span class="hs-identifier hs-type">pHeading</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Heading"><span class="hs-identifier hs-type">Heading</span></a></span><span>
</span><span id="line-671"></span><span id="pHeading"><span class="annot"><span class="annottext">pHeading :: Parser Heading
</span><a href="XMonad.Prompt.OrgMode.html#pHeading"><span class="hs-identifier hs-var hs-var">pHeading</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-672"></span><span>  </span><span id="local-6989586621679459314"><span class="annot"><span class="annottext">Natural
</span><a href="#local-6989586621679459314"><span class="hs-identifier hs-var">level</span></a></span></span><span>       </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall i a. Num i =&gt; [a] -&gt; i
</span><span class="hs-identifier hs-var">genericLength</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser [Char]
</span><a href="XMonad.Util.Parser.html#munch1"><span class="hs-identifier hs-var">munch1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'*'</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;*</span></span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot; &quot;</span></span><span>
</span><span id="line-673"></span><span>  </span><span id="local-6989586621679459312"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459312"><span class="hs-identifier hs-var">headingText</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><a href="XMonad.Prompt.OrgMode.html#pLine"><span class="hs-identifier hs-var">pLine</span></a></span><span>
</span><span id="line-674"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f [a]
</span><span class="hs-identifier hs-var">many</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser [Char]
</span><a href="XMonad.Prompt.OrgMode.html#pLine"><span class="hs-identifier hs-var">pLine</span></a></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679459310"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459310"><span class="hs-identifier hs-var">line</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char] -&gt; Bool
</span><a href="XMonad.Prompt.OrgMode.html#isNotHeading"><span class="hs-identifier hs-var">isNotHeading</span></a></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459310"><span class="hs-identifier hs-var">line</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459310"><span class="hs-identifier hs-var">line</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- skip body</span><span>
</span><span id="line-675"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Heading"><span class="hs-identifier hs-type">Heading</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">Natural
[Char]
headingText :: [Char]
level :: Natural
level :: Natural
headingText :: [Char]
</span><a href="#local-6989586621679459312"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-676"></span><span>
</span><span id="line-677"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pLine"><span class="hs-identifier hs-type">pLine</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-678"></span><span id="pLine"><span class="annot"><span class="annottext">pLine :: Parser [Char]
</span><a href="XMonad.Prompt.OrgMode.html#pLine"><span class="hs-identifier hs-var hs-var">pLine</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser [Char]
</span><a href="XMonad.Util.Parser.html#munch"><span class="hs-identifier hs-var">munch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\n'</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;*</span></span><span> </span><span class="annot"><span class="annottext">Parser [Char]
</span><span class="hs-string">&quot;\n&quot;</span></span><span>
</span><span id="line-679"></span><span>
</span><span id="line-680"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#isNotHeading"><span class="hs-identifier hs-type">isNotHeading</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-681"></span><span id="isNotHeading"><span class="annot"><span class="annottext">isNotHeading :: [Char] -&gt; Bool
</span><a href="XMonad.Prompt.OrgMode.html#isNotHeading"><span class="hs-identifier hs-var hs-var">isNotHeading</span></a></span></span><span> </span><span id="local-6989586621679459308"><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459308"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">break</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'*'</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><a href="#local-6989586621679459308"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-682"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-683"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">[Char]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-684"></span><span>  </span><span class="annot"><span class="annottext">([Char], [Char])
</span><span class="hs-identifier">_</span></span><span>             </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-685"></span></pre></body></html>