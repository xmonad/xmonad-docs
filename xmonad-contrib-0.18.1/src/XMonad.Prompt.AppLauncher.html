<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- Module      :  XMonad.Prompt.AppLauncher</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- Description :  A prompt for launch applications that receive command line parameters.</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- Copyright   :  (C) 2008 Luis Cabellos</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- License     :  BSD3</span><span>
</span><span id="line-7"></span><span class="hs-comment">--</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Maintainer  :  zhen.sydow@gmail.com</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Stability   :  unstable</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- Portability :  unportable</span><span>
</span><span id="line-11"></span><span class="hs-comment">--</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- A module for launch applicationes that receive parameters in the command</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- line. The launcher call a prompt to get the parameters.</span><span>
</span><span id="line-14"></span><span class="hs-comment">--</span><span>
</span><span id="line-15"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-16"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">XMonad.Prompt.AppLauncher</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-comment">-- * Usage</span></span><span>
</span><span id="line-17"></span><span>                                    </span><span class="annot"><span class="hs-comment">-- $usage</span></span><span>
</span><span id="line-18"></span><span>                                    </span><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#launchApp"><span class="hs-identifier">launchApp</span></a></span><span>
</span><span id="line-19"></span><span>                                   </span><span class="hs-special">,</span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="XMonad.Prompt.html"><span class="hs-identifier">XMonad.Prompt</span></a></span><span>
</span><span id="line-20"></span><span>                                  </span><span class="annot"><span class="hs-comment">-- * Use case: launching gimp with file</span></span><span>
</span><span id="line-21"></span><span>                                  </span><span class="annot"><span class="hs-comment">-- $tip</span></span><span>
</span><span id="line-22"></span><span>
</span><span id="line-23"></span><span>                                  </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-24"></span><span>                                   </span><span class="hs-special">,</span><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#Application"><span class="hs-identifier">Application</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#AppPrompt"><span class="hs-identifier">AppPrompt</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>                                  </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">XMonad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">X</span></span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span class="annot"><span class="hs-identifier">MonadIO</span></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">XMonad.Core</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">spawn</span></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Prompt.html"><span class="hs-identifier">XMonad.Prompt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.html#XPrompt"><span class="hs-identifier">XPrompt</span></a></span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.html#showXPrompt"><span class="hs-identifier">showXPrompt</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#mkXPrompt"><span class="hs-identifier">mkXPrompt</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#XPConfig"><span class="hs-identifier">XPConfig</span></a></span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.html#searchPredicate"><span class="hs-identifier">searchPredicate</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Prompt.Shell.html"><span class="hs-identifier">XMonad.Prompt.Shell</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.Shell.html#getShellCompl"><span class="hs-identifier">getShellCompl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-comment">{- $usage
   This module is intended to allow the launch of the same application
   but changing the parameters using the user response. For example, when
   you want to open a image in gimp program, you can open gimp and then use
   the File Menu to open the image or you can use this module to select
   the image in the command line.

   We use Prompt to get the user command line. This also allow to autoexpand
   the names of the files when we are writing the command line.
 -}</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-comment">{- $tip

First, you need to import necessary modules. Prompt is used to get the promp
configuration and the AppLauncher module itself.

&gt; import XMonad.Prompt
&gt; import XMonad.Prompt.AppLauncher as AL

Then you can add the bindings to the applications.

&gt; ...
&gt; , ((modm, xK_g), AL.launchApp def &quot;gimp&quot; )
&gt; , ((modm, xK_g), AL.launchApp def &quot;evince&quot; )
&gt; ...

 -}</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span class="hs-comment">-- A customized prompt</span><span>
</span><span id="line-61"></span><span class="hs-keyword">newtype</span><span> </span><span id="AppPrompt"><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#AppPrompt"><span class="hs-identifier hs-var">AppPrompt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="AppPrompt"><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#AppPrompt"><span class="hs-identifier hs-var">AppPrompt</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-62"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679461108"><span id="local-6989586621679461110"><span id="local-6989586621679461112"><span id="local-6989586621679461114"><span id="local-6989586621679461116"><span class="annot"><a href="XMonad.Prompt.html#XPrompt"><span class="hs-identifier hs-type">XPrompt</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#AppPrompt"><span class="hs-identifier hs-type">AppPrompt</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-63"></span><span>    </span><span id="local-6989586621679461106"><span class="annot"><span class="annottext">showXPrompt :: AppPrompt -&gt; String
</span><a href="#local-6989586621679461106"><span class="hs-identifier hs-var hs-var hs-var hs-var">showXPrompt</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#AppPrompt"><span class="hs-identifier hs-type">AppPrompt</span></a></span><span> </span><span id="local-6989586621679461105"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679461105"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679461105"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span>
</span><span id="line-64"></span><span>
</span><span id="line-65"></span><span class="hs-keyword">type</span><span> </span><span id="Application"><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#Application"><span class="hs-identifier hs-var">Application</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-66"></span><span class="hs-keyword">type</span><span> </span><span id="Parameters"><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#Parameters"><span class="hs-identifier hs-var">Parameters</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span class="hs-comment">{- | Given an application and its parameters, launch the application. -}</span><span>
</span><span id="line-69"></span><span id="local-6989586621679461145"><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#launch"><span class="hs-identifier hs-type">launch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679461145"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#Application"><span class="hs-identifier hs-type">Application</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#Parameters"><span class="hs-identifier hs-type">Parameters</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679461145"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-70"></span><span id="launch"><span class="annot"><span class="annottext">launch :: forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; String -&gt; m ()
</span><a href="XMonad.Prompt.AppLauncher.html#launch"><span class="hs-identifier hs-var hs-var">launch</span></a></span></span><span> </span><span id="local-6989586621679461100"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679461100"><span class="hs-identifier hs-var">app</span></a></span></span><span> </span><span id="local-6989586621679461099"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679461099"><span class="hs-identifier hs-var">params</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m ()
</span><span class="hs-identifier hs-var">spawn</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679461100"><span class="hs-identifier hs-var">app</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679461099"><span class="hs-identifier hs-var">params</span></a></span><span> </span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-comment">{- | Get the user's response to a prompt an launch an application using the
   input as command parameters of the application.-}</span><span>
</span><span id="line-75"></span><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#launchApp"><span class="hs-identifier hs-type">launchApp</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#XPConfig"><span class="hs-identifier hs-type">XPConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.AppLauncher.html#Application"><span class="hs-identifier hs-type">Application</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span id="launchApp"><span class="annot"><span class="annottext">launchApp :: XPConfig -&gt; String -&gt; X ()
</span><a href="XMonad.Prompt.AppLauncher.html#launchApp"><span class="hs-identifier hs-var hs-var">launchApp</span></a></span></span><span> </span><span id="local-6989586621679461098"><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679461098"><span class="hs-identifier hs-var">config</span></a></span></span><span> </span><span id="local-6989586621679461097"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679461097"><span class="hs-identifier hs-var">app</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall p.
XPrompt p =&gt;
p -&gt; XPConfig -&gt; ComplFunction -&gt; (String -&gt; X ()) -&gt; X ()
</span><a href="XMonad.Prompt.html#mkXPrompt"><span class="hs-identifier hs-var">mkXPrompt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; AppPrompt
</span><a href="XMonad.Prompt.AppLauncher.html#AppPrompt"><span class="hs-identifier hs-var">AppPrompt</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679461097"><span class="hs-identifier hs-var">app</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679461098"><span class="hs-identifier hs-var">config</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; Predicate -&gt; ComplFunction
</span><a href="XMonad.Prompt.Shell.html#getShellCompl"><span class="hs-identifier hs-var">getShellCompl</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">XPConfig -&gt; Predicate
</span><a href="XMonad.Prompt.html#searchPredicate"><span class="hs-identifier hs-var">searchPredicate</span></a></span><span> </span><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679461098"><span class="hs-identifier hs-var">config</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; String -&gt; m ()
</span><a href="XMonad.Prompt.AppLauncher.html#launch"><span class="hs-identifier hs-var">launch</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679461097"><span class="hs-identifier hs-var">app</span></a></span><span>
</span><span id="line-77"></span></pre></body></html>