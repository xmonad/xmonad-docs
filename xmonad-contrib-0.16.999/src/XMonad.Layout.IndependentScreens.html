<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE LambdaCase #-}</span><span>
</span><span id="line-2"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-3"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- Module      :  XMonad.Layout.IndependentScreens</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- Description :  Simulate independent sets of workspaces on each screen (dwm-like).</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Copyright   :  (c) 2009 Daniel Wagner</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- License     :  BSD3</span><span>
</span><span id="line-8"></span><span class="hs-comment">--</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Maintainer  :  &lt;daniel@wagner-home.com&gt;</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- Stability   :  unstable</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Portability :  unportable</span><span>
</span><span id="line-12"></span><span class="hs-comment">--</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Utility functions for simulating independent sets of workspaces on</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- each screen (like dwm's workspace model), using internal tags to</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- distinguish workspaces associated with each screen.</span><span>
</span><span id="line-16"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-17"></span><span>
</span><span id="line-18"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">XMonad.Layout.IndependentScreens</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Usage</span></span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><span class="hs-comment">-- $usage</span></span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWorkspace"><span class="hs-identifier">VirtualWorkspace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWorkspace"><span class="hs-identifier">PhysicalWorkspace</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWindowSpace"><span class="hs-identifier">VirtualWindowSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWindowSpace"><span class="hs-identifier">PhysicalWindowSpace</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#workspaces%27"><span class="hs-identifier">workspaces'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#withScreen"><span class="hs-identifier">withScreen</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#withScreens"><span class="hs-identifier">withScreens</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#onCurrentScreen"><span class="hs-identifier">onCurrentScreen</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#marshallPP"><span class="hs-identifier">marshallPP</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#whenCurrentOn"><span class="hs-identifier">whenCurrentOn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#countScreens"><span class="hs-identifier">countScreens</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#workspacesOn"><span class="hs-identifier">workspacesOn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#workspaceOnScreen"><span class="hs-identifier">workspaceOnScreen</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#focusWindow%27"><span class="hs-identifier">focusWindow'</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#focusScreen"><span class="hs-identifier">focusScreen</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#nthWorkspace"><span class="hs-identifier">nthWorkspace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#withWspOnScreen"><span class="hs-identifier">withWspOnScreen</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Converting between virtual and physical workspaces</span></span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><span class="hs-comment">-- $converting</span></span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#marshall"><span class="hs-identifier">marshall</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#unmarshall"><span class="hs-identifier">unmarshall</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#unmarshallS"><span class="hs-identifier">unmarshallS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#unmarshallW"><span class="hs-identifier">unmarshallW</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#marshallWindowSpace"><span class="hs-identifier">marshallWindowSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#unmarshallWindowSpace"><span class="hs-identifier">unmarshallWindowSpace</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#marshallSort"><span class="hs-identifier">marshallSort</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Arrow</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(***)</span></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Graphics.X11.Xinerama</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">XMonad</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Hooks.StatusBar.PP.html"><span class="hs-identifier">XMonad.Hooks.StatusBar.PP</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Prelude.html"><span class="hs-identifier">XMonad.Prelude</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">XMonad.StackSet</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">W</span></span><span>
</span><span id="line-43"></span><span>
</span><span id="line-44"></span><span class="hs-comment">-- $usage</span><span>
</span><span id="line-45"></span><span class="hs-comment">-- You can use this module with the following in your @~\/.xmonad\/xmonad.hs@:</span><span>
</span><span id="line-46"></span><span class="hs-comment">--</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- &gt; import XMonad.Layout.IndependentScreens</span><span>
</span><span id="line-48"></span><span class="hs-comment">--</span><span>
</span><span id="line-49"></span><span class="hs-comment">-- You can define your workspaces by calling @withScreens@:</span><span>
</span><span id="line-50"></span><span class="hs-comment">--</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- &gt; myConfig = def { workspaces = withScreens 2 [&quot;web&quot;, &quot;email&quot;, &quot;irc&quot;] }</span><span>
</span><span id="line-52"></span><span class="hs-comment">--</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- This will create \&quot;physical\&quot; workspaces with distinct internal names for</span><span>
</span><span id="line-54"></span><span class="hs-comment">-- each (screen, virtual workspace) pair.</span><span>
</span><span id="line-55"></span><span class="hs-comment">--</span><span>
</span><span id="line-56"></span><span class="hs-comment">-- Then edit any keybindings that use the list of workspaces or refer</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- to specific workspace names.  In the default configuration, only</span><span>
</span><span id="line-58"></span><span class="hs-comment">-- the keybindings for changing workspace do this:</span><span>
</span><span id="line-59"></span><span class="hs-comment">--</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- &gt; keyBindings conf = let modm = modMask conf in fromList $</span><span>
</span><span id="line-61"></span><span class="hs-comment">-- &gt;     {- lots of other keybindings -}</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- &gt;     [((m .|. modm, k), windows $ f i)</span><span>
</span><span id="line-63"></span><span class="hs-comment">-- &gt;         | (i, k) &lt;- zip (XMonad.workspaces conf) [xK_1 .. xK_9]</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- &gt;         , (f, m) &lt;- [(W.greedyView, 0), (W.shift, shiftMask)]]</span><span>
</span><span id="line-65"></span><span class="hs-comment">--</span><span>
</span><span id="line-66"></span><span class="hs-comment">-- This should change to</span><span>
</span><span id="line-67"></span><span class="hs-comment">--</span><span>
</span><span id="line-68"></span><span class="hs-comment">-- &gt; keyBindings conf = let modm = modMask conf in fromList $</span><span>
</span><span id="line-69"></span><span class="hs-comment">-- &gt;     {- lots of other keybindings -}</span><span>
</span><span id="line-70"></span><span class="hs-comment">-- &gt;     [((m .|. modm, k), windows $ onCurrentScreen f i)</span><span>
</span><span id="line-71"></span><span class="hs-comment">-- &gt;         | (i, k) &lt;- zip (workspaces' conf) [xK_1 .. xK_9]</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- &gt;         , (f, m) &lt;- [(W.greedyView, 0), (W.shift, shiftMask)]]</span><span>
</span><span id="line-73"></span><span class="hs-comment">--</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- In particular, the analogue of @XMonad.workspaces@ is</span><span>
</span><span id="line-75"></span><span class="hs-comment">-- @workspaces'@, and you can use @onCurrentScreen@ to convert functions</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- of virtual workspaces to functions of physical workspaces, which work</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- by marshalling the virtual workspace name and the currently focused</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- screen into a physical workspace name.</span><span>
</span><span id="line-79"></span><span class="hs-comment">--</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- A complete example abusing many of the functions below is available in the</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- &quot;XMonad.Config.Dmwit&quot; module.</span><span>
</span><span id="line-82"></span><span>
</span><span id="line-83"></span><span class="hs-keyword">type</span><span> </span><span id="VirtualWorkspace"><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWorkspace"><span class="hs-identifier hs-var">VirtualWorkspace</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WorkspaceId</span></span><span>
</span><span id="line-84"></span><span class="hs-keyword">type</span><span> </span><span id="PhysicalWorkspace"><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWorkspace"><span class="hs-identifier hs-var">PhysicalWorkspace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WorkspaceId</span></span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-comment">-- | A 'WindowSpace' whose tags are 'PhysicalWorkspace's.</span><span>
</span><span id="line-87"></span><span class="hs-keyword">type</span><span> </span><span id="PhysicalWindowSpace"><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWindowSpace"><span class="hs-identifier hs-var">PhysicalWindowSpace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSpace</span></span><span>
</span><span id="line-88"></span><span class="hs-comment">-- | A 'WindowSpace' whose tags are 'VirtualWorkspace's.</span><span>
</span><span id="line-89"></span><span class="hs-keyword">type</span><span> </span><span id="VirtualWindowSpace"><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWindowSpace"><span class="hs-identifier hs-var">VirtualWindowSpace</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSpace</span></span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-comment">-- $converting</span><span>
</span><span id="line-92"></span><span class="hs-comment">-- You shouldn't need to use the functions below very much. They are used</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- internally. However, in some cases, they may be useful, and so are exported</span><span>
</span><span id="line-94"></span><span class="hs-comment">-- just in case. In general, the \&quot;marshall\&quot; functions convert the convenient</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- form (like \&quot;web\&quot;) you would like to use in your configuration file to the</span><span>
</span><span id="line-96"></span><span class="hs-comment">-- inconvenient form (like \&quot;2_web\&quot;) that xmonad uses internally. Similarly,</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- the \&quot;unmarshall\&quot; functions convert in the other direction.</span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#marshall"><span class="hs-identifier hs-type">marshall</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWorkspace"><span class="hs-identifier hs-type">VirtualWorkspace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWorkspace"><span class="hs-identifier hs-type">PhysicalWorkspace</span></a></span><span>
</span><span id="line-100"></span><span id="marshall"><span class="annot"><span class="annottext">marshall :: ScreenId -&gt; VirtualWorkspace -&gt; VirtualWorkspace
</span><a href="XMonad.Layout.IndependentScreens.html#marshall"><span class="hs-identifier hs-var hs-var">marshall</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">S</span></span><span> </span><span id="local-6989586621679396763"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396763"><span class="hs-identifier hs-var">sc</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679396762"><span class="annot"><span class="annottext">VirtualWorkspace
</span><a href="#local-6989586621679396762"><span class="hs-identifier hs-var">vws</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; VirtualWorkspace
forall a. Show a =&gt; a -&gt; VirtualWorkspace
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396763"><span class="hs-identifier hs-var">sc</span></a></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; VirtualWorkspace -&gt; VirtualWorkspace
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'_'</span></span><span class="annot"><span class="annottext">Char -&gt; VirtualWorkspace -&gt; VirtualWorkspace
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="annot"><span class="annottext">VirtualWorkspace
</span><a href="#local-6989586621679396762"><span class="hs-identifier hs-var">vws</span></a></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#unmarshall"><span class="hs-identifier hs-type">unmarshall</span></a></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWorkspace"><span class="hs-identifier hs-type">PhysicalWorkspace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWorkspace"><span class="hs-identifier hs-type">VirtualWorkspace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-103"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#unmarshallS"><span class="hs-identifier hs-type">unmarshallS</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWorkspace"><span class="hs-identifier hs-type">PhysicalWorkspace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span>
</span><span id="line-104"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#unmarshallW"><span class="hs-identifier hs-type">unmarshallW</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWorkspace"><span class="hs-identifier hs-type">PhysicalWorkspace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWorkspace"><span class="hs-identifier hs-type">VirtualWorkspace</span></a></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span id="unmarshall"><span class="annot"><span class="annottext">unmarshall :: VirtualWorkspace -&gt; (ScreenId, VirtualWorkspace)
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshall"><span class="hs-identifier hs-var hs-var">unmarshall</span></a></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; ScreenId
</span><span class="hs-identifier hs-var">S</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; ScreenId)
-&gt; (VirtualWorkspace -&gt; Int) -&gt; VirtualWorkspace -&gt; ScreenId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; Int
forall a. Read a =&gt; VirtualWorkspace -&gt; a
</span><span class="hs-identifier hs-var">read</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(VirtualWorkspace -&gt; ScreenId)
-&gt; (VirtualWorkspace -&gt; VirtualWorkspace)
-&gt; (VirtualWorkspace, VirtualWorkspace)
-&gt; (ScreenId, VirtualWorkspace)
forall (a :: * -&gt; * -&gt; *) b c b' c'.
Arrow a =&gt;
a b c -&gt; a b' c' -&gt; a (b, b') (c, c')
</span><span class="hs-operator hs-var">***</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; VirtualWorkspace -&gt; VirtualWorkspace
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((VirtualWorkspace, VirtualWorkspace)
 -&gt; (ScreenId, VirtualWorkspace))
-&gt; (VirtualWorkspace -&gt; (VirtualWorkspace, VirtualWorkspace))
-&gt; VirtualWorkspace
-&gt; (ScreenId, VirtualWorkspace)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool)
-&gt; VirtualWorkspace -&gt; (VirtualWorkspace, VirtualWorkspace)
forall a. (a -&gt; Bool) -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">break</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'_'</span></span><span class="hs-special">)</span><span>
</span><span id="line-107"></span><span id="unmarshallS"><span class="annot"><span class="annottext">unmarshallS :: VirtualWorkspace -&gt; ScreenId
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshallS"><span class="hs-identifier hs-var hs-var">unmarshallS</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ScreenId, VirtualWorkspace) -&gt; ScreenId
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((ScreenId, VirtualWorkspace) -&gt; ScreenId)
-&gt; (VirtualWorkspace -&gt; (ScreenId, VirtualWorkspace))
-&gt; VirtualWorkspace
-&gt; ScreenId
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; (ScreenId, VirtualWorkspace)
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshall"><span class="hs-identifier hs-var">unmarshall</span></a></span><span>
</span><span id="line-108"></span><span id="unmarshallW"><span class="annot"><span class="annottext">unmarshallW :: VirtualWorkspace -&gt; VirtualWorkspace
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshallW"><span class="hs-identifier hs-var hs-var">unmarshallW</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ScreenId, VirtualWorkspace) -&gt; VirtualWorkspace
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((ScreenId, VirtualWorkspace) -&gt; VirtualWorkspace)
-&gt; (VirtualWorkspace -&gt; (ScreenId, VirtualWorkspace))
-&gt; VirtualWorkspace
-&gt; VirtualWorkspace
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; (ScreenId, VirtualWorkspace)
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshall"><span class="hs-identifier hs-var">unmarshall</span></a></span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-comment">-- | Get a list of all the virtual workspace names.</span><span>
</span><span id="line-111"></span><span id="local-6989586621679396756"><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#workspaces%27"><span class="hs-identifier hs-type">workspaces'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679396756"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWorkspace"><span class="hs-identifier hs-type">VirtualWorkspace</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-112"></span><span id="workspaces%27"><span class="annot"><span class="annottext">workspaces' :: XConfig l -&gt; [VirtualWorkspace]
</span><a href="XMonad.Layout.IndependentScreens.html#workspaces%27"><span class="hs-identifier hs-var hs-var">workspaces'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[VirtualWorkspace] -&gt; [VirtualWorkspace]
forall a. Eq a =&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">nub</span></span><span> </span><span class="annot"><span class="annottext">([VirtualWorkspace] -&gt; [VirtualWorkspace])
-&gt; (XConfig l -&gt; [VirtualWorkspace])
-&gt; XConfig l
-&gt; [VirtualWorkspace]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(VirtualWorkspace -&gt; VirtualWorkspace)
-&gt; [VirtualWorkspace] -&gt; [VirtualWorkspace]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; VirtualWorkspace
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshallW"><span class="hs-identifier hs-var">unmarshallW</span></a></span><span> </span><span class="annot"><span class="annottext">([VirtualWorkspace] -&gt; [VirtualWorkspace])
-&gt; (XConfig l -&gt; [VirtualWorkspace])
-&gt; XConfig l
-&gt; [VirtualWorkspace]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XConfig l -&gt; [VirtualWorkspace]
forall (l :: * -&gt; *). XConfig l -&gt; [VirtualWorkspace]
</span><span class="hs-identifier hs-var hs-var">workspaces</span></span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">-- | Specify workspace names for each screen</span><span>
</span><span id="line-115"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#withScreen"><span class="hs-identifier hs-type">withScreen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span>            </span><span class="hs-comment">-- ^ The screen to make workspaces for</span><span>
</span><span id="line-116"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWorkspace"><span class="hs-identifier hs-type">VirtualWorkspace</span></a></span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- ^ The desired virtual workspace names</span><span>
</span><span id="line-117"></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWorkspace"><span class="hs-identifier hs-type">PhysicalWorkspace</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ A list of all internal physical workspace names</span><span>
</span><span id="line-118"></span><span id="withScreen"><span class="annot"><span class="annottext">withScreen :: ScreenId -&gt; [VirtualWorkspace] -&gt; [VirtualWorkspace]
</span><a href="XMonad.Layout.IndependentScreens.html#withScreen"><span class="hs-identifier hs-var hs-var">withScreen</span></a></span></span><span> </span><span id="local-6989586621679396753"><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396753"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(VirtualWorkspace -&gt; VirtualWorkspace)
-&gt; [VirtualWorkspace] -&gt; [VirtualWorkspace]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScreenId -&gt; VirtualWorkspace -&gt; VirtualWorkspace
</span><a href="XMonad.Layout.IndependentScreens.html#marshall"><span class="hs-identifier hs-var">marshall</span></a></span><span> </span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396753"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-119"></span><span>
</span><span id="line-120"></span><span class="hs-comment">-- | Make all workspaces across the monitors bear the same names</span><span>
</span><span id="line-121"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#withScreens"><span class="hs-identifier hs-type">withScreens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span>            </span><span class="hs-comment">-- ^ The number of screens to make workspaces for</span><span>
</span><span id="line-122"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWorkspace"><span class="hs-identifier hs-type">VirtualWorkspace</span></a></span><span class="hs-special">]</span><span>  </span><span class="hs-comment">-- ^ The desired virtual workspace names</span><span>
</span><span id="line-123"></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWorkspace"><span class="hs-identifier hs-type">PhysicalWorkspace</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ A list of all internal physical workspace names</span><span>
</span><span id="line-124"></span><span id="withScreens"><span class="annot"><span class="annottext">withScreens :: ScreenId -&gt; [VirtualWorkspace] -&gt; [VirtualWorkspace]
</span><a href="XMonad.Layout.IndependentScreens.html#withScreens"><span class="hs-identifier hs-var hs-var">withScreens</span></a></span></span><span> </span><span id="local-6989586621679396752"><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396752"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621679396751"><span class="annot"><span class="annottext">[VirtualWorkspace]
</span><a href="#local-6989586621679396751"><span class="hs-identifier hs-var">vws</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ScreenId -&gt; [VirtualWorkspace])
-&gt; [ScreenId] -&gt; [VirtualWorkspace]
forall (t :: * -&gt; *) a b. Foldable t =&gt; (a -&gt; [b]) -&gt; t a -&gt; [b]
</span><span class="hs-identifier hs-var">concatMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScreenId -&gt; [VirtualWorkspace] -&gt; [VirtualWorkspace]
</span><a href="XMonad.Layout.IndependentScreens.html#withScreen"><span class="hs-operator hs-var">`withScreen`</span></a></span><span> </span><span class="annot"><span class="annottext">[VirtualWorkspace]
</span><a href="#local-6989586621679396751"><span class="hs-identifier hs-var">vws</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ScreenId
</span><span class="hs-number">0</span></span><span class="hs-glyph">..</span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396752"><span class="hs-identifier hs-var">n</span></a></span><span class="annot"><span class="annottext">ScreenId -&gt; ScreenId -&gt; ScreenId
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span class="annot"><span class="annottext">ScreenId
</span><span class="hs-number">1</span></span><span class="hs-special">]</span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-comment">-- | Transform a function over physical workspaces into a function over virtual workspaces.</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- This is useful as it allows you to write code without caring about the current screen, i.e. to say &quot;switch to workspace 3&quot;</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- rather than saying &quot;switch to workspace 3 on monitor 3&quot;.</span><span>
</span><span id="line-129"></span><span id="local-6989586621679396749"><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#onCurrentScreen"><span class="hs-identifier hs-type">onCurrentScreen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWorkspace"><span class="hs-identifier hs-type">PhysicalWorkspace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679396749"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWorkspace"><span class="hs-identifier hs-type">VirtualWorkspace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679396749"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-130"></span><span id="onCurrentScreen"><span class="annot"><span class="annottext">onCurrentScreen :: (VirtualWorkspace -&gt; WindowSet -&gt; a)
-&gt; VirtualWorkspace -&gt; WindowSet -&gt; a
</span><a href="XMonad.Layout.IndependentScreens.html#onCurrentScreen"><span class="hs-identifier hs-var hs-var">onCurrentScreen</span></a></span></span><span> </span><span id="local-6989586621679396748"><span class="annot"><span class="annottext">VirtualWorkspace -&gt; WindowSet -&gt; a
</span><a href="#local-6989586621679396748"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621679396747"><span class="annot"><span class="annottext">VirtualWorkspace
</span><a href="#local-6989586621679396747"><span class="hs-identifier hs-var">vws</span></a></span></span><span> </span><span id="local-6989586621679396746"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396746"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679396745"><span class="annot"><span class="annottext">currentScreenId :: ScreenId
</span><a href="#local-6989586621679396745"><span class="hs-identifier hs-var hs-var">currentScreenId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Screen
  VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
-&gt; ScreenId
forall i l a sid sd. Screen i l a sid sd -&gt; sid
</span><span class="hs-identifier hs-var hs-var">W.screen</span></span><span> </span><span class="annot"><span class="annottext">(Screen
   VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
 -&gt; ScreenId)
-&gt; Screen
     VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
-&gt; ScreenId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
-&gt; Screen
     VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
forall i l a sid sd. StackSet i l a sid sd -&gt; Screen i l a sid sd
</span><span class="hs-identifier hs-var hs-var">W.current</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396746"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-132"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; WindowSet -&gt; a
</span><a href="#local-6989586621679396748"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScreenId -&gt; VirtualWorkspace -&gt; VirtualWorkspace
</span><a href="XMonad.Layout.IndependentScreens.html#marshall"><span class="hs-identifier hs-var">marshall</span></a></span><span> </span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396745"><span class="hs-identifier hs-var">currentScreenId</span></a></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace
</span><a href="#local-6989586621679396747"><span class="hs-identifier hs-var">vws</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396746"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span class="hs-comment">-- | Get the workspace currently active on a given screen</span><span>
</span><span id="line-135"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#workspaceOnScreen"><span class="hs-identifier hs-type">workspaceOnScreen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWorkspace"><span class="hs-identifier hs-type">PhysicalWorkspace</span></a></span><span>
</span><span id="line-136"></span><span id="workspaceOnScreen"><span class="annot"><span class="annottext">workspaceOnScreen :: ScreenId -&gt; WindowSet -&gt; Maybe VirtualWorkspace
</span><a href="XMonad.Layout.IndependentScreens.html#workspaceOnScreen"><span class="hs-identifier hs-var hs-var">workspaceOnScreen</span></a></span></span><span> </span><span id="local-6989586621679396742"><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396742"><span class="hs-identifier hs-var">screenId</span></a></span></span><span> </span><span id="local-6989586621679396741"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396741"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
-&gt; VirtualWorkspace
forall i l a. Workspace i l a -&gt; i
</span><span class="hs-identifier hs-var hs-var">W.tag</span></span><span> </span><span class="annot"><span class="annottext">(Workspace VirtualWorkspace (Layout Window) Window
 -&gt; VirtualWorkspace)
-&gt; (Screen
      VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
    -&gt; Workspace VirtualWorkspace (Layout Window) Window)
-&gt; Screen
     VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
-&gt; VirtualWorkspace
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Screen
  VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
-&gt; Workspace VirtualWorkspace (Layout Window) Window
forall i l a sid sd. Screen i l a sid sd -&gt; Workspace i l a
</span><span class="hs-identifier hs-var hs-var">W.workspace</span></span><span> </span><span class="annot"><span class="annottext">(Screen
   VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
 -&gt; VirtualWorkspace)
-&gt; Maybe
     (Screen
        VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail)
-&gt; Maybe VirtualWorkspace
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ScreenId
-&gt; WindowSet
-&gt; Maybe
     (Screen
        VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail)
</span><a href="XMonad.Layout.IndependentScreens.html#screenOnMonitor"><span class="hs-identifier hs-var">screenOnMonitor</span></a></span><span> </span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396742"><span class="hs-identifier hs-var">screenId</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396741"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span class="hs-comment">-- | Generate WindowSet transformation by providing a given function with the workspace active on a given screen.</span><span>
</span><span id="line-139"></span><span class="hs-comment">-- This may for example be used to shift a window to another screen as follows:</span><span>
</span><span id="line-140"></span><span class="hs-comment">--</span><span>
</span><span id="line-141"></span><span class="hs-comment">-- &gt; windows $ withWspOnScreen 1 W.shift</span><span>
</span><span id="line-142"></span><span class="hs-comment">--</span><span>
</span><span id="line-143"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#withWspOnScreen"><span class="hs-identifier hs-type">withWspOnScreen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span>                               </span><span class="hs-comment">-- ^ The screen to run on</span><span>
</span><span id="line-144"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWorkspace"><span class="hs-identifier hs-type">PhysicalWorkspace</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- ^ The transformation that will be passed the workspace currently active on there</span><span>
</span><span id="line-145"></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span>
</span><span id="line-146"></span><span id="withWspOnScreen"><span class="annot"><span class="annottext">withWspOnScreen :: ScreenId
-&gt; (VirtualWorkspace -&gt; WindowSet -&gt; WindowSet)
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Layout.IndependentScreens.html#withWspOnScreen"><span class="hs-identifier hs-var hs-var">withWspOnScreen</span></a></span></span><span> </span><span id="local-6989586621679396736"><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396736"><span class="hs-identifier hs-var">screenId</span></a></span></span><span> </span><span id="local-6989586621679396735"><span class="annot"><span class="annottext">VirtualWorkspace -&gt; WindowSet -&gt; WindowSet
</span><a href="#local-6989586621679396735"><span class="hs-identifier hs-var">operation</span></a></span></span><span> </span><span id="local-6989586621679396734"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396734"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ScreenId -&gt; WindowSet -&gt; Maybe VirtualWorkspace
</span><a href="XMonad.Layout.IndependentScreens.html#workspaceOnScreen"><span class="hs-identifier hs-var">workspaceOnScreen</span></a></span><span> </span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396736"><span class="hs-identifier hs-var">screenId</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396734"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-147"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679396733"><span class="annot"><span class="annottext">VirtualWorkspace
</span><a href="#local-6989586621679396733"><span class="hs-identifier hs-var">wsp</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; WindowSet -&gt; WindowSet
</span><a href="#local-6989586621679396735"><span class="hs-identifier hs-var">operation</span></a></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace
</span><a href="#local-6989586621679396733"><span class="hs-identifier hs-var">wsp</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396734"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-148"></span><span>    </span><span class="annot"><span class="annottext">Maybe VirtualWorkspace
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396734"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span class="hs-comment">-- | Get the workspace that is active on a given screen.</span><span>
</span><span id="line-151"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#screenOnMonitor"><span class="hs-identifier hs-type">screenOnMonitor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">W.Screen</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">WorkspaceId</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Layout</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenDetail</span></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span id="screenOnMonitor"><span class="annot"><span class="annottext">screenOnMonitor :: ScreenId
-&gt; WindowSet
-&gt; Maybe
     (Screen
        VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail)
</span><a href="XMonad.Layout.IndependentScreens.html#screenOnMonitor"><span class="hs-identifier hs-var hs-var">screenOnMonitor</span></a></span></span><span> </span><span id="local-6989586621679396732"><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396732"><span class="hs-identifier hs-var">screenId</span></a></span></span><span> </span><span id="local-6989586621679396731"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396731"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Screen
   VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
 -&gt; Bool)
-&gt; [Screen
      VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail]
-&gt; Maybe
     (Screen
        VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail)
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">find</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396732"><span class="hs-identifier hs-var">screenId</span></a></span><span> </span><span class="annot"><span class="annottext">ScreenId -&gt; ScreenId -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(ScreenId -&gt; Bool)
-&gt; (Screen
      VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
    -&gt; ScreenId)
-&gt; Screen
     VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Screen
  VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
-&gt; ScreenId
forall i l a sid sd. Screen i l a sid sd -&gt; sid
</span><span class="hs-identifier hs-var hs-var">W.screen</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">WindowSet
-&gt; Screen
     VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
forall i l a sid sd. StackSet i l a sid sd -&gt; Screen i l a sid sd
</span><span class="hs-identifier hs-var hs-var">W.current</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396731"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="annot"><span class="annottext">Screen
  VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail
-&gt; [Screen
      VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail]
-&gt; [Screen
      VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
-&gt; [Screen
      VirtualWorkspace (Layout Window) Window ScreenId ScreenDetail]
forall i l a sid sd. StackSet i l a sid sd -&gt; [Screen i l a sid sd]
</span><span class="hs-identifier hs-var hs-var">W.visible</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396731"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>
</span><span id="line-154"></span><span class="hs-comment">-- | Focus a window, switching workspace on the correct Xinerama screen if neccessary.</span><span>
</span><span id="line-155"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#focusWindow%27"><span class="hs-identifier hs-type">focusWindow'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span>
</span><span id="line-156"></span><span id="focusWindow%27"><span class="annot"><span class="annottext">focusWindow' :: Window -&gt; WindowSet -&gt; WindowSet
</span><a href="XMonad.Layout.IndependentScreens.html#focusWindow%27"><span class="hs-identifier hs-var hs-var">focusWindow'</span></a></span></span><span> </span><span id="local-6989586621679396728"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679396728"><span class="hs-identifier hs-var">window</span></a></span></span><span> </span><span id="local-6989586621679396727"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396727"><span class="hs-identifier hs-var">ws</span></a></span></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Window -&gt; Maybe Window
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679396728"><span class="hs-identifier hs-var">window</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Window -&gt; Maybe Window -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">WindowSet -&gt; Maybe Window
forall i l a s sd. StackSet i l a s sd -&gt; Maybe a
</span><span class="hs-identifier hs-var">W.peek</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396727"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396727"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Window -&gt; WindowSet -&gt; Maybe VirtualWorkspace
forall a i l s sd. Eq a =&gt; a -&gt; StackSet i l a s sd -&gt; Maybe i
</span><span class="hs-identifier hs-var">W.findTag</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679396728"><span class="hs-identifier hs-var">window</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396727"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-159"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679396724"><span class="annot"><span class="annottext">VirtualWorkspace
</span><a href="#local-6989586621679396724"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Window -&gt; WindowSet -&gt; WindowSet
forall s a i l sd.
(Eq s, Eq a, Eq i) =&gt;
a -&gt; StackSet i l a s sd -&gt; StackSet i l a s sd
</span><span class="hs-identifier hs-var">W.focusWindow</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679396728"><span class="hs-identifier hs-var">window</span></a></span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; WindowSet) -&gt; WindowSet -&gt; WindowSet
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ScreenId -&gt; WindowSet -&gt; WindowSet
</span><a href="XMonad.Layout.IndependentScreens.html#focusScreen"><span class="hs-identifier hs-var">focusScreen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; ScreenId
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshallS"><span class="hs-identifier hs-var">unmarshallS</span></a></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace
</span><a href="#local-6989586621679396724"><span class="hs-identifier hs-var">tag</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396727"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-160"></span><span>      </span><span class="annot"><span class="annottext">Maybe VirtualWorkspace
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679396727"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span class="hs-comment">-- | Focus a given screen.</span><span>
</span><span id="line-163"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#focusScreen"><span class="hs-identifier hs-type">focusScreen</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSet</span></span><span>
</span><span id="line-164"></span><span id="focusScreen"><span class="annot"><span class="annottext">focusScreen :: ScreenId -&gt; WindowSet -&gt; WindowSet
</span><a href="XMonad.Layout.IndependentScreens.html#focusScreen"><span class="hs-identifier hs-var hs-var">focusScreen</span></a></span></span><span> </span><span id="local-6989586621679396722"><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396722"><span class="hs-identifier hs-var">screenId</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScreenId
-&gt; (VirtualWorkspace -&gt; WindowSet -&gt; WindowSet)
-&gt; WindowSet
-&gt; WindowSet
</span><a href="XMonad.Layout.IndependentScreens.html#withWspOnScreen"><span class="hs-identifier hs-var">withWspOnScreen</span></a></span><span> </span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396722"><span class="hs-identifier hs-var">screenId</span></a></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; WindowSet -&gt; WindowSet
forall s i l a sd.
(Eq s, Eq i) =&gt;
i -&gt; StackSet i l a s sd -&gt; StackSet i l a s sd
</span><span class="hs-identifier hs-var">W.view</span></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="hs-comment">-- | Get the nth virtual workspace</span><span>
</span><span id="line-167"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#nthWorkspace"><span class="hs-identifier hs-type">nthWorkspace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWorkspace"><span class="hs-identifier hs-type">VirtualWorkspace</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-168"></span><span id="nthWorkspace"><span class="annot"><span class="annottext">nthWorkspace :: Int -&gt; X (Maybe VirtualWorkspace)
</span><a href="XMonad.Layout.IndependentScreens.html#nthWorkspace"><span class="hs-identifier hs-var hs-var">nthWorkspace</span></a></span></span><span> </span><span id="local-6989586621679396720"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396720"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[VirtualWorkspace] -&gt; Int -&gt; Maybe VirtualWorkspace
forall a. [a] -&gt; Int -&gt; Maybe a
</span><a href="XMonad.Prelude.html#%21%3F"><span class="hs-operator hs-var">!?</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679396720"><span class="hs-identifier hs-var">n</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([VirtualWorkspace] -&gt; Maybe VirtualWorkspace)
-&gt; (XConfig Layout -&gt; [VirtualWorkspace])
-&gt; XConfig Layout
-&gt; Maybe VirtualWorkspace
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XConfig Layout -&gt; [VirtualWorkspace]
forall (l :: * -&gt; *). XConfig l -&gt; [VirtualWorkspace]
</span><a href="XMonad.Layout.IndependentScreens.html#workspaces%27"><span class="hs-identifier hs-var">workspaces'</span></a></span><span> </span><span class="annot"><span class="annottext">(XConfig Layout -&gt; Maybe VirtualWorkspace)
-&gt; X (XConfig Layout) -&gt; X (Maybe VirtualWorkspace)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(XConf -&gt; XConfig Layout) -&gt; X (XConfig Layout)
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="annot"><span class="annottext">XConf -&gt; XConfig Layout
</span><span class="hs-identifier hs-var hs-var">config</span></span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-comment">-- | In case you don't know statically how many screens there will be, you can call this in main before starting xmonad.  For example, part of my config reads</span><span>
</span><span id="line-171"></span><span class="hs-comment">--</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- &gt; main = do</span><span>
</span><span id="line-173"></span><span class="hs-comment">-- &gt;   nScreens &lt;- countScreens</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- &gt;   xmonad $ def {</span><span>
</span><span id="line-175"></span><span class="hs-comment">-- &gt;     ...</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- &gt;     workspaces = withScreens nScreens (workspaces def),</span><span>
</span><span id="line-177"></span><span class="hs-comment">-- &gt;     ...</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- &gt;     }</span><span>
</span><span id="line-179"></span><span class="hs-comment">--</span><span>
</span><span id="line-180"></span><span id="local-6989586621679396715"><span id="local-6989586621679396716"><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#countScreens"><span class="hs-identifier hs-type">countScreens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679396716"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621679396715"><span class="hs-identifier hs-type">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679396716"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679396715"><span class="hs-identifier hs-type">i</span></a></span></span></span><span>
</span><span id="line-181"></span><span id="countScreens"><span class="annot"><span class="annottext">countScreens :: m i
</span><a href="XMonad.Layout.IndependentScreens.html#countScreens"><span class="hs-identifier hs-var hs-var">countScreens</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Rectangle] -&gt; i) -&gt; m [Rectangle] -&gt; m i
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">[Rectangle] -&gt; i
forall i a. Num i =&gt; [a] -&gt; i
</span><span class="hs-identifier hs-var">genericLength</span></span><span> </span><span class="annot"><span class="annottext">(m [Rectangle] -&gt; m i)
-&gt; (IO [Rectangle] -&gt; m [Rectangle]) -&gt; IO [Rectangle] -&gt; m i
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IO [Rectangle] -&gt; m [Rectangle]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO [Rectangle] -&gt; m i) -&gt; IO [Rectangle] -&gt; m i
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; IO Display
</span><span class="hs-identifier hs-var">openDisplay</span></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">IO Display -&gt; (Display -&gt; IO [Rectangle]) -&gt; IO [Rectangle]
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">(IO [Rectangle] -&gt; IO () -&gt; IO [Rectangle])
-&gt; (Display -&gt; IO [Rectangle])
-&gt; (Display -&gt; IO ())
-&gt; Display
-&gt; IO [Rectangle]
forall (f :: * -&gt; *) a b c.
Applicative f =&gt;
(a -&gt; b -&gt; c) -&gt; f a -&gt; f b -&gt; f c
</span><span class="hs-identifier hs-var">liftA2</span></span><span> </span><span class="annot"><span class="annottext">IO [Rectangle] -&gt; IO () -&gt; IO [Rectangle]
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">(&lt;*)</span></span><span> </span><span class="annot"><span class="annottext">Display -&gt; IO [Rectangle]
</span><span class="hs-identifier hs-var">getScreenInfo</span></span><span> </span><span class="annot"><span class="annottext">Display -&gt; IO ()
</span><span class="hs-identifier hs-var">closeDisplay</span></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="hs-comment">-- | This turns a pretty-printer into one that is aware of the independent screens. The</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- converted pretty-printer first filters out physical workspaces on other screens, then</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- converts all the physical workspaces on this screen to their virtual names.</span><span>
</span><span id="line-186"></span><span class="hs-comment">-- Note that 'ppSort' still operates on physical (marshalled) workspace names,</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- otherwise functions from &quot;XMonad.Util.WorkspaceCompare&quot; wouldn't work.</span><span>
</span><span id="line-188"></span><span class="hs-comment">-- If you need to sort on virtual names, see 'marshallSort'.</span><span>
</span><span id="line-189"></span><span class="hs-comment">--</span><span>
</span><span id="line-190"></span><span class="hs-comment">-- For example, if you have have two bars on the left and right screens, respectively, and @pp@ is</span><span>
</span><span id="line-191"></span><span class="hs-comment">-- a pretty-printer, you could apply 'marshallPP' when creating a @StatusBarConfig@ from &quot;XMonad.Hooks.StatusBar&quot;.</span><span>
</span><span id="line-192"></span><span class="hs-comment">--</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- A sample config looks like this:</span><span>
</span><span id="line-194"></span><span class="hs-comment">--</span><span>
</span><span id="line-195"></span><span class="hs-comment">-- &gt; mySBL = statusBarProp &quot;xmobar&quot; $ pure (marshallPP (S 0) pp)</span><span>
</span><span id="line-196"></span><span class="hs-comment">-- &gt; mySBR = statusBarProp &quot;xmobar&quot; $ pure (marshallPP (S 1) pp)</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- &gt; main = xmonad $ withEasySB (mySBL &lt;&gt; mySBR) defToggleStrutsKey def</span><span>
</span><span id="line-198"></span><span class="hs-comment">--</span><span>
</span><span id="line-199"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#marshallPP"><span class="hs-identifier hs-type">marshallPP</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Hooks.StatusBar.PP.html#PP"><span class="hs-identifier hs-type">PP</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Hooks.StatusBar.PP.html#PP"><span class="hs-identifier hs-type">PP</span></a></span><span>
</span><span id="line-200"></span><span id="marshallPP"><span class="annot"><span class="annottext">marshallPP :: ScreenId -&gt; PP -&gt; PP
</span><a href="XMonad.Layout.IndependentScreens.html#marshallPP"><span class="hs-identifier hs-var hs-var">marshallPP</span></a></span></span><span> </span><span id="local-6989586621679396707"><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396707"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679396706"><span class="annot"><span class="annottext">PP
</span><a href="#local-6989586621679396706"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PP
</span><a href="#local-6989586621679396706"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ppRename :: VirtualWorkspace
-&gt; Workspace VirtualWorkspace (Layout Window) Window
-&gt; VirtualWorkspace
</span><a href="XMonad.Hooks.StatusBar.PP.html#ppRename"><span class="hs-identifier hs-var">ppRename</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PP
-&gt; VirtualWorkspace
-&gt; Workspace VirtualWorkspace (Layout Window) Window
-&gt; VirtualWorkspace
</span><a href="XMonad.Hooks.StatusBar.PP.html#ppRename"><span class="hs-identifier hs-var hs-var">ppRename</span></a></span><span> </span><span class="annot"><span class="annottext">PP
</span><a href="#local-6989586621679396706"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">(VirtualWorkspace
 -&gt; Workspace VirtualWorkspace (Layout Window) Window
 -&gt; VirtualWorkspace)
-&gt; (VirtualWorkspace -&gt; VirtualWorkspace)
-&gt; VirtualWorkspace
-&gt; Workspace VirtualWorkspace (Layout Window) Window
-&gt; VirtualWorkspace
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; VirtualWorkspace
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshallW"><span class="hs-identifier hs-var">unmarshallW</span></a></span><span>
</span><span id="line-201"></span><span>                     </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ppSort :: X ([Workspace VirtualWorkspace (Layout Window) Window]
   -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
</span><a href="XMonad.Hooks.StatusBar.PP.html#ppSort"><span class="hs-identifier hs-var">ppSort</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">([Workspace VirtualWorkspace (Layout Window) Window]
 -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; ([Workspace VirtualWorkspace (Layout Window) Window]
    -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ScreenId
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="XMonad.Layout.IndependentScreens.html#workspacesOn"><span class="hs-identifier hs-var">workspacesOn</span></a></span><span> </span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396707"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(([Workspace VirtualWorkspace (Layout Window) Window]
  -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
 -&gt; [Workspace VirtualWorkspace (Layout Window) Window]
 -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; X ([Workspace VirtualWorkspace (Layout Window) Window]
      -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; X ([Workspace VirtualWorkspace (Layout Window) Window]
      -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">PP
-&gt; X ([Workspace VirtualWorkspace (Layout Window) Window]
      -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
</span><a href="XMonad.Hooks.StatusBar.PP.html#ppSort"><span class="hs-identifier hs-var hs-var">ppSort</span></a></span><span> </span><span class="annot"><span class="annottext">PP
</span><a href="#local-6989586621679396706"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span class="hs-comment">-- | Take a pretty-printer and turn it into one that only runs when the current</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- workspace is one associated with the given screen. The way this works is a</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- bit hacky, so beware: the 'ppOutput' field of the input will not be invoked</span><span>
</span><span id="line-206"></span><span class="hs-comment">-- if either of the following conditions is met:</span><span>
</span><span id="line-207"></span><span class="hs-comment">--</span><span>
</span><span id="line-208"></span><span class="hs-comment">-- 1. The 'ppSort' of the input returns an empty list (when not given one).</span><span>
</span><span id="line-209"></span><span class="hs-comment">--</span><span>
</span><span id="line-210"></span><span class="hs-comment">-- 2. The 'ppOrder' of the input returns the exact string @\&quot;\\0\&quot;@.</span><span>
</span><span id="line-211"></span><span class="hs-comment">--</span><span>
</span><span id="line-212"></span><span class="hs-comment">-- For example, you can use this to create a pipe which tracks the title of the</span><span>
</span><span id="line-213"></span><span class="hs-comment">-- window currently focused on a given screen (even if the screen is not</span><span>
</span><span id="line-214"></span><span class="hs-comment">-- current) by doing something like this:</span><span>
</span><span id="line-215"></span><span class="hs-comment">--</span><span>
</span><span id="line-216"></span><span class="hs-comment">-- &gt; ppFocus s = whenCurrentOn s def</span><span>
</span><span id="line-217"></span><span class="hs-comment">-- &gt;     { ppOrder  = \(_:_:title:_) -&gt; [title]</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- &gt;     , ppOutput = appendFile (&quot;focus&quot; ++ show s) . (++ &quot;\n&quot;)</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- &gt;     }</span><span>
</span><span id="line-220"></span><span class="hs-comment">--</span><span>
</span><span id="line-221"></span><span class="hs-comment">-- Sequence a few of these pretty-printers to get a log hook that keeps each</span><span>
</span><span id="line-222"></span><span class="hs-comment">-- screen's title up-to-date.</span><span>
</span><span id="line-223"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#whenCurrentOn"><span class="hs-identifier hs-type">whenCurrentOn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Hooks.StatusBar.PP.html#PP"><span class="hs-identifier hs-type">PP</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Hooks.StatusBar.PP.html#PP"><span class="hs-identifier hs-type">PP</span></a></span><span>
</span><span id="line-224"></span><span id="whenCurrentOn"><span class="annot"><span class="annottext">whenCurrentOn :: ScreenId -&gt; PP -&gt; PP
</span><a href="XMonad.Layout.IndependentScreens.html#whenCurrentOn"><span class="hs-identifier hs-var hs-var">whenCurrentOn</span></a></span></span><span> </span><span id="local-6989586621679396703"><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396703"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679396702"><span class="annot"><span class="annottext">PP
</span><a href="#local-6989586621679396702"><span class="hs-identifier hs-var">pp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">PP
</span><a href="#local-6989586621679396702"><span class="hs-identifier hs-var">pp</span></a></span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ppSort :: X ([Workspace VirtualWorkspace (Layout Window) Window]
   -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
</span><a href="XMonad.Hooks.StatusBar.PP.html#ppSort"><span class="hs-identifier hs-var">ppSort</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-226"></span><span>        </span><span id="local-6989586621679396701"><span class="annot"><span class="annottext">[Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="#local-6989586621679396701"><span class="hs-identifier hs-var">sorter</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">PP
-&gt; X ([Workspace VirtualWorkspace (Layout Window) Window]
      -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
</span><a href="XMonad.Hooks.StatusBar.PP.html#ppSort"><span class="hs-identifier hs-var hs-var">ppSort</span></a></span><span> </span><span class="annot"><span class="annottext">PP
</span><a href="#local-6989586621679396702"><span class="hs-identifier hs-var">pp</span></a></span><span>
</span><span id="line-227"></span><span>        </span><span class="annot"><span class="annottext">([Workspace VirtualWorkspace (Layout Window) Window]
 -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; X ([Workspace VirtualWorkspace (Layout Window) Window]
      -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(([Workspace VirtualWorkspace (Layout Window) Window]
  -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
 -&gt; X ([Workspace VirtualWorkspace (Layout Window) Window]
       -&gt; [Workspace VirtualWorkspace (Layout Window) Window]))
-&gt; ([Workspace VirtualWorkspace (Layout Window) Window]
    -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; X ([Workspace VirtualWorkspace (Layout Window) Window]
      -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span id="local-6989586621679396700"><span class="annot"><span class="annottext">xs :: [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="#local-6989586621679396700"><span class="hs-identifier hs-var">xs</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span id="local-6989586621679396699"><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
</span><a href="#local-6989586621679396699"><span class="hs-identifier hs-var">x</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[Workspace VirtualWorkspace (Layout Window) Window]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; ScreenId
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshallS"><span class="hs-identifier hs-var">unmarshallS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
-&gt; VirtualWorkspace
forall i l a. Workspace i l a -&gt; i
</span><span class="hs-identifier hs-var hs-var">W.tag</span></span><span> </span><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
</span><a href="#local-6989586621679396699"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ScreenId -&gt; ScreenId -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396703"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="#local-6989586621679396701"><span class="hs-identifier hs-var">sorter</span></a></span><span> </span><span class="annot"><span class="annottext">[Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="#local-6989586621679396700"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-228"></span><span>                     </span><span class="annot"><span class="annottext">[Workspace VirtualWorkspace (Layout Window) Window]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ppOrder :: [VirtualWorkspace] -&gt; [VirtualWorkspace]
</span><a href="XMonad.Hooks.StatusBar.PP.html#ppOrder"><span class="hs-identifier hs-var">ppOrder</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">VirtualWorkspace
</span><span class="hs-string">&quot;&quot;</span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span class="annot"><span class="annottext">[VirtualWorkspace]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">VirtualWorkspace
</span><span class="hs-string">&quot;\0&quot;</span></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- we got passed no workspaces; this is the signal from ppSort that this is a boring case</span><span>
</span><span id="line-231"></span><span>                       </span><span id="local-6989586621679396697"><span class="annot"><span class="annottext">[VirtualWorkspace]
</span><a href="#local-6989586621679396697"><span class="hs-identifier hs-var">list</span></a></span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PP -&gt; [VirtualWorkspace] -&gt; [VirtualWorkspace]
</span><a href="XMonad.Hooks.StatusBar.PP.html#ppOrder"><span class="hs-identifier hs-var hs-var">ppOrder</span></a></span><span> </span><span class="annot"><span class="annottext">PP
</span><a href="#local-6989586621679396702"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">[VirtualWorkspace]
</span><a href="#local-6989586621679396697"><span class="hs-identifier hs-var">list</span></a></span><span>
</span><span id="line-232"></span><span>
</span><span id="line-233"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ppOutput :: VirtualWorkspace -&gt; IO ()
</span><a href="XMonad.Hooks.StatusBar.PP.html#ppOutput"><span class="hs-identifier hs-var">ppOutput</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace
</span><span class="hs-string">&quot;\0&quot;</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; IO ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- we got passed the signal from ppOrder that this is a boring case</span><span>
</span><span id="line-234"></span><span>                       </span><span id="local-6989586621679396695"><span class="annot"><span class="annottext">VirtualWorkspace
</span><a href="#local-6989586621679396695"><span class="hs-identifier hs-var">output</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PP -&gt; VirtualWorkspace -&gt; IO ()
</span><a href="XMonad.Hooks.StatusBar.PP.html#ppOutput"><span class="hs-identifier hs-var hs-var">ppOutput</span></a></span><span> </span><span class="annot"><span class="annottext">PP
</span><a href="#local-6989586621679396702"><span class="hs-identifier hs-var">pp</span></a></span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace
</span><a href="#local-6989586621679396695"><span class="hs-identifier hs-var">output</span></a></span><span>
</span><span id="line-235"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="hs-comment">-- | Filter workspaces that are on a given screen.</span><span>
</span><span id="line-238"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#workspacesOn"><span class="hs-identifier hs-type">workspacesOn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWindowSpace"><span class="hs-identifier hs-type">PhysicalWindowSpace</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWindowSpace"><span class="hs-identifier hs-type">PhysicalWindowSpace</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-239"></span><span id="workspacesOn"><span class="annot"><span class="annottext">workspacesOn :: ScreenId
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="XMonad.Layout.IndependentScreens.html#workspacesOn"><span class="hs-identifier hs-var hs-var">workspacesOn</span></a></span></span><span> </span><span id="local-6989586621679396694"><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396694"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Workspace VirtualWorkspace (Layout Window) Window -&gt; Bool)
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679396693"><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
</span><a href="#local-6989586621679396693"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; ScreenId
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshallS"><span class="hs-identifier hs-var">unmarshallS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
-&gt; VirtualWorkspace
forall i l a. Workspace i l a -&gt; i
</span><span class="hs-identifier hs-var hs-var">W.tag</span></span><span> </span><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
</span><a href="#local-6989586621679396693"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">ScreenId -&gt; ScreenId -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396694"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="hs-comment">-- | @vSort@ is a function that sorts 'VirtualWindowSpace's with virtual names.</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- @marshallSort s vSort@ is a function which sorts 'PhysicalWindowSpace's with virtual names,</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- but keeps only the 'WindowSpace'\'s on screen @s@.</span><span>
</span><span id="line-244"></span><span class="hs-comment">--</span><span>
</span><span id="line-245"></span><span class="hs-comment">-- NOTE: @vSort@ operating on virtual names comes with some caveats, see</span><span>
</span><span id="line-246"></span><span class="hs-comment">-- &lt;https://github.com/xmonad/xmonad-contrib/issues/420 this issue&gt; for</span><span>
</span><span id="line-247"></span><span class="hs-comment">-- more information. You can use 'marshallSort' like in the following example:</span><span>
</span><span id="line-248"></span><span class="hs-comment">--</span><span>
</span><span id="line-249"></span><span class="hs-comment">-- === __Example__</span><span>
</span><span id="line-250"></span><span class="hs-comment">--</span><span>
</span><span id="line-251"></span><span class="hs-comment">-- &gt; pp' :: ScreenId -&gt; PP -&gt; PP</span><span>
</span><span id="line-252"></span><span class="hs-comment">-- &gt; pp' s pp = (marshallPP s pp) { ppSort = fmap (marshallSort s) (ppSort pp) }</span><span>
</span><span id="line-253"></span><span class="hs-comment">-- &gt;</span><span>
</span><span id="line-254"></span><span class="hs-comment">-- &gt; mySBL = statusBarProp &quot;xmobar&quot; $ pure (pp' (S 0) pp)</span><span>
</span><span id="line-255"></span><span class="hs-comment">-- &gt; mySBR = statusBarProp &quot;xmobar&quot; $ pure (pp' (S 1) pp)</span><span>
</span><span id="line-256"></span><span class="hs-comment">-- &gt; main = xmonad $ withEasySB (mySBL &lt;&gt; mySBR) defToggleStrutsKey def</span><span>
</span><span id="line-257"></span><span class="hs-comment">--</span><span>
</span><span id="line-258"></span><span class="hs-comment">-- In this way, you have a custom virtual names sort on top of 'marshallPP'.</span><span>
</span><span id="line-259"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#marshallSort"><span class="hs-identifier hs-type">marshallSort</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWindowSpace"><span class="hs-identifier hs-type">VirtualWindowSpace</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#VirtualWindowSpace"><span class="hs-identifier hs-type">VirtualWindowSpace</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWindowSpace"><span class="hs-identifier hs-type">PhysicalWindowSpace</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#PhysicalWindowSpace"><span class="hs-identifier hs-type">PhysicalWindowSpace</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-260"></span><span id="marshallSort"><span class="annot"><span class="annottext">marshallSort :: ScreenId
-&gt; ([Workspace VirtualWorkspace (Layout Window) Window]
    -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="XMonad.Layout.IndependentScreens.html#marshallSort"><span class="hs-identifier hs-var hs-var">marshallSort</span></a></span></span><span> </span><span id="local-6989586621679396692"><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396692"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679396691"><span class="annot"><span class="annottext">[Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="#local-6989586621679396691"><span class="hs-identifier hs-var">vSort</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="#local-6989586621679396690"><span class="hs-identifier hs-var">pScreens</span></a></span><span> </span><span class="annot"><span class="annottext">([Workspace VirtualWorkspace (Layout Window) Window]
 -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; ([Workspace VirtualWorkspace (Layout Window) Window]
    -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="#local-6989586621679396691"><span class="hs-identifier hs-var">vSort</span></a></span><span> </span><span class="annot"><span class="annottext">([Workspace VirtualWorkspace (Layout Window) Window]
 -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; ([Workspace VirtualWorkspace (Layout Window) Window]
    -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="#local-6989586621679396689"><span class="hs-identifier hs-var">vScreens</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-261"></span><span>    </span><span id="local-6989586621679396689"><span class="annot"><span class="annottext">vScreens :: [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="#local-6989586621679396689"><span class="hs-identifier hs-var hs-var">vScreens</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Workspace VirtualWorkspace (Layout Window) Window
 -&gt; Workspace VirtualWorkspace (Layout Window) Window)
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
-&gt; Workspace VirtualWorkspace (Layout Window) Window
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshallWindowSpace"><span class="hs-identifier hs-var">unmarshallWindowSpace</span></a></span><span> </span><span class="annot"><span class="annottext">([Workspace VirtualWorkspace (Layout Window) Window]
 -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; ([Workspace VirtualWorkspace (Layout Window) Window]
    -&gt; [Workspace VirtualWorkspace (Layout Window) Window])
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ScreenId
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="XMonad.Layout.IndependentScreens.html#workspacesOn"><span class="hs-identifier hs-var">workspacesOn</span></a></span><span> </span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396692"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-262"></span><span>    </span><span id="local-6989586621679396690"><span class="annot"><span class="annottext">pScreens :: [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
</span><a href="#local-6989586621679396690"><span class="hs-identifier hs-var hs-var">pScreens</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Workspace VirtualWorkspace (Layout Window) Window
 -&gt; Workspace VirtualWorkspace (Layout Window) Window)
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
-&gt; [Workspace VirtualWorkspace (Layout Window) Window]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScreenId
-&gt; Workspace VirtualWorkspace (Layout Window) Window
-&gt; Workspace VirtualWorkspace (Layout Window) Window
</span><a href="XMonad.Layout.IndependentScreens.html#marshallWindowSpace"><span class="hs-identifier hs-var">marshallWindowSpace</span></a></span><span> </span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396692"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-263"></span><span>
</span><span id="line-264"></span><span class="hs-comment">-- | Convert the tag of the 'WindowSpace' from a 'VirtualWorkspace' to a 'PhysicalWorkspace'.</span><span>
</span><span id="line-265"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#marshallWindowSpace"><span class="hs-identifier hs-type">marshallWindowSpace</span></a></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ScreenId</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSpace</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSpace</span></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- | Convert the tag of the 'WindowSpace' from a 'PhysicalWorkspace' to a 'VirtualWorkspace'.</span><span>
</span><span id="line-267"></span><span class="annot"><a href="XMonad.Layout.IndependentScreens.html#unmarshallWindowSpace"><span class="hs-identifier hs-type">unmarshallWindowSpace</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSpace</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">WindowSpace</span></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span id="marshallWindowSpace"><span class="annot"><span class="annottext">marshallWindowSpace :: ScreenId
-&gt; Workspace VirtualWorkspace (Layout Window) Window
-&gt; Workspace VirtualWorkspace (Layout Window) Window
</span><a href="XMonad.Layout.IndependentScreens.html#marshallWindowSpace"><span class="hs-identifier hs-var hs-var">marshallWindowSpace</span></a></span></span><span> </span><span id="local-6989586621679396688"><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396688"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621679396687"><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
</span><a href="#local-6989586621679396687"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
</span><a href="#local-6989586621679396687"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tag :: VirtualWorkspace
</span><span class="hs-identifier hs-var">W.tag</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScreenId -&gt; VirtualWorkspace -&gt; VirtualWorkspace
</span><a href="XMonad.Layout.IndependentScreens.html#marshall"><span class="hs-identifier hs-var">marshall</span></a></span><span> </span><span class="annot"><span class="annottext">ScreenId
</span><a href="#local-6989586621679396688"><span class="hs-identifier hs-var">s</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
-&gt; VirtualWorkspace
forall i l a. Workspace i l a -&gt; i
</span><span class="hs-identifier hs-var hs-var">W.tag</span></span><span> </span><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
</span><a href="#local-6989586621679396687"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-270"></span><span id="unmarshallWindowSpace"><span class="annot"><span class="annottext">unmarshallWindowSpace :: Workspace VirtualWorkspace (Layout Window) Window
-&gt; Workspace VirtualWorkspace (Layout Window) Window
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshallWindowSpace"><span class="hs-identifier hs-var hs-var">unmarshallWindowSpace</span></a></span></span><span> </span><span id="local-6989586621679396686"><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
</span><a href="#local-6989586621679396686"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
</span><a href="#local-6989586621679396686"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">tag :: VirtualWorkspace
</span><span class="hs-identifier hs-var">W.tag</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">VirtualWorkspace -&gt; VirtualWorkspace
</span><a href="XMonad.Layout.IndependentScreens.html#unmarshallW"><span class="hs-identifier hs-var">unmarshallW</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
-&gt; VirtualWorkspace
forall i l a. Workspace i l a -&gt; i
</span><span class="hs-identifier hs-var hs-var">W.tag</span></span><span> </span><span class="annot"><span class="annottext">Workspace VirtualWorkspace (Layout Window) Window
</span><a href="#local-6989586621679396686"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-271"></span></pre></body></html>