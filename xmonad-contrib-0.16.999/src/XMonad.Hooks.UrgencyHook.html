<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE FlexibleContexts, MultiParamTypeClasses, FlexibleInstances #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- Module      :  XMonad.Hooks.UrgencyHook</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- Description :  Configure an action to occur when a window demands your attention.</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Copyright   :  Devin Mullins &lt;me@twifkak.com&gt;</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- License     :  BSD3-style (see LICENSE)</span><span>
</span><span id="line-9"></span><span class="hs-comment">--</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- Maintainer  :  Devin Mullins &lt;me@twifkak.com&gt;</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Stability   :  unstable</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- Portability :  unportable</span><span>
</span><span id="line-13"></span><span class="hs-comment">--</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- UrgencyHook lets you configure an action to occur when a window demands</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- your attention. (In traditional WMs, this takes the form of \&quot;flashing\&quot;</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- on your \&quot;taskbar.\&quot; Blech.)</span><span>
</span><span id="line-17"></span><span class="hs-comment">--</span><span>
</span><span id="line-18"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-19"></span><span>
</span><span id="line-20"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">XMonad.Hooks.UrgencyHook</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-21"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- * Usage</span></span><span>
</span><span id="line-22"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- $usage</span></span><span>
</span><span id="line-23"></span><span>
</span><span id="line-24"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- ** Pop up a temporary dzen</span></span><span>
</span><span id="line-25"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- $temporary</span></span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- ** Highlight in existing dzen</span></span><span>
</span><span id="line-28"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- $existing</span></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- ** Useful keybinding</span></span><span>
</span><span id="line-31"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- $keybinding</span></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- * Troubleshooting</span></span><span>
</span><span id="line-34"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- $troubleshooting</span></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- * Example: Setting up irssi + rxvt-unicode</span></span><span>
</span><span id="line-37"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- $example</span></span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- ** Configuring irssi</span></span><span>
</span><span id="line-40"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- $irssi</span></span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- ** Configuring screen</span></span><span>
</span><span id="line-43"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- $screen</span></span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- ** Configuring rxvt-unicode</span></span><span>
</span><span id="line-46"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- $urxvt</span></span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- ** Configuring xmonad</span></span><span>
</span><span id="line-49"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- $xmonad</span></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- * Stuff for your config file:</span></span><span>
</span><span id="line-52"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#withUrgencyHook"><span class="hs-identifier">withUrgencyHook</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#withUrgencyHookC"><span class="hs-identifier">withUrgencyHookC</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyConfig"><span class="hs-identifier">UrgencyConfig</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#urgencyConfig"><span class="hs-identifier">urgencyConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-54"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#SuppressWhen"><span class="hs-identifier">SuppressWhen</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#RemindWhen"><span class="hs-identifier">RemindWhen</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#focusUrgent"><span class="hs-identifier">focusUrgent</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#clearUrgents"><span class="hs-identifier">clearUrgents</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#dzenUrgencyHook"><span class="hs-identifier">dzenUrgencyHook</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#DzenUrgencyHook"><span class="hs-identifier">DzenUrgencyHook</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#NoUrgencyHook"><span class="hs-identifier">NoUrgencyHook</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#BorderUrgencyHook"><span class="hs-identifier">BorderUrgencyHook</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#FocusHook"><span class="hs-identifier">FocusHook</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#filterUrgencyHook"><span class="hs-identifier">filterUrgencyHook</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#filterUrgencyHook%27"><span class="hs-identifier">filterUrgencyHook'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#minutes"><span class="hs-identifier">minutes</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#seconds"><span class="hs-identifier">seconds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#askUrgent"><span class="hs-identifier">askUrgent</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#doAskUrgent"><span class="hs-identifier">doAskUrgent</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>                                 </span><span class="annot"><span class="hs-comment">-- * Stuff for developers:</span></span><span>
</span><span id="line-65"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#readUrgents"><span class="hs-identifier">readUrgents</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#withUrgents"><span class="hs-identifier">withUrgents</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#clearUrgents%27"><span class="hs-identifier">clearUrgents'</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#StdoutUrgencyHook"><span class="hs-identifier">StdoutUrgencyHook</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#SpawnUrgencyHook"><span class="hs-identifier">SpawnUrgencyHook</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier">UrgencyHook</span></a></span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#urgencyHook"><span class="hs-identifier">urgencyHook</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Interval"><span class="hs-identifier">Interval</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>                                 </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#borderUrgencyHook"><span class="hs-identifier">borderUrgencyHook</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#focusHook"><span class="hs-identifier">focusHook</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#spawnUrgencyHook"><span class="hs-identifier">spawnUrgencyHook</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#stdoutUrgencyHook"><span class="hs-identifier">stdoutUrgencyHook</span></a></span><span>
</span><span id="line-71"></span><span>                                 </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">XMonad</span></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Prelude.html"><span class="hs-identifier">XMonad.Prelude</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prelude.html#fi"><span class="hs-identifier">fi</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">delete</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromMaybe</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">listToMaybe</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">maybeToList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">when</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(\\)</span></span><span class="hs-special">)</span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">XMonad.StackSet</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">W</span></span><span>
</span><span id="line-76"></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Hooks.ManageHelpers.html"><span class="hs-identifier">XMonad.Hooks.ManageHelpers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Hooks.ManageHelpers.html#windowTag"><span class="hs-identifier">windowTag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-78"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Util.Dzen.html"><span class="hs-identifier">XMonad.Util.Dzen</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Util.Dzen.html#dzenWithArgs"><span class="hs-identifier">dzenWithArgs</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#seconds"><span class="hs-identifier">seconds</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="XMonad.Util.ExtensibleState.html"><span class="hs-identifier">XMonad.Util.ExtensibleState</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">XS</span></span><span>
</span><span id="line-80"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Util.NamedWindows.html"><span class="hs-identifier">XMonad.Util.NamedWindows</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Util.NamedWindows.html#getName"><span class="hs-identifier">getName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-81"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Util.Timer.html"><span class="hs-identifier">XMonad.Util.Timer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Util.Timer.html#TimerId"><span class="hs-identifier">TimerId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Util.Timer.html#startTimer"><span class="hs-identifier">startTimer</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Util.Timer.html#handleTimer"><span class="hs-identifier">handleTimer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-82"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Util.WindowProperties.html"><span class="hs-identifier">XMonad.Util.WindowProperties</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Util.WindowProperties.html#getProp32"><span class="hs-identifier">getProp32</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>
</span><span id="line-84"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bits</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">testBit</span></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-86"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">hPutStrLn</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">stderr</span></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Foreign.C.Types</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">CLong</span></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span class="hs-comment">-- $usage</span><span>
</span><span id="line-90"></span><span class="hs-comment">--</span><span>
</span><span id="line-91"></span><span class="hs-comment">-- To wire this up, first add:</span><span>
</span><span id="line-92"></span><span class="hs-comment">--</span><span>
</span><span id="line-93"></span><span class="hs-comment">-- &gt; import XMonad.Hooks.UrgencyHook</span><span>
</span><span id="line-94"></span><span class="hs-comment">--</span><span>
</span><span id="line-95"></span><span class="hs-comment">-- to your import list in your config file. Now, you have a decision to make:</span><span>
</span><span id="line-96"></span><span class="hs-comment">-- When a window deems itself urgent, do you want to pop up a temporary dzen</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- bar telling you so, or do you have an existing dzen wherein you would like to</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- highlight urgent workspaces?</span><span>
</span><span id="line-99"></span><span>
</span><span id="line-100"></span><span class="hs-comment">-- $temporary</span><span>
</span><span id="line-101"></span><span class="hs-comment">--</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- Enable your urgency hook by wrapping your config record in a call to</span><span>
</span><span id="line-103"></span><span class="hs-comment">-- 'withUrgencyHook'. For example:</span><span>
</span><span id="line-104"></span><span class="hs-comment">--</span><span>
</span><span id="line-105"></span><span class="hs-comment">-- &gt; main = xmonad $ withUrgencyHook dzenUrgencyHook { args = [&quot;-bg&quot;, &quot;darkgreen&quot;, &quot;-xs&quot;, &quot;1&quot;] }</span><span>
</span><span id="line-106"></span><span class="hs-comment">-- &gt;               $ def</span><span>
</span><span id="line-107"></span><span class="hs-comment">--</span><span>
</span><span id="line-108"></span><span class="hs-comment">-- This will pop up a dzen bar for five seconds telling you you've got an</span><span>
</span><span id="line-109"></span><span class="hs-comment">-- urgent window.</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-comment">-- $existing</span><span>
</span><span id="line-112"></span><span class="hs-comment">--</span><span>
</span><span id="line-113"></span><span class="hs-comment">-- In order for xmonad to track urgent windows, you must install an urgency hook.</span><span>
</span><span id="line-114"></span><span class="hs-comment">-- You can use the above 'dzenUrgencyHook', or if you're not interested in the</span><span>
</span><span id="line-115"></span><span class="hs-comment">-- extra popup, install NoUrgencyHook, as so:</span><span>
</span><span id="line-116"></span><span class="hs-comment">--</span><span>
</span><span id="line-117"></span><span class="hs-comment">-- &gt; main = xmonad $ withUrgencyHook NoUrgencyHook</span><span>
</span><span id="line-118"></span><span class="hs-comment">-- &gt;               $ def</span><span>
</span><span id="line-119"></span><span class="hs-comment">--</span><span>
</span><span id="line-120"></span><span class="hs-comment">-- Now, your &quot;XMonad.Hooks.StatusBar.PP&quot; must be set up to display the urgent</span><span>
</span><span id="line-121"></span><span class="hs-comment">-- windows. If you're using the 'dzen' (from &quot;XMonad.Hooks.DynamicLog&quot;) or</span><span>
</span><span id="line-122"></span><span class="hs-comment">-- 'dzenPP' functions from that module, then you should be good. Otherwise,</span><span>
</span><span id="line-123"></span><span class="hs-comment">-- you want to figure out how to set 'ppUrgent'.</span><span>
</span><span id="line-124"></span><span>
</span><span id="line-125"></span><span class="hs-comment">-- $keybinding</span><span>
</span><span id="line-126"></span><span class="hs-comment">--</span><span>
</span><span id="line-127"></span><span class="hs-comment">-- You can set up a keybinding to jump to the window that was recently marked</span><span>
</span><span id="line-128"></span><span class="hs-comment">-- urgent. See an example at 'focusUrgent'.</span><span>
</span><span id="line-129"></span><span>
</span><span id="line-130"></span><span class="hs-comment">-- $troubleshooting</span><span>
</span><span id="line-131"></span><span class="hs-comment">--</span><span>
</span><span id="line-132"></span><span class="hs-comment">-- There are three steps to get right:</span><span>
</span><span id="line-133"></span><span class="hs-comment">--</span><span>
</span><span id="line-134"></span><span class="hs-comment">-- 1. The X client must set the UrgencyHint flag. How to configure this</span><span>
</span><span id="line-135"></span><span class="hs-comment">--    depends on the application. If you're using a terminal app, this is in</span><span>
</span><span id="line-136"></span><span class="hs-comment">--    two parts:</span><span>
</span><span id="line-137"></span><span class="hs-comment">--</span><span>
</span><span id="line-138"></span><span class="hs-comment">--      * The console app must send a ^G (bell). In bash, a helpful trick is</span><span>
</span><span id="line-139"></span><span class="hs-comment">--        @sleep 1; echo -e \'\\a\'@.</span><span>
</span><span id="line-140"></span><span class="hs-comment">--</span><span>
</span><span id="line-141"></span><span class="hs-comment">--      * The terminal must convert the bell into UrgencyHint.</span><span>
</span><span id="line-142"></span><span class="hs-comment">--</span><span>
</span><span id="line-143"></span><span class="hs-comment">-- 2. XMonad must be configured to notice UrgencyHints. If you've added</span><span>
</span><span id="line-144"></span><span class="hs-comment">--    withUrgencyHook, you may need to hit mod-shift-space to reset the layout.</span><span>
</span><span id="line-145"></span><span class="hs-comment">--</span><span>
</span><span id="line-146"></span><span class="hs-comment">-- 3. The dzen must run when told. Run @dzen2 -help@ and make sure that it</span><span>
</span><span id="line-147"></span><span class="hs-comment">--    supports all of the arguments you told DzenUrgencyHook to pass it. Also,</span><span>
</span><span id="line-148"></span><span class="hs-comment">--    set up a keybinding to the 'dzen' action in &quot;XMonad.Util.Dzen&quot; to test</span><span>
</span><span id="line-149"></span><span class="hs-comment">--    if that works.</span><span>
</span><span id="line-150"></span><span class="hs-comment">--</span><span>
</span><span id="line-151"></span><span class="hs-comment">-- As best you can, try to isolate which one(s) of those is failing.</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">-- $example</span><span>
</span><span id="line-154"></span><span class="hs-comment">--</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- This is a commonly asked example. By default, the window doesn't get flagged</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- urgent when somebody messages you in irssi. You will have to configure some</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- things. If you're using different tools than this, your mileage will almost</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- certainly vary. (For example, in Xchat2, it's just a simple checkbox.)</span><span>
</span><span id="line-159"></span><span>
</span><span id="line-160"></span><span class="hs-comment">-- $irssi</span><span>
</span><span id="line-161"></span><span class="hs-comment">-- @Irssi@ is not an X11 app, so it can't set the @UrgencyHint@ flag on @XWMHints@.</span><span>
</span><span id="line-162"></span><span class="hs-comment">-- However, on all console applications is bestown the greatest of all notification</span><span>
</span><span id="line-163"></span><span class="hs-comment">-- systems: the bell. That's right, Ctrl+G, ASCII code 7, @echo -e '\a'@, your</span><span>
</span><span id="line-164"></span><span class="hs-comment">-- friend, the bell. To configure @irssi@ to send a bell when you receive a message:</span><span>
</span><span id="line-165"></span><span class="hs-comment">--</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- &gt; /set beep_msg_level MSGS NOTICES INVITES DCC DCCMSGS HILIGHT</span><span>
</span><span id="line-167"></span><span class="hs-comment">--</span><span>
</span><span id="line-168"></span><span class="hs-comment">-- Consult your local @irssi@ documentation for more detail.</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-comment">-- $screen</span><span>
</span><span id="line-171"></span><span class="hs-comment">-- A common way to run @irssi@ is within the lovable giant, @screen@. Some distros</span><span>
</span><span id="line-172"></span><span class="hs-comment">-- (e.g. Ubuntu) like to configure @screen@ to trample on your poor console</span><span>
</span><span id="line-173"></span><span class="hs-comment">-- applications -- in particular, to turn bell characters into evil, smelly</span><span>
</span><span id="line-174"></span><span class="hs-comment">-- \&quot;visual bells.\&quot; To turn this off, add:</span><span>
</span><span id="line-175"></span><span class="hs-comment">--</span><span>
</span><span id="line-176"></span><span class="hs-comment">-- &gt; vbell off # or remove the existing 'vbell on' line</span><span>
</span><span id="line-177"></span><span class="hs-comment">--</span><span>
</span><span id="line-178"></span><span class="hs-comment">-- to your .screenrc, or hit @C-a C-g@ within a running @screen@ session for an</span><span>
</span><span id="line-179"></span><span class="hs-comment">-- immediate but temporary fix.</span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="hs-comment">-- $urxvt</span><span>
</span><span id="line-182"></span><span class="hs-comment">-- Rubber, meet road. Urxvt is the gateway between console apps and X11. To tell</span><span>
</span><span id="line-183"></span><span class="hs-comment">-- urxvt to set an @UrgencyHint@ when it receives a bell character, first, have</span><span>
</span><span id="line-184"></span><span class="hs-comment">-- an urxvt version 8.3 or newer, and second, set the following in your</span><span>
</span><span id="line-185"></span><span class="hs-comment">-- @.Xdefaults@:</span><span>
</span><span id="line-186"></span><span class="hs-comment">--</span><span>
</span><span id="line-187"></span><span class="hs-comment">-- &gt; urxvt.urgentOnBell: true</span><span>
</span><span id="line-188"></span><span class="hs-comment">--</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- Depending on your setup, you may need to @xrdb@ that.</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="hs-comment">-- $xmonad</span><span>
</span><span id="line-192"></span><span class="hs-comment">-- Hopefully you already read the section on how to configure xmonad. If not,</span><span>
</span><span id="line-193"></span><span class="hs-comment">-- hopefully you know where to find it.</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-comment">-- | This is the method to enable an urgency hook. It uses the default</span><span>
</span><span id="line-196"></span><span class="hs-comment">-- 'urgencyConfig' to control behavior. To change this, use 'withUrgencyHookC'</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- instead.</span><span>
</span><span id="line-198"></span><span id="local-6989586621679395774"><span id="local-6989586621679395775"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#withUrgencyHook"><span class="hs-identifier hs-type">withUrgencyHook</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LayoutClass</span></span><span> </span><span class="annot"><a href="#local-6989586621679395775"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-type">UrgencyHook</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395774"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-199"></span><span>                   </span><span class="annot"><a href="#local-6989586621679395774"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679395775"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679395775"><span class="hs-identifier hs-type">l</span></a></span></span></span><span>
</span><span id="line-200"></span><span id="withUrgencyHook"><span class="annot"><span class="annottext">withUrgencyHook :: h -&gt; XConfig l -&gt; XConfig l
</span><a href="XMonad.Hooks.UrgencyHook.html#withUrgencyHook"><span class="hs-identifier hs-var hs-var">withUrgencyHook</span></a></span></span><span> </span><span id="local-6989586621679395773"><span class="annot"><span class="annottext">h
</span><a href="#local-6989586621679395773"><span class="hs-identifier hs-var">hook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">h -&gt; UrgencyConfig -&gt; XConfig l -&gt; XConfig l
forall (l :: * -&gt; *) h.
(LayoutClass l Window, UrgencyHook h) =&gt;
h -&gt; UrgencyConfig -&gt; XConfig l -&gt; XConfig l
</span><a href="XMonad.Hooks.UrgencyHook.html#withUrgencyHookC"><span class="hs-identifier hs-var">withUrgencyHookC</span></a></span><span> </span><span class="annot"><span class="annottext">h
</span><a href="#local-6989586621679395773"><span class="hs-identifier hs-var">hook</span></a></span><span> </span><span class="annot"><span class="annottext">UrgencyConfig
</span><a href="XMonad.Hooks.UrgencyHook.html#urgencyConfig"><span class="hs-identifier hs-var">urgencyConfig</span></a></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-comment">-- | This lets you modify the defaults set in 'urgencyConfig'. An example:</span><span>
</span><span id="line-203"></span><span class="hs-comment">--</span><span>
</span><span id="line-204"></span><span class="hs-comment">-- &gt; withUrgencyHookC dzenUrgencyHook { ... } urgencyConfig { suppressWhen = Focused }</span><span>
</span><span id="line-205"></span><span class="hs-comment">--</span><span>
</span><span id="line-206"></span><span class="hs-comment">-- (Don't type the @...@, you dolt.) See 'UrgencyConfig' for details on configuration.</span><span>
</span><span id="line-207"></span><span id="local-6989586621679395986"><span id="local-6989586621679395989"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#withUrgencyHookC"><span class="hs-identifier hs-type">withUrgencyHookC</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">LayoutClass</span></span><span> </span><span class="annot"><a href="#local-6989586621679395989"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-type">UrgencyHook</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395986"><span class="hs-identifier hs-type">h</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-208"></span><span>                    </span><span class="annot"><a href="#local-6989586621679395986"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyConfig"><span class="hs-identifier hs-type">UrgencyConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679395989"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679395989"><span class="hs-identifier hs-type">l</span></a></span></span></span><span>
</span><span id="line-209"></span><span id="withUrgencyHookC"><span class="annot"><span class="annottext">withUrgencyHookC :: h -&gt; UrgencyConfig -&gt; XConfig l -&gt; XConfig l
</span><a href="XMonad.Hooks.UrgencyHook.html#withUrgencyHookC"><span class="hs-identifier hs-var hs-var">withUrgencyHookC</span></a></span></span><span> </span><span id="local-6989586621679395772"><span class="annot"><span class="annottext">h
</span><a href="#local-6989586621679395772"><span class="hs-identifier hs-var">hook</span></a></span></span><span> </span><span id="local-6989586621679395771"><span class="annot"><span class="annottext">UrgencyConfig
</span><a href="#local-6989586621679395771"><span class="hs-identifier hs-var">urgConf</span></a></span></span><span> </span><span id="local-6989586621679395770"><span class="annot"><span class="annottext">XConfig l
</span><a href="#local-6989586621679395770"><span class="hs-identifier hs-var">conf</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XConfig l
</span><a href="#local-6989586621679395770"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-210"></span><span>        </span><span class="annot"><span class="annottext">handleEventHook :: Event -&gt; X All
</span><span class="hs-identifier hs-var">handleEventHook</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679395768"><span class="annot"><span class="annottext">Event
</span><a href="#local-6989586621679395768"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">WithUrgencyHook h -&gt; Event -&gt; X ()
forall h. UrgencyHook h =&gt; WithUrgencyHook h -&gt; Event -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#handleEvent"><span class="hs-identifier hs-var">handleEvent</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">h -&gt; UrgencyConfig -&gt; WithUrgencyHook h
forall h. h -&gt; UrgencyConfig -&gt; WithUrgencyHook h
</span><a href="XMonad.Hooks.UrgencyHook.html#WithUrgencyHook"><span class="hs-identifier hs-var">WithUrgencyHook</span></a></span><span> </span><span class="annot"><span class="annottext">h
</span><a href="#local-6989586621679395772"><span class="hs-identifier hs-var">hook</span></a></span><span> </span><span class="annot"><span class="annottext">UrgencyConfig
</span><a href="#local-6989586621679395771"><span class="hs-identifier hs-var">urgConf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Event
</span><a href="#local-6989586621679395768"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">X () -&gt; X All -&gt; X All
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">XConfig l -&gt; Event -&gt; X All
forall (l :: * -&gt; *). XConfig l -&gt; Event -&gt; X All
</span><span class="hs-identifier hs-var hs-var">handleEventHook</span></span><span> </span><span class="annot"><span class="annottext">XConfig l
</span><a href="#local-6989586621679395770"><span class="hs-identifier hs-var">conf</span></a></span><span> </span><span class="annot"><span class="annottext">Event
</span><a href="#local-6989586621679395768"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-211"></span><span>        </span><span class="annot"><span class="annottext">logHook :: X ()
</span><span class="hs-identifier hs-var">logHook</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SuppressWhen -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#cleanupUrgents"><span class="hs-identifier hs-var">cleanupUrgents</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UrgencyConfig -&gt; SuppressWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#suppressWhen"><span class="hs-identifier hs-var hs-var">suppressWhen</span></a></span><span> </span><span class="annot"><span class="annottext">UrgencyConfig
</span><a href="#local-6989586621679395771"><span class="hs-identifier hs-var">urgConf</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">X () -&gt; X () -&gt; X ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">XConfig l -&gt; X ()
forall (l :: * -&gt; *). XConfig l -&gt; X ()
</span><span class="hs-identifier hs-var hs-var">logHook</span></span><span> </span><span class="annot"><span class="annottext">XConfig l
</span><a href="#local-6989586621679395770"><span class="hs-identifier hs-var">conf</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-212"></span><span>        </span><span class="annot"><span class="annottext">startupHook :: X ()
</span><span class="hs-identifier hs-var">startupHook</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#cleanupStaleUrgents"><span class="hs-identifier hs-var">cleanupStaleUrgents</span></a></span><span> </span><span class="annot"><span class="annottext">X () -&gt; X () -&gt; X ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">XConfig l -&gt; X ()
forall (l :: * -&gt; *). XConfig l -&gt; X ()
</span><span class="hs-identifier hs-var hs-var">startupHook</span></span><span> </span><span class="annot"><span class="annottext">XConfig l
</span><a href="#local-6989586621679395770"><span class="hs-identifier hs-var">conf</span></a></span><span>
</span><span id="line-213"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span class="hs-keyword">newtype</span><span> </span><span id="Urgents"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Urgents"><span class="hs-identifier hs-var">Urgents</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Urgents"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Urgents"><span class="hs-identifier hs-var">Urgents</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="fromUrgents"><span class="annot"><span class="annottext">Urgents -&gt; [Window]
</span><a href="XMonad.Hooks.UrgencyHook.html#fromUrgents"><span class="hs-identifier hs-var hs-var">fromUrgents</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679395751"><span id="local-6989586621679395753"><span id="local-6989586621679395755"><span id="local-6989586621679395757"><span class="annot"><span class="annottext">ReadPrec [Urgents]
ReadPrec Urgents
Int -&gt; ReadS Urgents
ReadS [Urgents]
(Int -&gt; ReadS Urgents)
-&gt; ReadS [Urgents]
-&gt; ReadPrec Urgents
-&gt; ReadPrec [Urgents]
-&gt; Read Urgents
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [Urgents]
$creadListPrec :: ReadPrec [Urgents]
readPrec :: ReadPrec Urgents
$creadPrec :: ReadPrec Urgents
readList :: ReadS [Urgents]
$creadList :: ReadS [Urgents]
readsPrec :: Int -&gt; ReadS Urgents
$creadsPrec :: Int -&gt; ReadS Urgents
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679395744"><span id="local-6989586621679395746"><span id="local-6989586621679395748"><span class="annot"><span class="annottext">Int -&gt; Urgents -&gt; ShowS
[Urgents] -&gt; ShowS
Urgents -&gt; String
(Int -&gt; Urgents -&gt; ShowS)
-&gt; (Urgents -&gt; String) -&gt; ([Urgents] -&gt; ShowS) -&gt; Show Urgents
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Urgents] -&gt; ShowS
$cshowList :: [Urgents] -&gt; ShowS
show :: Urgents -&gt; String
$cshow :: Urgents -&gt; String
showsPrec :: Int -&gt; Urgents -&gt; ShowS
$cshowsPrec :: Int -&gt; Urgents -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span>
</span><span id="line-217"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#onUrgents"><span class="hs-identifier hs-type">onUrgents</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Urgents"><span class="hs-identifier hs-type">Urgents</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Urgents"><span class="hs-identifier hs-type">Urgents</span></a></span><span>
</span><span id="line-218"></span><span id="onUrgents"><span class="annot"><span class="annottext">onUrgents :: ([Window] -&gt; [Window]) -&gt; Urgents -&gt; Urgents
</span><a href="XMonad.Hooks.UrgencyHook.html#onUrgents"><span class="hs-identifier hs-var hs-var">onUrgents</span></a></span></span><span> </span><span id="local-6989586621679395741"><span class="annot"><span class="annottext">[Window] -&gt; [Window]
</span><a href="#local-6989586621679395741"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; Urgents
</span><a href="XMonad.Hooks.UrgencyHook.html#Urgents"><span class="hs-identifier hs-var">Urgents</span></a></span><span> </span><span class="annot"><span class="annottext">([Window] -&gt; Urgents)
-&gt; (Urgents -&gt; [Window]) -&gt; Urgents -&gt; Urgents
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; [Window]
</span><a href="#local-6989586621679395741"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">([Window] -&gt; [Window])
-&gt; (Urgents -&gt; [Window]) -&gt; Urgents -&gt; [Window]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Urgents -&gt; [Window]
</span><a href="XMonad.Hooks.UrgencyHook.html#fromUrgents"><span class="hs-identifier hs-var hs-var">fromUrgents</span></a></span><span>
</span><span id="line-219"></span><span>
</span><span id="line-220"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExtensionClass</span></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Urgents"><span class="hs-identifier hs-type">Urgents</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-221"></span><span>    </span><span id="local-6989586621679395735"><span class="annot"><span class="annottext">initialValue :: Urgents
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">initialValue</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; Urgents
</span><a href="XMonad.Hooks.UrgencyHook.html#Urgents"><span class="hs-identifier hs-var">Urgents</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-222"></span><span>    </span><span id="local-6989586621679395733"><span class="annot"><span class="annottext">extensionType :: Urgents -&gt; StateExtension
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">extensionType</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Urgents -&gt; StateExtension
forall a. (Read a, Show a, ExtensionClass a) =&gt; a -&gt; StateExtension
</span><span class="hs-identifier hs-var">PersistentExtension</span></span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span class="hs-comment">-- | Global configuration, applied to all types of 'UrgencyHook'. See</span><span>
</span><span id="line-225"></span><span class="hs-comment">-- 'urgencyConfig' for the defaults.</span><span>
</span><span id="line-226"></span><span class="hs-keyword">data</span><span> </span><span id="UrgencyConfig"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyConfig"><span class="hs-identifier hs-var">UrgencyConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UrgencyConfig"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyConfig"><span class="hs-identifier hs-var">UrgencyConfig</span></a></span></span><span>
</span><span id="line-227"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="suppressWhen"><span class="annot"><span class="annottext">UrgencyConfig -&gt; SuppressWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#suppressWhen"><span class="hs-identifier hs-var hs-var">suppressWhen</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#SuppressWhen"><span class="hs-identifier hs-type">SuppressWhen</span></a></span><span> </span><span class="hs-comment">-- ^ when to trigger the urgency hook</span><span>
</span><span id="line-228"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="remindWhen"><span class="annot"><span class="annottext">UrgencyConfig -&gt; RemindWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#remindWhen"><span class="hs-identifier hs-var hs-var">remindWhen</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#RemindWhen"><span class="hs-identifier hs-type">RemindWhen</span></a></span><span>   </span><span class="hs-comment">-- ^ when to re-trigger the urgency hook</span><span>
</span><span id="line-229"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679395721"><span id="local-6989586621679395723"><span id="local-6989586621679395725"><span id="local-6989586621679395727"><span class="annot"><span class="annottext">ReadPrec [UrgencyConfig]
ReadPrec UrgencyConfig
Int -&gt; ReadS UrgencyConfig
ReadS [UrgencyConfig]
(Int -&gt; ReadS UrgencyConfig)
-&gt; ReadS [UrgencyConfig]
-&gt; ReadPrec UrgencyConfig
-&gt; ReadPrec [UrgencyConfig]
-&gt; Read UrgencyConfig
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [UrgencyConfig]
$creadListPrec :: ReadPrec [UrgencyConfig]
readPrec :: ReadPrec UrgencyConfig
$creadPrec :: ReadPrec UrgencyConfig
readList :: ReadS [UrgencyConfig]
$creadList :: ReadS [UrgencyConfig]
readsPrec :: Int -&gt; ReadS UrgencyConfig
$creadsPrec :: Int -&gt; ReadS UrgencyConfig
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679395715"><span id="local-6989586621679395717"><span id="local-6989586621679395719"><span class="annot"><span class="annottext">Int -&gt; UrgencyConfig -&gt; ShowS
[UrgencyConfig] -&gt; ShowS
UrgencyConfig -&gt; String
(Int -&gt; UrgencyConfig -&gt; ShowS)
-&gt; (UrgencyConfig -&gt; String)
-&gt; ([UrgencyConfig] -&gt; ShowS)
-&gt; Show UrgencyConfig
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [UrgencyConfig] -&gt; ShowS
$cshowList :: [UrgencyConfig] -&gt; ShowS
show :: UrgencyConfig -&gt; String
$cshow :: UrgencyConfig -&gt; String
showsPrec :: Int -&gt; UrgencyConfig -&gt; ShowS
$cshowsPrec :: Int -&gt; UrgencyConfig -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="hs-comment">-- | A set of choices as to /when/ you should (or rather, shouldn't) be notified of an urgent window.</span><span>
</span><span id="line-232"></span><span class="hs-comment">-- The default is 'Visible'. Prefix each of the following with \&quot;don't bug me when\&quot;:</span><span>
</span><span id="line-233"></span><span class="hs-keyword">data</span><span> </span><span id="SuppressWhen"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#SuppressWhen"><span class="hs-identifier hs-var">SuppressWhen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Visible"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Visible"><span class="hs-identifier hs-var">Visible</span></a></span></span><span>  </span><span class="hs-comment">-- ^ the window is currently visible</span><span>
</span><span id="line-234"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span id="OnScreen"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#OnScreen"><span class="hs-identifier hs-var">OnScreen</span></a></span></span><span> </span><span class="hs-comment">-- ^ the window is on the currently focused physical screen</span><span>
</span><span id="line-235"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span id="Focused"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Focused"><span class="hs-identifier hs-var">Focused</span></a></span></span><span>  </span><span class="hs-comment">-- ^ the window is currently focused</span><span>
</span><span id="line-236"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span id="Never"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Never"><span class="hs-identifier hs-var">Never</span></a></span></span><span>    </span><span class="hs-comment">-- ^ ... aww, heck, go ahead and bug me, just in case.</span><span>
</span><span id="line-237"></span><span>                  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679395703"><span id="local-6989586621679395705"><span id="local-6989586621679395707"><span id="local-6989586621679395709"><span class="annot"><span class="annottext">ReadPrec [SuppressWhen]
ReadPrec SuppressWhen
Int -&gt; ReadS SuppressWhen
ReadS [SuppressWhen]
(Int -&gt; ReadS SuppressWhen)
-&gt; ReadS [SuppressWhen]
-&gt; ReadPrec SuppressWhen
-&gt; ReadPrec [SuppressWhen]
-&gt; Read SuppressWhen
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [SuppressWhen]
$creadListPrec :: ReadPrec [SuppressWhen]
readPrec :: ReadPrec SuppressWhen
$creadPrec :: ReadPrec SuppressWhen
readList :: ReadS [SuppressWhen]
$creadList :: ReadS [SuppressWhen]
readsPrec :: Int -&gt; ReadS SuppressWhen
$creadsPrec :: Int -&gt; ReadS SuppressWhen
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679395697"><span id="local-6989586621679395699"><span id="local-6989586621679395701"><span class="annot"><span class="annottext">Int -&gt; SuppressWhen -&gt; ShowS
[SuppressWhen] -&gt; ShowS
SuppressWhen -&gt; String
(Int -&gt; SuppressWhen -&gt; ShowS)
-&gt; (SuppressWhen -&gt; String)
-&gt; ([SuppressWhen] -&gt; ShowS)
-&gt; Show SuppressWhen
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SuppressWhen] -&gt; ShowS
$cshowList :: [SuppressWhen] -&gt; ShowS
show :: SuppressWhen -&gt; String
$cshow :: SuppressWhen -&gt; String
showsPrec :: Int -&gt; SuppressWhen -&gt; ShowS
$cshowsPrec :: Int -&gt; SuppressWhen -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="hs-comment">-- | A set of choices as to when you want to be re-notified of an urgent</span><span>
</span><span id="line-240"></span><span class="hs-comment">-- window. Perhaps you focused on something and you miss the dzen popup bar. Or</span><span>
</span><span id="line-241"></span><span class="hs-comment">-- you're AFK. Or you feel the need to be more distracted. I don't care.</span><span>
</span><span id="line-242"></span><span class="hs-comment">--</span><span>
</span><span id="line-243"></span><span class="hs-comment">-- The interval arguments are in seconds. See the 'minutes' helper.</span><span>
</span><span id="line-244"></span><span class="hs-keyword">data</span><span> </span><span id="RemindWhen"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#RemindWhen"><span class="hs-identifier hs-var">RemindWhen</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Dont"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Dont"><span class="hs-identifier hs-var">Dont</span></a></span></span><span>                    </span><span class="hs-comment">-- ^ triggering once is enough</span><span>
</span><span id="line-245"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span id="Repeatedly"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Repeatedly"><span class="hs-identifier hs-var">Repeatedly</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span> </span><span class="hs-comment">-- ^ repeat &lt;arg1&gt; times every &lt;arg2&gt; seconds</span><span>
</span><span id="line-246"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span id="Every"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Every"><span class="hs-identifier hs-var">Every</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span>          </span><span class="hs-comment">-- ^ repeat every &lt;arg1&gt; until the urgency hint is cleared</span><span>
</span><span id="line-247"></span><span>                </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679395686"><span id="local-6989586621679395688"><span id="local-6989586621679395690"><span id="local-6989586621679395692"><span class="annot"><span class="annottext">ReadPrec [RemindWhen]
ReadPrec RemindWhen
Int -&gt; ReadS RemindWhen
ReadS [RemindWhen]
(Int -&gt; ReadS RemindWhen)
-&gt; ReadS [RemindWhen]
-&gt; ReadPrec RemindWhen
-&gt; ReadPrec [RemindWhen]
-&gt; Read RemindWhen
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [RemindWhen]
$creadListPrec :: ReadPrec [RemindWhen]
readPrec :: ReadPrec RemindWhen
$creadPrec :: ReadPrec RemindWhen
readList :: ReadS [RemindWhen]
$creadList :: ReadS [RemindWhen]
readsPrec :: Int -&gt; ReadS RemindWhen
$creadsPrec :: Int -&gt; ReadS RemindWhen
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679395680"><span id="local-6989586621679395682"><span id="local-6989586621679395684"><span class="annot"><span class="annottext">Int -&gt; RemindWhen -&gt; ShowS
[RemindWhen] -&gt; ShowS
RemindWhen -&gt; String
(Int -&gt; RemindWhen -&gt; ShowS)
-&gt; (RemindWhen -&gt; String)
-&gt; ([RemindWhen] -&gt; ShowS)
-&gt; Show RemindWhen
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [RemindWhen] -&gt; ShowS
$cshowList :: [RemindWhen] -&gt; ShowS
show :: RemindWhen -&gt; String
$cshow :: RemindWhen -&gt; String
showsPrec :: Int -&gt; RemindWhen -&gt; ShowS
$cshowsPrec :: Int -&gt; RemindWhen -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="hs-comment">-- | A prettified way of multiplying by 60. Use like: @(5 `minutes`)@.</span><span>
</span><span id="line-250"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#minutes"><span class="hs-identifier hs-type">minutes</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-251"></span><span id="minutes"><span class="annot"><span class="annottext">minutes :: Rational -&gt; Rational
</span><a href="XMonad.Hooks.UrgencyHook.html#minutes"><span class="hs-identifier hs-var hs-var">minutes</span></a></span></span><span> </span><span id="local-6989586621679395679"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679395679"><span class="hs-identifier hs-var">secs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679395679"><span class="hs-identifier hs-var">secs</span></a></span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Rational -&gt; Rational
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">60</span></span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span class="hs-comment">-- | The default 'UrgencyConfig'. suppressWhen = Visible, remindWhen = Dont.</span><span>
</span><span id="line-254"></span><span class="hs-comment">-- Use a variation of this in your config just as you use a variation of</span><span>
</span><span id="line-255"></span><span class="hs-comment">-- 'def' for your xmonad definition.</span><span>
</span><span id="line-256"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#urgencyConfig"><span class="hs-identifier hs-type">urgencyConfig</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyConfig"><span class="hs-identifier hs-type">UrgencyConfig</span></a></span><span>
</span><span id="line-257"></span><span id="urgencyConfig"><span class="annot"><span class="annottext">urgencyConfig :: UrgencyConfig
</span><a href="XMonad.Hooks.UrgencyHook.html#urgencyConfig"><span class="hs-identifier hs-var hs-var">urgencyConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UrgencyConfig :: SuppressWhen -&gt; RemindWhen -&gt; UrgencyConfig
</span><a href="XMonad.Hooks.UrgencyHook.html#UrgencyConfig"><span class="hs-identifier hs-type">UrgencyConfig</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">suppressWhen :: SuppressWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#suppressWhen"><span class="hs-identifier hs-var">suppressWhen</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SuppressWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#Visible"><span class="hs-identifier hs-var">Visible</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">remindWhen :: RemindWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#remindWhen"><span class="hs-identifier hs-var">remindWhen</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemindWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#Dont"><span class="hs-identifier hs-var">Dont</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-258"></span><span>
</span><span id="line-259"></span><span class="hs-comment">-- | Focuses the most recently urgent window. Good for what ails ya -- I mean, your keybindings.</span><span>
</span><span id="line-260"></span><span class="hs-comment">-- Example keybinding:</span><span>
</span><span id="line-261"></span><span class="hs-comment">--</span><span>
</span><span id="line-262"></span><span class="hs-comment">-- &gt; , ((modm              , xK_BackSpace), focusUrgent)</span><span>
</span><span id="line-263"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#focusUrgent"><span class="hs-identifier hs-type">focusUrgent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span id="focusUrgent"><span class="annot"><span class="annottext">focusUrgent :: X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#focusUrgent"><span class="hs-identifier hs-var hs-var">focusUrgent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Window] -&gt; X ()) -&gt; X ()
forall a. ([Window] -&gt; X a) -&gt; X a
</span><a href="XMonad.Hooks.UrgencyHook.html#withUrgents"><span class="hs-identifier hs-var">withUrgents</span></a></span><span> </span><span class="annot"><span class="annottext">(([Window] -&gt; X ()) -&gt; X ()) -&gt; ([Window] -&gt; X ()) -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Window -&gt; (Window -&gt; X ()) -&gt; X ())
-&gt; (Window -&gt; X ()) -&gt; Maybe Window -&gt; X ()
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Maybe Window -&gt; (Window -&gt; X ()) -&gt; X ()
forall (m :: * -&gt; *) a. Monad m =&gt; Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><span class="hs-identifier hs-var">whenJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(WindowSet -&gt; WindowSet) -&gt; X ()
</span><span class="hs-identifier hs-var">windows</span></span><span> </span><span class="annot"><span class="annottext">((WindowSet -&gt; WindowSet) -&gt; X ())
-&gt; (Window -&gt; WindowSet -&gt; WindowSet) -&gt; Window -&gt; X ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Window -&gt; WindowSet -&gt; WindowSet
forall s a i l sd.
(Eq s, Eq a, Eq i) =&gt;
a -&gt; StackSet i l a s sd -&gt; StackSet i l a s sd
</span><span class="hs-identifier hs-var">W.focusWindow</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe Window -&gt; X ())
-&gt; ([Window] -&gt; Maybe Window) -&gt; [Window] -&gt; X ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; Maybe Window
forall a. [a] -&gt; Maybe a
</span><span class="hs-identifier hs-var">listToMaybe</span></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-comment">-- | Just makes the urgents go away.</span><span>
</span><span id="line-267"></span><span class="hs-comment">-- Example keybinding:</span><span>
</span><span id="line-268"></span><span class="hs-comment">--</span><span>
</span><span id="line-269"></span><span class="hs-comment">-- &gt; , ((modm .|. shiftMask, xK_BackSpace), clearUrgents)</span><span>
</span><span id="line-270"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#clearUrgents"><span class="hs-identifier hs-type">clearUrgents</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span id="clearUrgents"><span class="annot"><span class="annottext">clearUrgents :: X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#clearUrgents"><span class="hs-identifier hs-var hs-var">clearUrgents</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Window] -&gt; X ()) -&gt; X ()
forall a. ([Window] -&gt; X a) -&gt; X a
</span><a href="XMonad.Hooks.UrgencyHook.html#withUrgents"><span class="hs-identifier hs-var">withUrgents</span></a></span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#clearUrgents%27"><span class="hs-identifier hs-var">clearUrgents'</span></a></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-comment">-- | X action that returns a list of currently urgent windows. You might use</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- it, or 'withUrgents', in your custom logHook, to display the workspaces that</span><span>
</span><span id="line-275"></span><span class="hs-comment">-- contain urgent windows.</span><span>
</span><span id="line-276"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#readUrgents"><span class="hs-identifier hs-type">readUrgents</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">]</span><span>
</span><span id="line-277"></span><span id="readUrgents"><span class="annot"><span class="annottext">readUrgents :: X [Window]
</span><a href="XMonad.Hooks.UrgencyHook.html#readUrgents"><span class="hs-identifier hs-var hs-var">readUrgents</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Urgents -&gt; [Window]) -&gt; X [Window]
forall a (m :: * -&gt; *) b.
(ExtensionClass a, XLike m) =&gt;
(a -&gt; b) -&gt; m b
</span><a href="XMonad.Util.ExtensibleState.html#gets"><span class="hs-identifier hs-var">XS.gets</span></a></span><span> </span><span class="annot"><span class="annottext">Urgents -&gt; [Window]
</span><a href="XMonad.Hooks.UrgencyHook.html#fromUrgents"><span class="hs-identifier hs-var hs-var">fromUrgents</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="hs-comment">-- | An HOF version of 'readUrgents', for those who prefer that sort of thing.</span><span>
</span><span id="line-280"></span><span id="local-6989586621679395953"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#withUrgents"><span class="hs-identifier hs-type">withUrgents</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="#local-6989586621679395953"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="#local-6989586621679395953"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-281"></span><span id="withUrgents"><span class="annot"><span class="annottext">withUrgents :: ([Window] -&gt; X a) -&gt; X a
</span><a href="XMonad.Hooks.UrgencyHook.html#withUrgents"><span class="hs-identifier hs-var hs-var">withUrgents</span></a></span></span><span> </span><span id="local-6989586621679395672"><span class="annot"><span class="annottext">[Window] -&gt; X a
</span><a href="#local-6989586621679395672"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">X [Window]
</span><a href="XMonad.Hooks.UrgencyHook.html#readUrgents"><span class="hs-identifier hs-var">readUrgents</span></a></span><span> </span><span class="annot"><span class="annottext">X [Window] -&gt; ([Window] -&gt; X a) -&gt; X a
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; X a
</span><a href="#local-6989586621679395672"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-282"></span><span>
</span><span id="line-283"></span><span class="hs-comment">-- | Cleanup urgency and reminders for windows that no longer exist.</span><span>
</span><span id="line-284"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#cleanupStaleUrgents"><span class="hs-identifier hs-type">cleanupStaleUrgents</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-285"></span><span id="cleanupStaleUrgents"><span class="annot"><span class="annottext">cleanupStaleUrgents :: X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#cleanupStaleUrgents"><span class="hs-identifier hs-var hs-var">cleanupStaleUrgents</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; X ()) -&gt; X ()
forall a. (WindowSet -&gt; X a) -&gt; X a
</span><span class="hs-identifier hs-var">withWindowSet</span></span><span> </span><span class="annot"><span class="annottext">((WindowSet -&gt; X ()) -&gt; X ()) -&gt; (WindowSet -&gt; X ()) -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679395670"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679395670"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-286"></span><span>    </span><span class="annot"><span class="annottext">([Window] -&gt; [Window]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#adjustUrgents"><span class="hs-identifier hs-var">adjustUrgents</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Window -&gt; Bool) -&gt; [Window] -&gt; [Window]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window -&gt; WindowSet -&gt; Bool
forall a i l s sd. Eq a =&gt; a -&gt; StackSet i l a s sd -&gt; Bool
</span><span class="hs-operator hs-var">`W.member`</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679395670"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>    </span><span class="annot"><span class="annottext">([Reminder] -&gt; [Reminder]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#adjustReminders"><span class="hs-identifier hs-var">adjustReminders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Reminder -&gt; Bool) -&gt; [Reminder] -&gt; [Reminder]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window -&gt; WindowSet -&gt; Bool
forall a i l s sd. Eq a =&gt; a -&gt; StackSet i l a s sd -&gt; Bool
</span><span class="hs-operator hs-var">`W.member`</span></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679395670"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Window -&gt; Bool) -&gt; (Reminder -&gt; Window) -&gt; Reminder -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Reminder -&gt; Window
</span><a href="XMonad.Hooks.UrgencyHook.html#window"><span class="hs-identifier hs-var hs-var">window</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-288"></span><span>
</span><span id="line-289"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#adjustUrgents"><span class="hs-identifier hs-type">adjustUrgents</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-290"></span><span id="adjustUrgents"><span class="annot"><span class="annottext">adjustUrgents :: ([Window] -&gt; [Window]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#adjustUrgents"><span class="hs-identifier hs-var hs-var">adjustUrgents</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Urgents -&gt; Urgents) -&gt; X ()
forall a (m :: * -&gt; *).
(ExtensionClass a, XLike m) =&gt;
(a -&gt; a) -&gt; m ()
</span><a href="XMonad.Util.ExtensibleState.html#modify"><span class="hs-identifier hs-var">XS.modify</span></a></span><span> </span><span class="annot"><span class="annottext">((Urgents -&gt; Urgents) -&gt; X ())
-&gt; (([Window] -&gt; [Window]) -&gt; Urgents -&gt; Urgents)
-&gt; ([Window] -&gt; [Window])
-&gt; X ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([Window] -&gt; [Window]) -&gt; Urgents -&gt; Urgents
</span><a href="XMonad.Hooks.UrgencyHook.html#onUrgents"><span class="hs-identifier hs-var">onUrgents</span></a></span><span>
</span><span id="line-291"></span><span>
</span><span id="line-292"></span><span class="hs-keyword">type</span><span> </span><span id="Interval"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Interval"><span class="hs-identifier hs-var">Interval</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-comment">-- | An urgency reminder, as reified for 'RemindWhen'.</span><span>
</span><span id="line-295"></span><span class="hs-comment">-- The last value is the countdown number, for 'Repeatedly'.</span><span>
</span><span id="line-296"></span><span class="hs-keyword">data</span><span> </span><span id="Reminder"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Reminder"><span class="hs-identifier hs-var">Reminder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Reminder"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Reminder"><span class="hs-identifier hs-var">Reminder</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="timer"><span class="annot"><span class="annottext">Reminder -&gt; Int
</span><a href="XMonad.Hooks.UrgencyHook.html#timer"><span class="hs-identifier hs-var hs-var">timer</span></a></span></span><span>     </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Timer.html#TimerId"><span class="hs-identifier hs-type">TimerId</span></a></span><span>
</span><span id="line-297"></span><span>                         </span><span class="hs-special">,</span><span> </span><span id="window"><span class="annot"><span class="annottext">Reminder -&gt; Window
</span><a href="XMonad.Hooks.UrgencyHook.html#window"><span class="hs-identifier hs-var hs-var">window</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span>
</span><span id="line-298"></span><span>                         </span><span class="hs-special">,</span><span> </span><span id="interval"><span class="annot"><span class="annottext">Reminder -&gt; Rational
</span><a href="XMonad.Hooks.UrgencyHook.html#interval"><span class="hs-identifier hs-var hs-var">interval</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Interval"><span class="hs-identifier hs-type">Interval</span></a></span><span>
</span><span id="line-299"></span><span>                         </span><span class="hs-special">,</span><span> </span><span id="remaining"><span class="annot"><span class="annottext">Reminder -&gt; Maybe Int
</span><a href="XMonad.Hooks.UrgencyHook.html#remaining"><span class="hs-identifier hs-var hs-var">remaining</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-300"></span><span>                         </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679395655"><span id="local-6989586621679395657"><span id="local-6989586621679395659"><span class="annot"><span class="annottext">Int -&gt; Reminder -&gt; ShowS
[Reminder] -&gt; ShowS
Reminder -&gt; String
(Int -&gt; Reminder -&gt; ShowS)
-&gt; (Reminder -&gt; String) -&gt; ([Reminder] -&gt; ShowS) -&gt; Show Reminder
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Reminder] -&gt; ShowS
$cshowList :: [Reminder] -&gt; ShowS
show :: Reminder -&gt; String
$cshow :: Reminder -&gt; String
showsPrec :: Int -&gt; Reminder -&gt; ShowS
$cshowsPrec :: Int -&gt; Reminder -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679395647"><span id="local-6989586621679395649"><span id="local-6989586621679395651"><span id="local-6989586621679395653"><span class="annot"><span class="annottext">ReadPrec [Reminder]
ReadPrec Reminder
Int -&gt; ReadS Reminder
ReadS [Reminder]
(Int -&gt; ReadS Reminder)
-&gt; ReadS [Reminder]
-&gt; ReadPrec Reminder
-&gt; ReadPrec [Reminder]
-&gt; Read Reminder
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [Reminder]
$creadListPrec :: ReadPrec [Reminder]
readPrec :: ReadPrec Reminder
$creadPrec :: ReadPrec Reminder
readList :: ReadS [Reminder]
$creadList :: ReadS [Reminder]
readsPrec :: Int -&gt; ReadS Reminder
$creadsPrec :: Int -&gt; ReadS Reminder
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span id="local-6989586621679395643"><span id="local-6989586621679395645"><span class="annot"><span class="annottext">Reminder -&gt; Reminder -&gt; Bool
(Reminder -&gt; Reminder -&gt; Bool)
-&gt; (Reminder -&gt; Reminder -&gt; Bool) -&gt; Eq Reminder
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Reminder -&gt; Reminder -&gt; Bool
$c/= :: Reminder -&gt; Reminder -&gt; Bool
== :: Reminder -&gt; Reminder -&gt; Bool
$c== :: Reminder -&gt; Reminder -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-301"></span><span>
</span><span id="line-302"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExtensionClass</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Reminder"><span class="hs-identifier hs-type">Reminder</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-303"></span><span>    </span><span id="local-6989586621679395638"><span class="annot"><span class="annottext">initialValue :: [Reminder]
</span><a href="#local-6989586621679395638"><span class="hs-identifier hs-var hs-var hs-var hs-var">initialValue</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-304"></span><span>    </span><span id="local-6989586621679395637"><span class="annot"><span class="annottext">extensionType :: [Reminder] -&gt; StateExtension
</span><a href="#local-6989586621679395637"><span class="hs-identifier hs-var hs-var hs-var hs-var">extensionType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Reminder] -&gt; StateExtension
forall a. (Read a, Show a, ExtensionClass a) =&gt; a -&gt; StateExtension
</span><span class="hs-identifier hs-var">PersistentExtension</span></span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span class="hs-comment">-- | Stores the list of urgency reminders.</span><span>
</span><span id="line-307"></span><span>
</span><span id="line-308"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#readReminders"><span class="hs-identifier hs-type">readReminders</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Reminder"><span class="hs-identifier hs-type">Reminder</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-309"></span><span id="readReminders"><span class="annot"><span class="annottext">readReminders :: X [Reminder]
</span><a href="XMonad.Hooks.UrgencyHook.html#readReminders"><span class="hs-identifier hs-var hs-var">readReminders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">X [Reminder]
forall a (m :: * -&gt; *). (ExtensionClass a, XLike m) =&gt; m a
</span><a href="XMonad.Util.ExtensibleState.html#get"><span class="hs-identifier hs-var">XS.get</span></a></span><span>
</span><span id="line-310"></span><span>
</span><span id="line-311"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#adjustReminders"><span class="hs-identifier hs-type">adjustReminders</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Reminder"><span class="hs-identifier hs-type">Reminder</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Reminder"><span class="hs-identifier hs-type">Reminder</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-312"></span><span id="adjustReminders"><span class="annot"><span class="annottext">adjustReminders :: ([Reminder] -&gt; [Reminder]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#adjustReminders"><span class="hs-identifier hs-var hs-var">adjustReminders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">([Reminder] -&gt; [Reminder]) -&gt; X ()
forall a (m :: * -&gt; *).
(ExtensionClass a, XLike m) =&gt;
(a -&gt; a) -&gt; m ()
</span><a href="XMonad.Util.ExtensibleState.html#modify"><span class="hs-identifier hs-var">XS.modify</span></a></span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span class="hs-keyword">data</span><span> </span><span id="WithUrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#WithUrgencyHook"><span class="hs-identifier hs-var">WithUrgencyHook</span></a></span></span><span> </span><span id="local-6989586621679395977"><span class="annot"><a href="#local-6989586621679395977"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="WithUrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#WithUrgencyHook"><span class="hs-identifier hs-var">WithUrgencyHook</span></a></span></span><span> </span><span class="annot"><a href="#local-6989586621679395977"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyConfig"><span class="hs-identifier hs-type">UrgencyConfig</span></a></span><span>
</span><span id="line-316"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679395627"><span id="local-6989586621679395629"><span id="local-6989586621679395631"><span id="local-6989586621679395633"><span class="annot"><span class="annottext">ReadPrec [WithUrgencyHook h]
ReadPrec (WithUrgencyHook h)
Int -&gt; ReadS (WithUrgencyHook h)
ReadS [WithUrgencyHook h]
(Int -&gt; ReadS (WithUrgencyHook h))
-&gt; ReadS [WithUrgencyHook h]
-&gt; ReadPrec (WithUrgencyHook h)
-&gt; ReadPrec [WithUrgencyHook h]
-&gt; Read (WithUrgencyHook h)
forall h. Read h =&gt; ReadPrec [WithUrgencyHook h]
forall h. Read h =&gt; ReadPrec (WithUrgencyHook h)
forall h. Read h =&gt; Int -&gt; ReadS (WithUrgencyHook h)
forall h. Read h =&gt; ReadS [WithUrgencyHook h]
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [WithUrgencyHook h]
$creadListPrec :: forall h. Read h =&gt; ReadPrec [WithUrgencyHook h]
readPrec :: ReadPrec (WithUrgencyHook h)
$creadPrec :: forall h. Read h =&gt; ReadPrec (WithUrgencyHook h)
readList :: ReadS [WithUrgencyHook h]
$creadList :: forall h. Read h =&gt; ReadS [WithUrgencyHook h]
readsPrec :: Int -&gt; ReadS (WithUrgencyHook h)
$creadsPrec :: forall h. Read h =&gt; Int -&gt; ReadS (WithUrgencyHook h)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679395621"><span id="local-6989586621679395623"><span id="local-6989586621679395625"><span class="annot"><span class="annottext">Int -&gt; WithUrgencyHook h -&gt; ShowS
[WithUrgencyHook h] -&gt; ShowS
WithUrgencyHook h -&gt; String
(Int -&gt; WithUrgencyHook h -&gt; ShowS)
-&gt; (WithUrgencyHook h -&gt; String)
-&gt; ([WithUrgencyHook h] -&gt; ShowS)
-&gt; Show (WithUrgencyHook h)
forall h. Show h =&gt; Int -&gt; WithUrgencyHook h -&gt; ShowS
forall h. Show h =&gt; [WithUrgencyHook h] -&gt; ShowS
forall h. Show h =&gt; WithUrgencyHook h -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [WithUrgencyHook h] -&gt; ShowS
$cshowList :: forall h. Show h =&gt; [WithUrgencyHook h] -&gt; ShowS
show :: WithUrgencyHook h -&gt; String
$cshow :: forall h. Show h =&gt; WithUrgencyHook h -&gt; String
showsPrec :: Int -&gt; WithUrgencyHook h -&gt; ShowS
$cshowsPrec :: forall h. Show h =&gt; Int -&gt; WithUrgencyHook h -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-317"></span><span>
</span><span id="line-318"></span><span class="hs-comment">-- | Change the _NET_WM_STATE property by applying a function to the list of atoms.</span><span>
</span><span id="line-319"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#changeNetWMState"><span class="hs-identifier hs-type">changeNetWMState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Display</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-320"></span><span id="changeNetWMState"><span class="annot"><span class="annottext">changeNetWMState :: Display -&gt; Window -&gt; ([CLong] -&gt; [CLong]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#changeNetWMState"><span class="hs-identifier hs-var hs-var">changeNetWMState</span></a></span></span><span> </span><span id="local-6989586621679395619"><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395619"><span class="hs-identifier hs-var">dpy</span></a></span></span><span> </span><span id="local-6989586621679395618"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395618"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679395617"><span class="annot"><span class="annottext">[CLong] -&gt; [CLong]
</span><a href="#local-6989586621679395617"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-321"></span><span>   </span><span id="local-6989586621679395616"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395616"><span class="hs-identifier hs-var">wmstate</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; X Window
</span><span class="hs-identifier hs-var">getAtom</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_NET_WM_STATE&quot;</span></span><span>
</span><span id="line-322"></span><span>   </span><span id="local-6989586621679395614"><span class="annot"><span class="annottext">[CLong]
</span><a href="#local-6989586621679395614"><span class="hs-identifier hs-var">wstate</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[CLong] -&gt; Maybe [CLong] -&gt; [CLong]
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(Maybe [CLong] -&gt; [CLong]) -&gt; X (Maybe [CLong]) -&gt; X [CLong]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Window -&gt; Window -&gt; X (Maybe [CLong])
</span><a href="XMonad.Util.WindowProperties.html#getProp32"><span class="hs-identifier hs-var">getProp32</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395616"><span class="hs-identifier hs-var">wmstate</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395618"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-323"></span><span>   </span><span class="annot"><span class="annottext">IO () -&gt; X ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; X ()) -&gt; IO () -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Display -&gt; Window -&gt; Window -&gt; Window -&gt; CInt -&gt; [CLong] -&gt; IO ()
</span><span class="hs-identifier hs-var">changeProperty32</span></span><span> </span><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395619"><span class="hs-identifier hs-var">dpy</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395618"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395616"><span class="hs-identifier hs-var">wmstate</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><span class="hs-identifier hs-var">aTOM</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-identifier hs-var">propModeReplace</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[CLong] -&gt; [CLong]
</span><a href="#local-6989586621679395617"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">[CLong]
</span><a href="#local-6989586621679395614"><span class="hs-identifier hs-var">wstate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-324"></span><span>   </span><span class="annot"><span class="annottext">() -&gt; X ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>
</span><span id="line-326"></span><span class="hs-comment">-- | Add an atom to the _NET_WM_STATE property.</span><span>
</span><span id="line-327"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#addNetWMState"><span class="hs-identifier hs-type">addNetWMState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Display</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Atom</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-328"></span><span id="addNetWMState"><span class="annot"><span class="annottext">addNetWMState :: Display -&gt; Window -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#addNetWMState"><span class="hs-identifier hs-var hs-var">addNetWMState</span></a></span></span><span> </span><span id="local-6989586621679395606"><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395606"><span class="hs-identifier hs-var">dpy</span></a></span></span><span> </span><span id="local-6989586621679395605"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395605"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679395604"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395604"><span class="hs-identifier hs-var">atom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Display -&gt; Window -&gt; ([CLong] -&gt; [CLong]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#changeNetWMState"><span class="hs-identifier hs-var">changeNetWMState</span></a></span><span> </span><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395606"><span class="hs-identifier hs-var">dpy</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395605"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window -&gt; CLong
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395604"><span class="hs-identifier hs-var">atom</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; [CLong] -&gt; [CLong]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span>
</span><span id="line-329"></span><span>
</span><span id="line-330"></span><span class="hs-comment">-- | Remove an atom from the _NET_WM_STATE property.</span><span>
</span><span id="line-331"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#removeNetWMState"><span class="hs-identifier hs-type">removeNetWMState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Display</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Atom</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-332"></span><span id="removeNetWMState"><span class="annot"><span class="annottext">removeNetWMState :: Display -&gt; Window -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#removeNetWMState"><span class="hs-identifier hs-var hs-var">removeNetWMState</span></a></span></span><span> </span><span id="local-6989586621679395602"><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395602"><span class="hs-identifier hs-var">dpy</span></a></span></span><span> </span><span id="local-6989586621679395601"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395601"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679395600"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395600"><span class="hs-identifier hs-var">atom</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Display -&gt; Window -&gt; ([CLong] -&gt; [CLong]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#changeNetWMState"><span class="hs-identifier hs-var">changeNetWMState</span></a></span><span> </span><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395602"><span class="hs-identifier hs-var">dpy</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395601"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">(([CLong] -&gt; [CLong]) -&gt; X ()) -&gt; ([CLong] -&gt; [CLong]) -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; [CLong] -&gt; [CLong]
forall a. Eq a =&gt; a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">delete</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window -&gt; CLong
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395600"><span class="hs-identifier hs-var">atom</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-333"></span><span>
</span><span id="line-334"></span><span class="hs-comment">-- | Get the _NET_WM_STATE propertly as a [CLong]</span><span>
</span><span id="line-335"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#getNetWMState"><span class="hs-identifier hs-type">getNetWMState</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">CLong</span></span><span class="hs-special">]</span><span>
</span><span id="line-336"></span><span id="getNetWMState"><span class="annot"><span class="annottext">getNetWMState :: Window -&gt; X [CLong]
</span><a href="XMonad.Hooks.UrgencyHook.html#getNetWMState"><span class="hs-identifier hs-var hs-var">getNetWMState</span></a></span></span><span> </span><span id="local-6989586621679395598"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395598"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-337"></span><span>    </span><span id="local-6989586621679395597"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395597"><span class="hs-identifier hs-var">a_wmstate</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; X Window
</span><span class="hs-identifier hs-var">getAtom</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_NET_WM_STATE&quot;</span></span><span>
</span><span id="line-338"></span><span>    </span><span class="annot"><span class="annottext">[CLong] -&gt; Maybe [CLong] -&gt; [CLong]
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">(Maybe [CLong] -&gt; [CLong]) -&gt; X (Maybe [CLong]) -&gt; X [CLong]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Window -&gt; Window -&gt; X (Maybe [CLong])
</span><a href="XMonad.Util.WindowProperties.html#getProp32"><span class="hs-identifier hs-var">getProp32</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395597"><span class="hs-identifier hs-var">a_wmstate</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395598"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-339"></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-comment">-- The Non-ICCCM Manifesto:</span><span>
</span><span id="line-342"></span><span class="hs-comment">-- Note: Some non-standard choices have been made in this implementation to</span><span>
</span><span id="line-343"></span><span class="hs-comment">-- account for the fact that things are different in a tiling window manager:</span><span>
</span><span id="line-344"></span><span class="hs-comment">--   1. In normal window managers, windows may overlap, so clients wait for focus to</span><span>
</span><span id="line-345"></span><span class="hs-comment">--      be set before urgency is cleared. In a tiling WM, it's sufficient to be able</span><span>
</span><span id="line-346"></span><span class="hs-comment">--      see the window, since we know that means you can see it completely.</span><span>
</span><span id="line-347"></span><span class="hs-comment">--   2. The urgentOnBell setting in rxvt-unicode sets urgency even when the window</span><span>
</span><span id="line-348"></span><span class="hs-comment">--      has focus, and won't clear until it loses and regains focus. This is stupid.</span><span>
</span><span id="line-349"></span><span class="hs-comment">-- In order to account for these quirks, we track the list of urgent windows</span><span>
</span><span id="line-350"></span><span class="hs-comment">-- ourselves, allowing us to clear urgency when a window is visible, and not to</span><span>
</span><span id="line-351"></span><span class="hs-comment">-- set urgency if a window is visible. If you have a better idea, please, let us</span><span>
</span><span id="line-352"></span><span class="hs-comment">-- know!</span><span>
</span><span id="line-353"></span><span id="local-6989586621679395978"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#handleEvent"><span class="hs-identifier hs-type">handleEvent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-type">UrgencyHook</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395978"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#WithUrgencyHook"><span class="hs-identifier hs-type">WithUrgencyHook</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395978"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Event</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-354"></span><span id="handleEvent"><span class="annot"><span class="annottext">handleEvent :: WithUrgencyHook h -&gt; Event -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#handleEvent"><span class="hs-identifier hs-var hs-var">handleEvent</span></a></span></span><span> </span><span id="local-6989586621679395596"><span class="annot"><span class="annottext">WithUrgencyHook h
</span><a href="#local-6989586621679395596"><span class="hs-identifier hs-var">wuh</span></a></span></span><span> </span><span id="local-6989586621679395595"><span class="annot"><span class="annottext">Event
</span><a href="#local-6989586621679395595"><span class="hs-identifier hs-var">event</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-355"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Event
</span><a href="#local-6989586621679395595"><span class="hs-identifier hs-var">event</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-356"></span><span>     </span><span class="hs-comment">-- WM_HINTS urgency flag</span><span>
</span><span id="line-357"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">PropertyEvent</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">ev_event_type :: Event -&gt; EventType
</span><span class="hs-identifier hs-var">ev_event_type</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395592"><span class="annot"><span class="annottext">EventType
</span><a href="#local-6989586621679395592"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ev_atom :: Event -&gt; Window
</span><span class="hs-identifier hs-var">ev_atom</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395590"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395590"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ev_window :: Event -&gt; Window
</span><span class="hs-identifier hs-var">ev_window</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395588"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395588"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-358"></span><span>          </span><span class="annot"><span class="annottext">Bool -&gt; X () -&gt; X ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EventType
</span><a href="#local-6989586621679395592"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">EventType -&gt; EventType -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">EventType
</span><span class="hs-identifier hs-var">propertyNotify</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395590"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Window -&gt; Window -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><span class="hs-identifier hs-var">wM_HINTS</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(X () -&gt; X ()) -&gt; X () -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Display -&gt; X ()) -&gt; X ()
forall a. (Display -&gt; X a) -&gt; X a
</span><span class="hs-identifier hs-var">withDisplay</span></span><span> </span><span class="annot"><span class="annottext">((Display -&gt; X ()) -&gt; X ()) -&gt; (Display -&gt; X ()) -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679395583"><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395583"><span class="hs-identifier hs-var">dpy</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-359"></span><span>              </span><span class="annot"><span class="hs-identifier hs-type">WMHints</span></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">wmh_flags :: WMHints -&gt; CLong
</span><span class="hs-identifier hs-var">wmh_flags</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395580"><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679395580"><span class="hs-identifier hs-var">flags</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO WMHints -&gt; X WMHints
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">(IO WMHints -&gt; X WMHints) -&gt; IO WMHints -&gt; X WMHints
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Display -&gt; Window -&gt; IO WMHints
</span><span class="hs-identifier hs-var">getWMHints</span></span><span> </span><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395583"><span class="hs-identifier hs-var">dpy</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395588"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-360"></span><span>              </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">CLong -&gt; Int -&gt; Bool
forall a. Bits a =&gt; a -&gt; Int -&gt; Bool
</span><span class="hs-identifier hs-var">testBit</span></span><span> </span><span class="annot"><span class="annottext">CLong
</span><a href="#local-6989586621679395580"><span class="hs-identifier hs-var">flags</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier hs-var">urgencyHintBit</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Window -&gt; X ()
</span><a href="#local-6989586621679395577"><span class="hs-identifier hs-var">markUrgent</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395588"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Window -&gt; X ()
</span><a href="#local-6989586621679395576"><span class="hs-identifier hs-var">markNotUrgent</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395588"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-361"></span><span>      </span><span class="hs-comment">-- Window destroyed</span><span>
</span><span id="line-362"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">DestroyWindowEvent</span></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">ev_window :: Event -&gt; Window
</span><span class="hs-identifier hs-var">ev_window</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395574"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395574"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-363"></span><span>          </span><span class="annot"><span class="annottext">Window -&gt; X ()
</span><a href="#local-6989586621679395576"><span class="hs-identifier hs-var">markNotUrgent</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395574"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-364"></span><span>      </span><span class="hs-comment">-- _NET_WM_STATE_DEMANDS_ATTENTION requested by client</span><span>
</span><span id="line-365"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">ClientMessageEvent</span></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">ev_event_display :: Event -&gt; Display
</span><span class="hs-identifier hs-var">ev_event_display</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395571"><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395571"><span class="hs-identifier hs-var">dpy</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ev_window :: Event -&gt; Window
</span><span class="hs-identifier hs-var">ev_window</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395570"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395570"><span class="hs-identifier hs-var">w</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ev_message_type :: Event -&gt; Window
</span><span class="hs-identifier hs-var">ev_message_type</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395568"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395568"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ev_data :: Event -&gt; [CInt]
</span><span class="hs-identifier hs-var">ev_data</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395566"><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679395566"><span class="hs-identifier hs-var">action</span></a></span></span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span id="local-6989586621679395565"><span class="annot"><span class="annottext">[CInt]
</span><a href="#local-6989586621679395565"><span class="hs-identifier hs-var">atoms</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-366"></span><span>          </span><span id="local-6989586621679395564"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395564"><span class="hs-identifier hs-var">a_wmstate</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; X Window
</span><span class="hs-identifier hs-var">getAtom</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_NET_WM_STATE&quot;</span></span><span>
</span><span id="line-367"></span><span>          </span><span id="local-6989586621679395563"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395563"><span class="hs-identifier hs-var">a_da</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; X Window
</span><span class="hs-identifier hs-var">getAtom</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_NET_WM_STATE_DEMANDS_ATTENTION&quot;</span></span><span>
</span><span id="line-368"></span><span>          </span><span id="local-6989586621679395562"><span class="annot"><span class="annottext">[CLong]
</span><a href="#local-6989586621679395562"><span class="hs-identifier hs-var">wstate</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Window -&gt; X [CLong]
</span><a href="XMonad.Hooks.UrgencyHook.html#getNetWMState"><span class="hs-identifier hs-var">getNetWMState</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395570"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-369"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679395561"><span class="annot"><span class="annottext">demandsAttention :: Bool
</span><a href="#local-6989586621679395561"><span class="hs-identifier hs-var hs-var">demandsAttention</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Window -&gt; CLong
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395563"><span class="hs-identifier hs-var">a_da</span></a></span><span> </span><span class="annot"><span class="annottext">CLong -&gt; [CLong] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[CLong]
</span><a href="#local-6989586621679395562"><span class="hs-identifier hs-var">wstate</span></a></span><span>
</span><span id="line-370"></span><span>              </span><span id="local-6989586621679395559"><span class="annot"><span class="annottext">remove :: CInt
</span><a href="#local-6989586621679395559"><span class="hs-identifier hs-var hs-var">remove</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-number">0</span></span><span>
</span><span id="line-371"></span><span>              </span><span id="local-6989586621679395558"><span class="annot"><span class="annottext">add :: CInt
</span><a href="#local-6989586621679395558"><span class="hs-identifier hs-var hs-var">add</span></a></span></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-number">1</span></span><span>
</span><span id="line-372"></span><span>              </span><span id="local-6989586621679395557"><span class="annot"><span class="annottext">toggle :: CInt
</span><a href="#local-6989586621679395557"><span class="hs-identifier hs-var hs-var">toggle</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-number">2</span></span><span>
</span><span id="line-373"></span><span>          </span><span class="annot"><span class="annottext">Bool -&gt; X () -&gt; X ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395568"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Window -&gt; Window -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395564"><span class="hs-identifier hs-var">a_wmstate</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Window -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395563"><span class="hs-identifier hs-var">a_da</span></a></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; [CInt] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[CInt]
</span><a href="#local-6989586621679395565"><span class="hs-identifier hs-var">atoms</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(X () -&gt; X ()) -&gt; X () -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-374"></span><span>            </span><span class="annot"><span class="annottext">Bool -&gt; X () -&gt; X ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679395566"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; CInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679395558"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679395566"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; CInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679395557"><span class="hs-identifier hs-var">toggle</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679395561"><span class="hs-identifier hs-var">demandsAttention</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(X () -&gt; X ()) -&gt; X () -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-375"></span><span>              </span><span class="annot"><span class="annottext">Window -&gt; X ()
</span><a href="#local-6989586621679395577"><span class="hs-identifier hs-var">markUrgent</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395570"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-376"></span><span>              </span><span class="annot"><span class="annottext">Display -&gt; Window -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#addNetWMState"><span class="hs-identifier hs-var">addNetWMState</span></a></span><span> </span><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395571"><span class="hs-identifier hs-var">dpy</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395570"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395563"><span class="hs-identifier hs-var">a_da</span></a></span><span>
</span><span id="line-377"></span><span>            </span><span class="annot"><span class="annottext">Bool -&gt; X () -&gt; X ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679395566"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; CInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679395559"><span class="hs-identifier hs-var">remove</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679395566"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">CInt -&gt; CInt -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679395557"><span class="hs-identifier hs-var">toggle</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621679395561"><span class="hs-identifier hs-var">demandsAttention</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(X () -&gt; X ()) -&gt; X () -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-378"></span><span>              </span><span class="annot"><span class="annottext">Window -&gt; X ()
</span><a href="#local-6989586621679395576"><span class="hs-identifier hs-var">markNotUrgent</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395570"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-379"></span><span>              </span><span class="annot"><span class="annottext">Display -&gt; Window -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#removeNetWMState"><span class="hs-identifier hs-var">removeNetWMState</span></a></span><span> </span><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395571"><span class="hs-identifier hs-var">dpy</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395570"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395563"><span class="hs-identifier hs-var">a_da</span></a></span><span>
</span><span id="line-380"></span><span>      </span><span class="annot"><span class="annottext">Event
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-381"></span><span>          </span><span class="annot"><span class="annottext">(Reminder -&gt; X (Maybe Any)) -&gt; [Reminder] -&gt; X ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="annot"><span class="annottext">Reminder -&gt; X (Maybe Any)
forall a. Reminder -&gt; X (Maybe a)
</span><a href="#local-6989586621679395553"><span class="hs-identifier hs-var">handleReminder</span></a></span><span> </span><span class="annot"><span class="annottext">([Reminder] -&gt; X ()) -&gt; X [Reminder] -&gt; X ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">X [Reminder]
</span><a href="XMonad.Hooks.UrgencyHook.html#readReminders"><span class="hs-identifier hs-var">readReminders</span></a></span><span>
</span><span id="line-382"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679395553"><span class="annot"><span class="annottext">handleReminder :: Reminder -&gt; X (Maybe a)
</span><a href="#local-6989586621679395553"><span class="hs-identifier hs-var hs-var">handleReminder</span></a></span></span><span> </span><span id="local-6989586621679395551"><span class="annot"><span class="annottext">Reminder
</span><a href="#local-6989586621679395551"><span class="hs-identifier hs-var">reminder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Event -&gt; X (Maybe a) -&gt; X (Maybe a)
forall a. Int -&gt; Event -&gt; X (Maybe a) -&gt; X (Maybe a)
</span><a href="XMonad.Util.Timer.html#handleTimer"><span class="hs-identifier hs-var">handleTimer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Reminder -&gt; Int
</span><a href="XMonad.Hooks.UrgencyHook.html#timer"><span class="hs-identifier hs-var hs-var">timer</span></a></span><span> </span><span class="annot"><span class="annottext">Reminder
</span><a href="#local-6989586621679395551"><span class="hs-identifier hs-var">reminder</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Event
</span><a href="#local-6989586621679395595"><span class="hs-identifier hs-var">event</span></a></span><span> </span><span class="annot"><span class="annottext">(X (Maybe a) -&gt; X (Maybe a)) -&gt; X (Maybe a) -&gt; X (Maybe a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WithUrgencyHook h -&gt; Reminder -&gt; X (Maybe a)
forall h a.
UrgencyHook h =&gt;
WithUrgencyHook h -&gt; Reminder -&gt; X (Maybe a)
</span><a href="XMonad.Hooks.UrgencyHook.html#reminderHook"><span class="hs-identifier hs-var">reminderHook</span></a></span><span> </span><span class="annot"><span class="annottext">WithUrgencyHook h
</span><a href="#local-6989586621679395596"><span class="hs-identifier hs-var">wuh</span></a></span><span> </span><span class="annot"><span class="annottext">Reminder
</span><a href="#local-6989586621679395551"><span class="hs-identifier hs-var">reminder</span></a></span><span>
</span><span id="line-383"></span><span>            </span><span id="local-6989586621679395577"><span class="annot"><span class="annottext">markUrgent :: Window -&gt; X ()
</span><a href="#local-6989586621679395577"><span class="hs-identifier hs-var hs-var">markUrgent</span></a></span></span><span> </span><span id="local-6989586621679395549"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395549"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-384"></span><span>                </span><span class="annot"><span class="annottext">([Window] -&gt; [Window]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#adjustUrgents"><span class="hs-identifier hs-var">adjustUrgents</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679395548"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679395548"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395549"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Window -&gt; [Window] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679395548"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679395548"><span class="hs-identifier hs-var">ws</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395549"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Window -&gt; [Window] -&gt; [Window]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679395548"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-385"></span><span>                </span><span class="annot"><span class="annottext">WithUrgencyHook h -&gt; Window -&gt; X ()
forall h. UrgencyHook h =&gt; WithUrgencyHook h -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#callUrgencyHook"><span class="hs-identifier hs-var">callUrgencyHook</span></a></span><span> </span><span class="annot"><span class="annottext">WithUrgencyHook h
</span><a href="#local-6989586621679395596"><span class="hs-identifier hs-var">wuh</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395549"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-386"></span><span>                </span><span class="annot"><span class="annottext">() -&gt; X () -&gt; X ()
forall a. a -&gt; X a -&gt; X a
</span><span class="hs-identifier hs-var">userCodeDef</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(X () -&gt; X ()) -&gt; X (X ()) -&gt; X ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">(XConf -&gt; X ()) -&gt; X (X ())
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XConfig Layout -&gt; X ()
forall (l :: * -&gt; *). XConfig l -&gt; X ()
</span><span class="hs-identifier hs-var hs-var">logHook</span></span><span> </span><span class="annot"><span class="annottext">(XConfig Layout -&gt; X ())
-&gt; (XConf -&gt; XConfig Layout) -&gt; XConf -&gt; X ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XConf -&gt; XConfig Layout
</span><span class="hs-identifier hs-var hs-var">config</span></span><span class="hs-special">)</span><span>
</span><span id="line-387"></span><span>            </span><span id="local-6989586621679395576"><span class="annot"><span class="annottext">markNotUrgent :: Window -&gt; X ()
</span><a href="#local-6989586621679395576"><span class="hs-identifier hs-var hs-var">markNotUrgent</span></a></span></span><span> </span><span id="local-6989586621679395543"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395543"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-388"></span><span>                </span><span class="annot"><span class="annottext">([Window] -&gt; [Window]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#adjustUrgents"><span class="hs-identifier hs-var">adjustUrgents</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window -&gt; [Window] -&gt; [Window]
forall a. Eq a =&gt; a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">delete</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395543"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">X () -&gt; X () -&gt; X ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">([Reminder] -&gt; [Reminder]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#adjustReminders"><span class="hs-identifier hs-var">adjustReminders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Reminder -&gt; Bool) -&gt; [Reminder] -&gt; [Reminder]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">((Reminder -&gt; Bool) -&gt; [Reminder] -&gt; [Reminder])
-&gt; (Reminder -&gt; Bool) -&gt; [Reminder] -&gt; [Reminder]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395543"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Window -&gt; Window -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Window -&gt; Bool) -&gt; (Reminder -&gt; Window) -&gt; Reminder -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Reminder -&gt; Window
</span><a href="XMonad.Hooks.UrgencyHook.html#window"><span class="hs-identifier hs-var hs-var">window</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-389"></span><span>                </span><span class="annot"><span class="annottext">() -&gt; X () -&gt; X ()
forall a. a -&gt; X a -&gt; X a
</span><span class="hs-identifier hs-var">userCodeDef</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(X () -&gt; X ()) -&gt; X (X ()) -&gt; X ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">(XConf -&gt; X ()) -&gt; X (X ())
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">XConfig Layout -&gt; X ()
forall (l :: * -&gt; *). XConfig l -&gt; X ()
</span><span class="hs-identifier hs-var hs-var">logHook</span></span><span> </span><span class="annot"><span class="annottext">(XConfig Layout -&gt; X ())
-&gt; (XConf -&gt; XConfig Layout) -&gt; XConf -&gt; X ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XConf -&gt; XConfig Layout
</span><span class="hs-identifier hs-var hs-var">config</span></span><span class="hs-special">)</span><span>
</span><span id="line-390"></span><span>
</span><span id="line-391"></span><span id="local-6989586621679395880"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#callUrgencyHook"><span class="hs-identifier hs-type">callUrgencyHook</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-type">UrgencyHook</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395880"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#WithUrgencyHook"><span class="hs-identifier hs-type">WithUrgencyHook</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395880"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-392"></span><span id="callUrgencyHook"><span class="annot"><span class="annottext">callUrgencyHook :: WithUrgencyHook h -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#callUrgencyHook"><span class="hs-identifier hs-var hs-var">callUrgencyHook</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#WithUrgencyHook"><span class="hs-identifier hs-type">WithUrgencyHook</span></a></span><span> </span><span id="local-6989586621679395541"><span class="annot"><span class="annottext">h
</span><a href="#local-6989586621679395541"><span class="hs-identifier hs-var">hook</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyConfig"><span class="hs-identifier hs-type">UrgencyConfig</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">suppressWhen :: UrgencyConfig -&gt; SuppressWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#suppressWhen"><span class="hs-identifier hs-var">suppressWhen</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395540"><span class="annot"><span class="annottext">SuppressWhen
</span><a href="#local-6989586621679395540"><span class="hs-identifier hs-var">sw</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">remindWhen :: UrgencyConfig -&gt; RemindWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#remindWhen"><span class="hs-identifier hs-var">remindWhen</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395539"><span class="annot"><span class="annottext">RemindWhen
</span><a href="#local-6989586621679395539"><span class="hs-identifier hs-var">rw</span></a></span></span><span> </span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679395538"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395538"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-393"></span><span>    </span><span class="annot"><span class="annottext">X Bool -&gt; X () -&gt; X ()
</span><span class="hs-identifier hs-var">whenX</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; X Bool -&gt; X Bool
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SuppressWhen -&gt; Window -&gt; X Bool
</span><a href="XMonad.Hooks.UrgencyHook.html#shouldSuppress"><span class="hs-identifier hs-var">shouldSuppress</span></a></span><span> </span><span class="annot"><span class="annottext">SuppressWhen
</span><a href="#local-6989586621679395540"><span class="hs-identifier hs-var">sw</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395538"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(X () -&gt; X ()) -&gt; X () -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-394"></span><span>        </span><span class="annot"><span class="annottext">() -&gt; X () -&gt; X ()
forall a. a -&gt; X a -&gt; X a
</span><span class="hs-identifier hs-var">userCodeDef</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(X () -&gt; X ()) -&gt; X () -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">h -&gt; Window -&gt; X ()
forall h. UrgencyHook h =&gt; h -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#urgencyHook"><span class="hs-identifier hs-var">urgencyHook</span></a></span><span> </span><span class="annot"><span class="annottext">h
</span><a href="#local-6989586621679395541"><span class="hs-identifier hs-var">hook</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395538"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-395"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RemindWhen
</span><a href="#local-6989586621679395539"><span class="hs-identifier hs-var">rw</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-396"></span><span>            </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Repeatedly"><span class="hs-identifier hs-type">Repeatedly</span></a></span><span> </span><span id="local-6989586621679395535"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679395535"><span class="hs-identifier hs-var">times</span></a></span></span><span> </span><span id="local-6989586621679395534"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679395534"><span class="hs-identifier hs-var">int</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Window -&gt; Rational -&gt; Maybe Int -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#addReminder"><span class="hs-identifier hs-var">addReminder</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395538"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679395534"><span class="hs-identifier hs-var">int</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Int -&gt; X ()) -&gt; Maybe Int -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679395535"><span class="hs-identifier hs-var">times</span></a></span><span>
</span><span id="line-397"></span><span>            </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Every"><span class="hs-identifier hs-type">Every</span></a></span><span> </span><span id="local-6989586621679395532"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679395532"><span class="hs-identifier hs-var">int</span></a></span></span><span>            </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Window -&gt; Rational -&gt; Maybe Int -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#addReminder"><span class="hs-identifier hs-var">addReminder</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395538"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679395532"><span class="hs-identifier hs-var">int</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-398"></span><span>            </span><span class="annot"><span class="annottext">RemindWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#Dont"><span class="hs-identifier hs-var">Dont</span></a></span><span>                 </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; X ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#addReminder"><span class="hs-identifier hs-type">addReminder</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-401"></span><span id="addReminder"><span class="annot"><span class="annottext">addReminder :: Window -&gt; Rational -&gt; Maybe Int -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#addReminder"><span class="hs-identifier hs-var hs-var">addReminder</span></a></span></span><span> </span><span id="local-6989586621679395531"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395531"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span id="local-6989586621679395530"><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679395530"><span class="hs-identifier hs-var">int</span></a></span></span><span> </span><span id="local-6989586621679395529"><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679395529"><span class="hs-identifier hs-var">times</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-402"></span><span>    </span><span id="local-6989586621679395528"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679395528"><span class="hs-identifier hs-var">timerId</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; X Int
</span><a href="XMonad.Util.Timer.html#startTimer"><span class="hs-identifier hs-var">startTimer</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679395530"><span class="hs-identifier hs-var">int</span></a></span><span>
</span><span id="line-403"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679395527"><span class="annot"><span class="annottext">reminder :: Reminder
</span><a href="#local-6989586621679395527"><span class="hs-identifier hs-var hs-var">reminder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Window -&gt; Rational -&gt; Maybe Int -&gt; Reminder
</span><a href="XMonad.Hooks.UrgencyHook.html#Reminder"><span class="hs-identifier hs-var">Reminder</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679395528"><span class="hs-identifier hs-var">timerId</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395531"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><a href="#local-6989586621679395530"><span class="hs-identifier hs-var">int</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679395529"><span class="hs-identifier hs-var">times</span></a></span><span>
</span><span id="line-404"></span><span>    </span><span class="annot"><span class="annottext">([Reminder] -&gt; [Reminder]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#adjustReminders"><span class="hs-identifier hs-var">adjustReminders</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679395526"><span class="annot"><span class="annottext">[Reminder]
</span><a href="#local-6989586621679395526"><span class="hs-identifier hs-var">rs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395531"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Window -&gt; [Window] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">(Reminder -&gt; Window) -&gt; [Reminder] -&gt; [Window]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Reminder -&gt; Window
</span><a href="XMonad.Hooks.UrgencyHook.html#window"><span class="hs-identifier hs-var hs-var">window</span></a></span><span> </span><span class="annot"><span class="annottext">[Reminder]
</span><a href="#local-6989586621679395526"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Reminder]
</span><a href="#local-6989586621679395526"><span class="hs-identifier hs-var">rs</span></a></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Reminder
</span><a href="#local-6989586621679395527"><span class="hs-identifier hs-var">reminder</span></a></span><span> </span><span class="annot"><span class="annottext">Reminder -&gt; [Reminder] -&gt; [Reminder]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[Reminder]
</span><a href="#local-6989586621679395526"><span class="hs-identifier hs-var">rs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-405"></span><span>
</span><span id="line-406"></span><span id="local-6989586621679395881"><span id="local-6989586621679395882"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#reminderHook"><span class="hs-identifier hs-type">reminderHook</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-type">UrgencyHook</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395882"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#WithUrgencyHook"><span class="hs-identifier hs-type">WithUrgencyHook</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679395882"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#Reminder"><span class="hs-identifier hs-type">Reminder</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621679395881"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-407"></span><span id="reminderHook"><span class="annot"><span class="annottext">reminderHook :: WithUrgencyHook h -&gt; Reminder -&gt; X (Maybe a)
</span><a href="XMonad.Hooks.UrgencyHook.html#reminderHook"><span class="hs-identifier hs-var hs-var">reminderHook</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#WithUrgencyHook"><span class="hs-identifier hs-type">WithUrgencyHook</span></a></span><span> </span><span id="local-6989586621679395525"><span class="annot"><span class="annottext">h
</span><a href="#local-6989586621679395525"><span class="hs-identifier hs-var">hook</span></a></span></span><span> </span><span class="annot"><span class="annottext">UrgencyConfig
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679395524"><span class="annot"><span class="annottext">Reminder
</span><a href="#local-6989586621679395524"><span class="hs-identifier hs-var">reminder</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-408"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Reminder -&gt; Maybe Int
</span><a href="XMonad.Hooks.UrgencyHook.html#remaining"><span class="hs-identifier hs-var hs-var">remaining</span></a></span><span> </span><span class="annot"><span class="annottext">Reminder
</span><a href="#local-6989586621679395524"><span class="hs-identifier hs-var">reminder</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-409"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679395523"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679395523"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679395523"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; X ()
</span><a href="#local-6989586621679395521"><span class="hs-identifier hs-var">remind</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Int -&gt; X ()) -&gt; Maybe Int -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Maybe Int
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679395523"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span>
</span><span id="line-410"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span>         </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">([Reminder] -&gt; [Reminder]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#adjustReminders"><span class="hs-identifier hs-var">adjustReminders</span></a></span><span> </span><span class="annot"><span class="annottext">(([Reminder] -&gt; [Reminder]) -&gt; X ())
-&gt; ([Reminder] -&gt; [Reminder]) -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reminder -&gt; [Reminder] -&gt; [Reminder]
forall a. Eq a =&gt; a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">delete</span></span><span> </span><span class="annot"><span class="annottext">Reminder
</span><a href="#local-6989586621679395524"><span class="hs-identifier hs-var">reminder</span></a></span><span>
</span><span id="line-411"></span><span>        </span><span class="annot"><span class="annottext">Maybe Int
</span><span class="hs-identifier hs-var">Nothing</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Int -&gt; X ()
</span><a href="#local-6989586621679395521"><span class="hs-identifier hs-var">remind</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-412"></span><span>    </span><span class="annot"><span class="annottext">Maybe a -&gt; X (Maybe a)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe a
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-413"></span><span>  </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679395521"><span class="annot"><span class="annottext">remind :: Maybe Int -&gt; X ()
</span><a href="#local-6989586621679395521"><span class="hs-identifier hs-var hs-var">remind</span></a></span></span><span> </span><span id="local-6989586621679395520"><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679395520"><span class="hs-identifier hs-var">remaining'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span> </span><span class="annot"><span class="annottext">X () -&gt; X (Maybe ())
forall a. X a -&gt; X (Maybe a)
</span><span class="hs-identifier hs-var">userCode</span></span><span> </span><span class="annot"><span class="annottext">(X () -&gt; X (Maybe ())) -&gt; X () -&gt; X (Maybe ())
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">h -&gt; Window -&gt; X ()
forall h. UrgencyHook h =&gt; h -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#urgencyHook"><span class="hs-identifier hs-var">urgencyHook</span></a></span><span> </span><span class="annot"><span class="annottext">h
</span><a href="#local-6989586621679395525"><span class="hs-identifier hs-var">hook</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Reminder -&gt; Window
</span><a href="XMonad.Hooks.UrgencyHook.html#window"><span class="hs-identifier hs-var hs-var">window</span></a></span><span> </span><span class="annot"><span class="annottext">Reminder
</span><a href="#local-6989586621679395524"><span class="hs-identifier hs-var">reminder</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-414"></span><span>                               </span><span class="annot"><span class="annottext">([Reminder] -&gt; [Reminder]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#adjustReminders"><span class="hs-identifier hs-var">adjustReminders</span></a></span><span> </span><span class="annot"><span class="annottext">(([Reminder] -&gt; [Reminder]) -&gt; X ())
-&gt; ([Reminder] -&gt; [Reminder]) -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Reminder -&gt; [Reminder] -&gt; [Reminder]
forall a. Eq a =&gt; a -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">delete</span></span><span> </span><span class="annot"><span class="annottext">Reminder
</span><a href="#local-6989586621679395524"><span class="hs-identifier hs-var">reminder</span></a></span><span>
</span><span id="line-415"></span><span>                               </span><span class="annot"><span class="annottext">Window -&gt; Rational -&gt; Maybe Int -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#addReminder"><span class="hs-identifier hs-var">addReminder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Reminder -&gt; Window
</span><a href="XMonad.Hooks.UrgencyHook.html#window"><span class="hs-identifier hs-var hs-var">window</span></a></span><span> </span><span class="annot"><span class="annottext">Reminder
</span><a href="#local-6989586621679395524"><span class="hs-identifier hs-var">reminder</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Reminder -&gt; Rational
</span><a href="XMonad.Hooks.UrgencyHook.html#interval"><span class="hs-identifier hs-var hs-var">interval</span></a></span><span> </span><span class="annot"><span class="annottext">Reminder
</span><a href="#local-6989586621679395524"><span class="hs-identifier hs-var">reminder</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679395520"><span class="hs-identifier hs-var">remaining'</span></a></span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#shouldSuppress"><span class="hs-identifier hs-type">shouldSuppress</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#SuppressWhen"><span class="hs-identifier hs-type">SuppressWhen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-418"></span><span id="shouldSuppress"><span class="annot"><span class="annottext">shouldSuppress :: SuppressWhen -&gt; Window -&gt; X Bool
</span><a href="XMonad.Hooks.UrgencyHook.html#shouldSuppress"><span class="hs-identifier hs-var hs-var">shouldSuppress</span></a></span></span><span> </span><span id="local-6989586621679395518"><span class="annot"><span class="annottext">SuppressWhen
</span><a href="#local-6989586621679395518"><span class="hs-identifier hs-var">sw</span></a></span></span><span> </span><span id="local-6989586621679395517"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395517"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Window -&gt; [Window] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">elem</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395517"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">([Window] -&gt; Bool) -&gt; X [Window] -&gt; X Bool
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SuppressWhen -&gt; X [Window]
</span><a href="XMonad.Hooks.UrgencyHook.html#suppressibleWindows"><span class="hs-identifier hs-var">suppressibleWindows</span></a></span><span> </span><span class="annot"><span class="annottext">SuppressWhen
</span><a href="#local-6989586621679395518"><span class="hs-identifier hs-var">sw</span></a></span><span>
</span><span id="line-419"></span><span>
</span><span id="line-420"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#cleanupUrgents"><span class="hs-identifier hs-type">cleanupUrgents</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#SuppressWhen"><span class="hs-identifier hs-type">SuppressWhen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span id="cleanupUrgents"><span class="annot"><span class="annottext">cleanupUrgents :: SuppressWhen -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#cleanupUrgents"><span class="hs-identifier hs-var hs-var">cleanupUrgents</span></a></span></span><span> </span><span id="local-6989586621679395515"><span class="annot"><span class="annottext">SuppressWhen
</span><a href="#local-6989586621679395515"><span class="hs-identifier hs-var">sw</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#clearUrgents%27"><span class="hs-identifier hs-var">clearUrgents'</span></a></span><span> </span><span class="annot"><span class="annottext">([Window] -&gt; X ()) -&gt; X [Window] -&gt; X ()
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">SuppressWhen -&gt; X [Window]
</span><a href="XMonad.Hooks.UrgencyHook.html#suppressibleWindows"><span class="hs-identifier hs-var">suppressibleWindows</span></a></span><span> </span><span class="annot"><span class="annottext">SuppressWhen
</span><a href="#local-6989586621679395515"><span class="hs-identifier hs-var">sw</span></a></span><span>
</span><span id="line-422"></span><span>
</span><span id="line-423"></span><span class="hs-comment">-- | Clear urgency status of selected windows.</span><span>
</span><span id="line-424"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#clearUrgents%27"><span class="hs-identifier hs-type">clearUrgents'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-425"></span><span id="clearUrgents%27"><span class="annot"><span class="annottext">clearUrgents' :: [Window] -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#clearUrgents%27"><span class="hs-identifier hs-var hs-var">clearUrgents'</span></a></span></span><span> </span><span id="local-6989586621679395514"><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679395514"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-426"></span><span>    </span><span id="local-6989586621679395513"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395513"><span class="hs-identifier hs-var">a_da</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; X Window
</span><span class="hs-identifier hs-var">getAtom</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_NET_WM_STATE_DEMANDS_ATTENTION&quot;</span></span><span>
</span><span id="line-427"></span><span>    </span><span id="local-6989586621679395512"><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395512"><span class="hs-identifier hs-var">dpy</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Display -&gt; X Display) -&gt; X Display
forall a. (Display -&gt; X a) -&gt; X a
</span><span class="hs-identifier hs-var">withDisplay</span></span><span> </span><span class="annot"><span class="annottext">Display -&gt; X Display
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span>
</span><span id="line-428"></span><span>    </span><span class="annot"><span class="annottext">(Window -&gt; X ()) -&gt; [Window] -&gt; X ()
forall (t :: * -&gt; *) (m :: * -&gt; *) a b.
(Foldable t, Monad m) =&gt;
(a -&gt; m b) -&gt; t a -&gt; m ()
</span><span class="hs-identifier hs-var">mapM_</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621679395511"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395511"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Display -&gt; Window -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#removeNetWMState"><span class="hs-identifier hs-var">removeNetWMState</span></a></span><span> </span><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395512"><span class="hs-identifier hs-var">dpy</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395511"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395513"><span class="hs-identifier hs-var">a_da</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679395514"><span class="hs-identifier hs-var">ws</span></a></span><span>
</span><span id="line-429"></span><span>    </span><span class="annot"><span class="annottext">([Window] -&gt; [Window]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#adjustUrgents"><span class="hs-identifier hs-var">adjustUrgents</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Window] -&gt; [Window] -&gt; [Window]
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">\\</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679395514"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">X () -&gt; X () -&gt; X ()
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">([Reminder] -&gt; [Reminder]) -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#adjustReminders"><span class="hs-identifier hs-var">adjustReminders</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Reminder -&gt; Bool) -&gt; [Reminder] -&gt; [Reminder]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window -&gt; [Window] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`notElem`</span></span><span> </span><span class="annot"><span class="annottext">[Window]
</span><a href="#local-6989586621679395514"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Window -&gt; Bool) -&gt; (Reminder -&gt; Window) -&gt; Reminder -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Reminder -&gt; Window
</span><a href="XMonad.Hooks.UrgencyHook.html#window"><span class="hs-identifier hs-var hs-var">window</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#suppressibleWindows"><span class="hs-identifier hs-type">suppressibleWindows</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#SuppressWhen"><span class="hs-identifier hs-type">SuppressWhen</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span class="hs-special">]</span><span>
</span><span id="line-432"></span><span id="suppressibleWindows"><span class="annot"><span class="annottext">suppressibleWindows :: SuppressWhen -&gt; X [Window]
</span><a href="XMonad.Hooks.UrgencyHook.html#suppressibleWindows"><span class="hs-identifier hs-var hs-var">suppressibleWindows</span></a></span></span><span> </span><span class="annot"><span class="annottext">SuppressWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#Visible"><span class="hs-identifier hs-var">Visible</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(XState -&gt; [Window]) -&gt; X [Window]
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">gets</span></span><span> </span><span class="annot"><span class="annottext">((XState -&gt; [Window]) -&gt; X [Window])
-&gt; (XState -&gt; [Window]) -&gt; X [Window]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set Window -&gt; [Window]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">(Set Window -&gt; [Window])
-&gt; (XState -&gt; Set Window) -&gt; XState -&gt; [Window]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XState -&gt; Set Window
</span><span class="hs-identifier hs-var hs-var">mapped</span></span><span>
</span><span id="line-433"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#suppressibleWindows"><span class="hs-identifier hs-var">suppressibleWindows</span></a></span><span> </span><span class="annot"><span class="annottext">SuppressWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#OnScreen"><span class="hs-identifier hs-var">OnScreen</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(XState -&gt; [Window]) -&gt; X [Window]
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">gets</span></span><span> </span><span class="annot"><span class="annottext">((XState -&gt; [Window]) -&gt; X [Window])
-&gt; (XState -&gt; [Window]) -&gt; X [Window]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WindowSet -&gt; [Window]
forall i l a s sd. StackSet i l a s sd -&gt; [a]
</span><span class="hs-identifier hs-var">W.index</span></span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; [Window])
-&gt; (XState -&gt; WindowSet) -&gt; XState -&gt; [Window]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XState -&gt; WindowSet
</span><span class="hs-identifier hs-var hs-var">windowset</span></span><span>
</span><span id="line-434"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#suppressibleWindows"><span class="hs-identifier hs-var">suppressibleWindows</span></a></span><span> </span><span class="annot"><span class="annottext">SuppressWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#Focused"><span class="hs-identifier hs-var">Focused</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(XState -&gt; [Window]) -&gt; X [Window]
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">gets</span></span><span> </span><span class="annot"><span class="annottext">((XState -&gt; [Window]) -&gt; X [Window])
-&gt; (XState -&gt; [Window]) -&gt; X [Window]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe Window -&gt; [Window]
forall a. Maybe a -&gt; [a]
</span><span class="hs-identifier hs-var">maybeToList</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Window -&gt; [Window])
-&gt; (XState -&gt; Maybe Window) -&gt; XState -&gt; [Window]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">WindowSet -&gt; Maybe Window
forall i l a s sd. StackSet i l a s sd -&gt; Maybe a
</span><span class="hs-identifier hs-var">W.peek</span></span><span> </span><span class="annot"><span class="annottext">(WindowSet -&gt; Maybe Window)
-&gt; (XState -&gt; WindowSet) -&gt; XState -&gt; Maybe Window
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XState -&gt; WindowSet
</span><span class="hs-identifier hs-var hs-var">windowset</span></span><span>
</span><span id="line-435"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#suppressibleWindows"><span class="hs-identifier hs-var">suppressibleWindows</span></a></span><span> </span><span class="annot"><span class="annottext">SuppressWhen
</span><a href="XMonad.Hooks.UrgencyHook.html#Never"><span class="hs-identifier hs-var">Never</span></a></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Window] -&gt; X [Window]
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-436"></span><span>
</span><span id="line-437"></span><span class="hs-comment">--------------------------------------------------------------------------------</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- Urgency Hooks</span><span>
</span><span id="line-439"></span><span>
</span><span id="line-440"></span><span class="hs-comment">-- | The class definition, and some pre-defined instances.</span><span>
</span><span id="line-441"></span><span>
</span><span id="line-442"></span><span class="hs-keyword">class</span><span> </span><span id="UrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-var">UrgencyHook</span></a></span></span><span> </span><span id="local-6989586621679395871"><span class="annot"><a href="#local-6989586621679395871"><span class="hs-identifier hs-type">h</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-443"></span><span>    </span><span id="urgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#urgencyHook"><span class="hs-identifier hs-type">urgencyHook</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679395871"><span class="hs-identifier hs-type">h</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-444"></span><span>
</span><span id="line-445"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-type">UrgencyHook</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-446"></span><span>    </span><span id="local-6989586621679395501"><span class="annot"><span class="annottext">urgencyHook :: (Window -&gt; X ()) -&gt; Window -&gt; X ()
</span><a href="#local-6989586621679395501"><span class="hs-identifier hs-var hs-var hs-var hs-var">urgencyHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Window -&gt; X ()) -&gt; Window -&gt; X ()
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span>
</span><span id="line-447"></span><span>
</span><span id="line-448"></span><span class="hs-keyword">data</span><span> </span><span id="NoUrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#NoUrgencyHook"><span class="hs-identifier hs-var">NoUrgencyHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="NoUrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#NoUrgencyHook"><span class="hs-identifier hs-var">NoUrgencyHook</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679395491"><span id="local-6989586621679395493"><span id="local-6989586621679395495"><span id="local-6989586621679395497"><span class="annot"><span class="annottext">ReadPrec [NoUrgencyHook]
ReadPrec NoUrgencyHook
Int -&gt; ReadS NoUrgencyHook
ReadS [NoUrgencyHook]
(Int -&gt; ReadS NoUrgencyHook)
-&gt; ReadS [NoUrgencyHook]
-&gt; ReadPrec NoUrgencyHook
-&gt; ReadPrec [NoUrgencyHook]
-&gt; Read NoUrgencyHook
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [NoUrgencyHook]
$creadListPrec :: ReadPrec [NoUrgencyHook]
readPrec :: ReadPrec NoUrgencyHook
$creadPrec :: ReadPrec NoUrgencyHook
readList :: ReadS [NoUrgencyHook]
$creadList :: ReadS [NoUrgencyHook]
readsPrec :: Int -&gt; ReadS NoUrgencyHook
$creadsPrec :: Int -&gt; ReadS NoUrgencyHook
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679395485"><span id="local-6989586621679395487"><span id="local-6989586621679395489"><span class="annot"><span class="annottext">Int -&gt; NoUrgencyHook -&gt; ShowS
[NoUrgencyHook] -&gt; ShowS
NoUrgencyHook -&gt; String
(Int -&gt; NoUrgencyHook -&gt; ShowS)
-&gt; (NoUrgencyHook -&gt; String)
-&gt; ([NoUrgencyHook] -&gt; ShowS)
-&gt; Show NoUrgencyHook
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [NoUrgencyHook] -&gt; ShowS
$cshowList :: [NoUrgencyHook] -&gt; ShowS
show :: NoUrgencyHook -&gt; String
$cshow :: NoUrgencyHook -&gt; String
showsPrec :: Int -&gt; NoUrgencyHook -&gt; ShowS
$cshowsPrec :: Int -&gt; NoUrgencyHook -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-type">UrgencyHook</span></a></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#NoUrgencyHook"><span class="hs-identifier hs-type">NoUrgencyHook</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-451"></span><span>    </span><span id="local-6989586621679395483"><span class="annot"><span class="annottext">urgencyHook :: NoUrgencyHook -&gt; Window -&gt; X ()
</span><a href="#local-6989586621679395483"><span class="hs-identifier hs-var hs-var hs-var hs-var">urgencyHook</span></a></span></span><span> </span><span class="annot"><span class="annottext">NoUrgencyHook
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">() -&gt; X ()
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-452"></span><span>
</span><span id="line-453"></span><span class="hs-comment">-- | Your set of options for configuring a dzenUrgencyHook.</span><span>
</span><span id="line-454"></span><span class="hs-keyword">data</span><span> </span><span id="DzenUrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#DzenUrgencyHook"><span class="hs-identifier hs-var">DzenUrgencyHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DzenUrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#DzenUrgencyHook"><span class="hs-identifier hs-var">DzenUrgencyHook</span></a></span></span><span> </span><span class="hs-special">{</span><span>
</span><span id="line-455"></span><span>                         </span><span id="duration"><span class="annot"><span class="annottext">DzenUrgencyHook -&gt; Int
</span><a href="XMonad.Hooks.UrgencyHook.html#duration"><span class="hs-identifier hs-var hs-var">duration</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- ^ number of microseconds to display the dzen</span><span>
</span><span id="line-456"></span><span>                                          </span><span class="hs-comment">--   (hence, you'll probably want to use 'seconds')</span><span>
</span><span id="line-457"></span><span>                         </span><span id="args"><span class="annot"><span class="annottext">DzenUrgencyHook -&gt; [String]
</span><a href="XMonad.Hooks.UrgencyHook.html#args"><span class="hs-identifier hs-var hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- ^ list of extra args (as 'String's) to pass to dzen</span><span>
</span><span id="line-458"></span><span>                       </span><span class="hs-special">}</span><span>
</span><span id="line-459"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679395472"><span id="local-6989586621679395474"><span id="local-6989586621679395476"><span id="local-6989586621679395478"><span class="annot"><span class="annottext">ReadPrec [DzenUrgencyHook]
ReadPrec DzenUrgencyHook
Int -&gt; ReadS DzenUrgencyHook
ReadS [DzenUrgencyHook]
(Int -&gt; ReadS DzenUrgencyHook)
-&gt; ReadS [DzenUrgencyHook]
-&gt; ReadPrec DzenUrgencyHook
-&gt; ReadPrec [DzenUrgencyHook]
-&gt; Read DzenUrgencyHook
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [DzenUrgencyHook]
$creadListPrec :: ReadPrec [DzenUrgencyHook]
readPrec :: ReadPrec DzenUrgencyHook
$creadPrec :: ReadPrec DzenUrgencyHook
readList :: ReadS [DzenUrgencyHook]
$creadList :: ReadS [DzenUrgencyHook]
readsPrec :: Int -&gt; ReadS DzenUrgencyHook
$creadsPrec :: Int -&gt; ReadS DzenUrgencyHook
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679395466"><span id="local-6989586621679395468"><span id="local-6989586621679395470"><span class="annot"><span class="annottext">Int -&gt; DzenUrgencyHook -&gt; ShowS
[DzenUrgencyHook] -&gt; ShowS
DzenUrgencyHook -&gt; String
(Int -&gt; DzenUrgencyHook -&gt; ShowS)
-&gt; (DzenUrgencyHook -&gt; String)
-&gt; ([DzenUrgencyHook] -&gt; ShowS)
-&gt; Show DzenUrgencyHook
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [DzenUrgencyHook] -&gt; ShowS
$cshowList :: [DzenUrgencyHook] -&gt; ShowS
show :: DzenUrgencyHook -&gt; String
$cshow :: DzenUrgencyHook -&gt; String
showsPrec :: Int -&gt; DzenUrgencyHook -&gt; ShowS
$cshowsPrec :: Int -&gt; DzenUrgencyHook -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-460"></span><span>
</span><span id="line-461"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-type">UrgencyHook</span></a></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#DzenUrgencyHook"><span class="hs-identifier hs-type">DzenUrgencyHook</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-462"></span><span>    </span><span id="local-6989586621679395464"><span class="annot"><span class="annottext">urgencyHook :: DzenUrgencyHook -&gt; Window -&gt; X ()
</span><a href="#local-6989586621679395464"><span class="hs-identifier hs-var hs-var hs-var hs-var">urgencyHook</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#DzenUrgencyHook"><span class="hs-identifier hs-type">DzenUrgencyHook</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">duration :: DzenUrgencyHook -&gt; Int
</span><a href="XMonad.Hooks.UrgencyHook.html#duration"><span class="hs-identifier hs-var">duration</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395463"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679395463"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">args :: DzenUrgencyHook -&gt; [String]
</span><a href="XMonad.Hooks.UrgencyHook.html#args"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395462"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679395462"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span id="local-6989586621679395461"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395461"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-463"></span><span>        </span><span id="local-6989586621679395460"><span class="annot"><span class="annottext">NamedWindow
</span><a href="#local-6989586621679395460"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Window -&gt; X NamedWindow
</span><a href="XMonad.Util.NamedWindows.html#getName"><span class="hs-identifier hs-var">getName</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395461"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-464"></span><span>        </span><span id="local-6989586621679395459"><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679395459"><span class="hs-identifier hs-var">ws</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(XState -&gt; WindowSet) -&gt; X WindowSet
forall s (m :: * -&gt; *) a. MonadState s m =&gt; (s -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">gets</span></span><span> </span><span class="annot"><span class="annottext">XState -&gt; WindowSet
</span><span class="hs-identifier hs-var hs-var">windowset</span></span><span>
</span><span id="line-465"></span><span>        </span><span class="annot"><span class="annottext">Maybe String -&gt; (String -&gt; X ()) -&gt; X ()
forall (m :: * -&gt; *) a. Monad m =&gt; Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><span class="hs-identifier hs-var">whenJust</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window -&gt; WindowSet -&gt; Maybe String
forall a i l s sd. Eq a =&gt; a -&gt; StackSet i l a s sd -&gt; Maybe i
</span><span class="hs-identifier hs-var">W.findTag</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395461"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">WindowSet
</span><a href="#local-6989586621679395459"><span class="hs-identifier hs-var">ws</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NamedWindow -&gt; String -&gt; X ()
forall a. Show a =&gt; a -&gt; String -&gt; X ()
</span><a href="#local-6989586621679395457"><span class="hs-identifier hs-var">flash</span></a></span><span> </span><span class="annot"><span class="annottext">NamedWindow
</span><a href="#local-6989586621679395460"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-466"></span><span>      </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679395457"><span class="annot"><span class="annottext">flash :: a -&gt; String -&gt; X ()
</span><a href="#local-6989586621679395457"><span class="hs-identifier hs-var hs-var">flash</span></a></span></span><span> </span><span id="local-6989586621679395456"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679395456"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621679395455"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679395455"><span class="hs-identifier hs-var">index</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-467"></span><span>                  </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; Int -&gt; X ()
</span><a href="XMonad.Util.Dzen.html#dzenWithArgs"><span class="hs-identifier hs-var">dzenWithArgs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679395456"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; requests your attention on workspace &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679395455"><span class="hs-identifier hs-var">index</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679395462"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679395463"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-468"></span><span>
</span><span id="line-469"></span><span class="hs-comment">{- | A hook which will automatically send you to anything which sets the urgent
  flag (as opposed to printing some sort of message. You would use this as
  usual, eg.

  &gt; withUrgencyHook FocusHook $ myconfig { ...
-}</span><span>
</span><span id="line-475"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#focusHook"><span class="hs-identifier hs-type">focusHook</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-476"></span><span id="focusHook"><span class="annot"><span class="annottext">focusHook :: Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#focusHook"><span class="hs-identifier hs-var hs-var">focusHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FocusHook -&gt; Window -&gt; X ()
forall h. UrgencyHook h =&gt; h -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#urgencyHook"><span class="hs-identifier hs-var">urgencyHook</span></a></span><span> </span><span class="annot"><span class="annottext">FocusHook
</span><a href="XMonad.Hooks.UrgencyHook.html#FocusHook"><span class="hs-identifier hs-var">FocusHook</span></a></span><span>
</span><span id="line-477"></span><span class="hs-keyword">data</span><span> </span><span id="FocusHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#FocusHook"><span class="hs-identifier hs-var">FocusHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FocusHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#FocusHook"><span class="hs-identifier hs-var">FocusHook</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679395445"><span id="local-6989586621679395447"><span id="local-6989586621679395449"><span id="local-6989586621679395451"><span class="annot"><span class="annottext">ReadPrec [FocusHook]
ReadPrec FocusHook
Int -&gt; ReadS FocusHook
ReadS [FocusHook]
(Int -&gt; ReadS FocusHook)
-&gt; ReadS [FocusHook]
-&gt; ReadPrec FocusHook
-&gt; ReadPrec [FocusHook]
-&gt; Read FocusHook
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [FocusHook]
$creadListPrec :: ReadPrec [FocusHook]
readPrec :: ReadPrec FocusHook
$creadPrec :: ReadPrec FocusHook
readList :: ReadS [FocusHook]
$creadList :: ReadS [FocusHook]
readsPrec :: Int -&gt; ReadS FocusHook
$creadsPrec :: Int -&gt; ReadS FocusHook
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679395439"><span id="local-6989586621679395441"><span id="local-6989586621679395443"><span class="annot"><span class="annottext">Int -&gt; FocusHook -&gt; ShowS
[FocusHook] -&gt; ShowS
FocusHook -&gt; String
(Int -&gt; FocusHook -&gt; ShowS)
-&gt; (FocusHook -&gt; String)
-&gt; ([FocusHook] -&gt; ShowS)
-&gt; Show FocusHook
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [FocusHook] -&gt; ShowS
$cshowList :: [FocusHook] -&gt; ShowS
show :: FocusHook -&gt; String
$cshow :: FocusHook -&gt; String
showsPrec :: Int -&gt; FocusHook -&gt; ShowS
$cshowsPrec :: Int -&gt; FocusHook -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-478"></span><span>
</span><span id="line-479"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-type">UrgencyHook</span></a></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#FocusHook"><span class="hs-identifier hs-type">FocusHook</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-480"></span><span>    </span><span id="local-6989586621679395437"><span class="annot"><span class="annottext">urgencyHook :: FocusHook -&gt; Window -&gt; X ()
</span><a href="#local-6989586621679395437"><span class="hs-identifier hs-var hs-var hs-var hs-var">urgencyHook</span></a></span></span><span> </span><span class="annot"><span class="annottext">FocusHook
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#focusUrgent"><span class="hs-identifier hs-var">focusUrgent</span></a></span><span>
</span><span id="line-481"></span><span>
</span><span id="line-482"></span><span class="hs-comment">-- | A hook that sets the border color of an urgent window.  The color</span><span>
</span><span id="line-483"></span><span class="hs-comment">--   will remain until the next time the window gains or loses focus, at</span><span>
</span><span id="line-484"></span><span class="hs-comment">--   which point the standard border color from the XConfig will be applied.</span><span>
</span><span id="line-485"></span><span class="hs-comment">--   You may want to use suppressWhen = Never with this:</span><span>
</span><span id="line-486"></span><span class="hs-comment">--</span><span>
</span><span id="line-487"></span><span class="hs-comment">--   &gt; withUrgencyHookC BorderUrgencyHook { urgencyBorderColor = &quot;#ff0000&quot; } urgencyConfig { suppressWhen = Never } ...</span><span>
</span><span id="line-488"></span><span class="hs-comment">--</span><span>
</span><span id="line-489"></span><span class="hs-comment">--   (This should be @urgentBorderColor@ but that breaks &quot;XMonad.Layout.Decoration&quot;.</span><span>
</span><span id="line-490"></span><span class="hs-comment">--   @borderColor@ breaks anyone using 'XPConfig' from &quot;XMonad.Prompt&quot;.  We need to</span><span>
</span><span id="line-491"></span><span class="hs-comment">--   think a bit more about namespacing issues, maybe.)</span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#borderUrgencyHook"><span class="hs-identifier hs-type">borderUrgencyHook</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span id="borderUrgencyHook"><span class="annot"><span class="annottext">borderUrgencyHook :: String -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#borderUrgencyHook"><span class="hs-identifier hs-var hs-var">borderUrgencyHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BorderUrgencyHook -&gt; Window -&gt; X ()
forall h. UrgencyHook h =&gt; h -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#urgencyHook"><span class="hs-identifier hs-var">urgencyHook</span></a></span><span> </span><span class="annot"><span class="annottext">(BorderUrgencyHook -&gt; Window -&gt; X ())
-&gt; (String -&gt; BorderUrgencyHook) -&gt; String -&gt; Window -&gt; X ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; BorderUrgencyHook
</span><a href="XMonad.Hooks.UrgencyHook.html#BorderUrgencyHook"><span class="hs-identifier hs-var">BorderUrgencyHook</span></a></span><span>
</span><span id="line-495"></span><span class="hs-keyword">newtype</span><span> </span><span id="BorderUrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#BorderUrgencyHook"><span class="hs-identifier hs-var">BorderUrgencyHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BorderUrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#BorderUrgencyHook"><span class="hs-identifier hs-var">BorderUrgencyHook</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="urgencyBorderColor"><span class="annot"><span class="annottext">BorderUrgencyHook -&gt; String
</span><a href="XMonad.Hooks.UrgencyHook.html#urgencyBorderColor"><span class="hs-identifier hs-var hs-var">urgencyBorderColor</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-496"></span><span>                       </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679395427"><span id="local-6989586621679395429"><span id="local-6989586621679395431"><span id="local-6989586621679395433"><span class="annot"><span class="annottext">ReadPrec [BorderUrgencyHook]
ReadPrec BorderUrgencyHook
Int -&gt; ReadS BorderUrgencyHook
ReadS [BorderUrgencyHook]
(Int -&gt; ReadS BorderUrgencyHook)
-&gt; ReadS [BorderUrgencyHook]
-&gt; ReadPrec BorderUrgencyHook
-&gt; ReadPrec [BorderUrgencyHook]
-&gt; Read BorderUrgencyHook
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [BorderUrgencyHook]
$creadListPrec :: ReadPrec [BorderUrgencyHook]
readPrec :: ReadPrec BorderUrgencyHook
$creadPrec :: ReadPrec BorderUrgencyHook
readList :: ReadS [BorderUrgencyHook]
$creadList :: ReadS [BorderUrgencyHook]
readsPrec :: Int -&gt; ReadS BorderUrgencyHook
$creadsPrec :: Int -&gt; ReadS BorderUrgencyHook
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679395421"><span id="local-6989586621679395423"><span id="local-6989586621679395425"><span class="annot"><span class="annottext">Int -&gt; BorderUrgencyHook -&gt; ShowS
[BorderUrgencyHook] -&gt; ShowS
BorderUrgencyHook -&gt; String
(Int -&gt; BorderUrgencyHook -&gt; ShowS)
-&gt; (BorderUrgencyHook -&gt; String)
-&gt; ([BorderUrgencyHook] -&gt; ShowS)
-&gt; Show BorderUrgencyHook
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [BorderUrgencyHook] -&gt; ShowS
$cshowList :: [BorderUrgencyHook] -&gt; ShowS
show :: BorderUrgencyHook -&gt; String
$cshow :: BorderUrgencyHook -&gt; String
showsPrec :: Int -&gt; BorderUrgencyHook -&gt; ShowS
$cshowsPrec :: Int -&gt; BorderUrgencyHook -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-497"></span><span>
</span><span id="line-498"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-type">UrgencyHook</span></a></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#BorderUrgencyHook"><span class="hs-identifier hs-type">BorderUrgencyHook</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-499"></span><span>  </span><span id="local-6989586621679395419"><span class="annot"><span class="annottext">urgencyHook :: BorderUrgencyHook -&gt; Window -&gt; X ()
</span><a href="#local-6989586621679395419"><span class="hs-identifier hs-var hs-var hs-var hs-var">urgencyHook</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#BorderUrgencyHook"><span class="hs-identifier hs-type">BorderUrgencyHook</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">urgencyBorderColor :: BorderUrgencyHook -&gt; String
</span><a href="XMonad.Hooks.UrgencyHook.html#urgencyBorderColor"><span class="hs-identifier hs-var">urgencyBorderColor</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="local-6989586621679395418"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679395418"><span class="hs-identifier hs-var">cs</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span id="local-6989586621679395417"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395417"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-500"></span><span>    </span><span class="annot"><span class="annottext">(Display -&gt; X ()) -&gt; X ()
forall a. (Display -&gt; X a) -&gt; X a
</span><span class="hs-identifier hs-var">withDisplay</span></span><span> </span><span class="annot"><span class="annottext">((Display -&gt; X ()) -&gt; X ()) -&gt; (Display -&gt; X ()) -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679395416"><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395416"><span class="hs-identifier hs-var">dpy</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-501"></span><span>      </span><span id="local-6989586621679395415"><span class="annot"><span class="annottext">Maybe Window
</span><a href="#local-6989586621679395415"><span class="hs-identifier hs-var">c'</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Maybe Window) -&gt; X (Maybe Window)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Display -&gt; String -&gt; IO (Maybe Window)
</span><span class="hs-identifier hs-var">initColor</span></span><span> </span><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395416"><span class="hs-identifier hs-var">dpy</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679395418"><span class="hs-identifier hs-var">cs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-502"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Window
</span><a href="#local-6989586621679395415"><span class="hs-identifier hs-var">c'</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-503"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679395413"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395413"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Display -&gt; Window -&gt; String -&gt; Window -&gt; X ()
</span><span class="hs-identifier hs-var">setWindowBorderWithFallback</span></span><span> </span><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395416"><span class="hs-identifier hs-var">dpy</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395417"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679395418"><span class="hs-identifier hs-var">cs</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395413"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-504"></span><span>        </span><span class="annot"><span class="annottext">Maybe Window
</span><span class="hs-identifier">_</span></span><span>      </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; X ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; X ()) -&gt; IO () -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><span class="hs-identifier hs-var">hPutStrLn</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><span class="hs-identifier hs-var">stderr</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Warning: bad urgentBorderColor &quot;</span></span><span>
</span><span id="line-505"></span><span>                                                 </span><span class="hs-special">,</span><span class="annot"><span class="annottext">ShowS
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679395418"><span class="hs-identifier hs-var">cs</span></a></span><span>
</span><span id="line-506"></span><span>                                                 </span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; in BorderUrgencyHook&quot;</span></span><span>
</span><span id="line-507"></span><span>                                                 </span><span class="hs-special">]</span><span>
</span><span id="line-508"></span><span>
</span><span id="line-509"></span><span class="hs-comment">-- | Flashes when a window requests your attention and you can't see it.</span><span>
</span><span id="line-510"></span><span class="hs-comment">-- Defaults to a duration of five seconds, and no extra args to dzen.</span><span>
</span><span id="line-511"></span><span class="hs-comment">-- See 'DzenUrgencyHook'.</span><span>
</span><span id="line-512"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#dzenUrgencyHook"><span class="hs-identifier hs-type">dzenUrgencyHook</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#DzenUrgencyHook"><span class="hs-identifier hs-type">DzenUrgencyHook</span></a></span><span>
</span><span id="line-513"></span><span id="dzenUrgencyHook"><span class="annot"><span class="annottext">dzenUrgencyHook :: DzenUrgencyHook
</span><a href="XMonad.Hooks.UrgencyHook.html#dzenUrgencyHook"><span class="hs-identifier hs-var hs-var">dzenUrgencyHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DzenUrgencyHook :: Int -&gt; [String] -&gt; DzenUrgencyHook
</span><a href="XMonad.Hooks.UrgencyHook.html#DzenUrgencyHook"><span class="hs-identifier hs-type">DzenUrgencyHook</span></a></span><span> </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">duration :: Int
</span><a href="XMonad.Hooks.UrgencyHook.html#duration"><span class="hs-identifier hs-var">duration</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Rational -&gt; Int
</span><a href="XMonad.Util.Run.html#seconds"><span class="hs-identifier hs-var">seconds</span></a></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">5</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">args :: [String]
</span><a href="XMonad.Hooks.UrgencyHook.html#args"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span class="hs-comment">-- | Spawn a commandline thing, appending the window id to the prefix string</span><span>
</span><span id="line-516"></span><span class="hs-comment">-- you provide. (Make sure to add a space if you need it.) Do your crazy</span><span>
</span><span id="line-517"></span><span class="hs-comment">-- xcompmgr thing.</span><span>
</span><span id="line-518"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#spawnUrgencyHook"><span class="hs-identifier hs-type">spawnUrgencyHook</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-519"></span><span id="spawnUrgencyHook"><span class="annot"><span class="annottext">spawnUrgencyHook :: String -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#spawnUrgencyHook"><span class="hs-identifier hs-var hs-var">spawnUrgencyHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SpawnUrgencyHook -&gt; Window -&gt; X ()
forall h. UrgencyHook h =&gt; h -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#urgencyHook"><span class="hs-identifier hs-var">urgencyHook</span></a></span><span> </span><span class="annot"><span class="annottext">(SpawnUrgencyHook -&gt; Window -&gt; X ())
-&gt; (String -&gt; SpawnUrgencyHook) -&gt; String -&gt; Window -&gt; X ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; SpawnUrgencyHook
</span><a href="XMonad.Hooks.UrgencyHook.html#SpawnUrgencyHook"><span class="hs-identifier hs-var">SpawnUrgencyHook</span></a></span><span>
</span><span id="line-520"></span><span class="hs-keyword">newtype</span><span> </span><span id="SpawnUrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#SpawnUrgencyHook"><span class="hs-identifier hs-var">SpawnUrgencyHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="SpawnUrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#SpawnUrgencyHook"><span class="hs-identifier hs-var">SpawnUrgencyHook</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679395402"><span id="local-6989586621679395404"><span id="local-6989586621679395406"><span id="local-6989586621679395408"><span class="annot"><span class="annottext">ReadPrec [SpawnUrgencyHook]
ReadPrec SpawnUrgencyHook
Int -&gt; ReadS SpawnUrgencyHook
ReadS [SpawnUrgencyHook]
(Int -&gt; ReadS SpawnUrgencyHook)
-&gt; ReadS [SpawnUrgencyHook]
-&gt; ReadPrec SpawnUrgencyHook
-&gt; ReadPrec [SpawnUrgencyHook]
-&gt; Read SpawnUrgencyHook
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [SpawnUrgencyHook]
$creadListPrec :: ReadPrec [SpawnUrgencyHook]
readPrec :: ReadPrec SpawnUrgencyHook
$creadPrec :: ReadPrec SpawnUrgencyHook
readList :: ReadS [SpawnUrgencyHook]
$creadList :: ReadS [SpawnUrgencyHook]
readsPrec :: Int -&gt; ReadS SpawnUrgencyHook
$creadsPrec :: Int -&gt; ReadS SpawnUrgencyHook
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679395396"><span id="local-6989586621679395398"><span id="local-6989586621679395400"><span class="annot"><span class="annottext">Int -&gt; SpawnUrgencyHook -&gt; ShowS
[SpawnUrgencyHook] -&gt; ShowS
SpawnUrgencyHook -&gt; String
(Int -&gt; SpawnUrgencyHook -&gt; ShowS)
-&gt; (SpawnUrgencyHook -&gt; String)
-&gt; ([SpawnUrgencyHook] -&gt; ShowS)
-&gt; Show SpawnUrgencyHook
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [SpawnUrgencyHook] -&gt; ShowS
$cshowList :: [SpawnUrgencyHook] -&gt; ShowS
show :: SpawnUrgencyHook -&gt; String
$cshow :: SpawnUrgencyHook -&gt; String
showsPrec :: Int -&gt; SpawnUrgencyHook -&gt; ShowS
$cshowsPrec :: Int -&gt; SpawnUrgencyHook -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-type">UrgencyHook</span></a></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#SpawnUrgencyHook"><span class="hs-identifier hs-type">SpawnUrgencyHook</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-523"></span><span>    </span><span id="local-6989586621679395394"><span class="annot"><span class="annottext">urgencyHook :: SpawnUrgencyHook -&gt; Window -&gt; X ()
</span><a href="#local-6989586621679395394"><span class="hs-identifier hs-var hs-var hs-var hs-var">urgencyHook</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#SpawnUrgencyHook"><span class="hs-identifier hs-type">SpawnUrgencyHook</span></a></span><span> </span><span id="local-6989586621679395393"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679395393"><span class="hs-identifier hs-var">prefix</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621679395392"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395392"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; X ()
forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m ()
</span><span class="hs-identifier hs-var">spawn</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; X ()) -&gt; String -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679395393"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Window -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395392"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-524"></span><span>
</span><span id="line-525"></span><span class="hs-comment">-- | For debugging purposes, really.</span><span>
</span><span id="line-526"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#stdoutUrgencyHook"><span class="hs-identifier hs-type">stdoutUrgencyHook</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-527"></span><span id="stdoutUrgencyHook"><span class="annot"><span class="annottext">stdoutUrgencyHook :: Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#stdoutUrgencyHook"><span class="hs-identifier hs-var hs-var">stdoutUrgencyHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StdoutUrgencyHook -&gt; Window -&gt; X ()
forall h. UrgencyHook h =&gt; h -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#urgencyHook"><span class="hs-identifier hs-var">urgencyHook</span></a></span><span> </span><span class="annot"><span class="annottext">StdoutUrgencyHook
</span><a href="XMonad.Hooks.UrgencyHook.html#StdoutUrgencyHook"><span class="hs-identifier hs-var">StdoutUrgencyHook</span></a></span><span>
</span><span id="line-528"></span><span class="hs-keyword">data</span><span> </span><span id="StdoutUrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#StdoutUrgencyHook"><span class="hs-identifier hs-var">StdoutUrgencyHook</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="StdoutUrgencyHook"><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#StdoutUrgencyHook"><span class="hs-identifier hs-var">StdoutUrgencyHook</span></a></span></span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679395382"><span id="local-6989586621679395384"><span id="local-6989586621679395386"><span id="local-6989586621679395388"><span class="annot"><span class="annottext">ReadPrec [StdoutUrgencyHook]
ReadPrec StdoutUrgencyHook
Int -&gt; ReadS StdoutUrgencyHook
ReadS [StdoutUrgencyHook]
(Int -&gt; ReadS StdoutUrgencyHook)
-&gt; ReadS [StdoutUrgencyHook]
-&gt; ReadPrec StdoutUrgencyHook
-&gt; ReadPrec [StdoutUrgencyHook]
-&gt; Read StdoutUrgencyHook
forall a.
(Int -&gt; ReadS a)
-&gt; ReadS [a] -&gt; ReadPrec a -&gt; ReadPrec [a] -&gt; Read a
readListPrec :: ReadPrec [StdoutUrgencyHook]
$creadListPrec :: ReadPrec [StdoutUrgencyHook]
readPrec :: ReadPrec StdoutUrgencyHook
$creadPrec :: ReadPrec StdoutUrgencyHook
readList :: ReadS [StdoutUrgencyHook]
$creadList :: ReadS [StdoutUrgencyHook]
readsPrec :: Int -&gt; ReadS StdoutUrgencyHook
$creadsPrec :: Int -&gt; ReadS StdoutUrgencyHook
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Read</span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679395376"><span id="local-6989586621679395378"><span id="local-6989586621679395380"><span class="annot"><span class="annottext">Int -&gt; StdoutUrgencyHook -&gt; ShowS
[StdoutUrgencyHook] -&gt; ShowS
StdoutUrgencyHook -&gt; String
(Int -&gt; StdoutUrgencyHook -&gt; ShowS)
-&gt; (StdoutUrgencyHook -&gt; String)
-&gt; ([StdoutUrgencyHook] -&gt; ShowS)
-&gt; Show StdoutUrgencyHook
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [StdoutUrgencyHook] -&gt; ShowS
$cshowList :: [StdoutUrgencyHook] -&gt; ShowS
show :: StdoutUrgencyHook -&gt; String
$cshow :: StdoutUrgencyHook -&gt; String
showsPrec :: Int -&gt; StdoutUrgencyHook -&gt; ShowS
$cshowsPrec :: Int -&gt; StdoutUrgencyHook -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-529"></span><span>
</span><span id="line-530"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#UrgencyHook"><span class="hs-identifier hs-type">UrgencyHook</span></a></span><span> </span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#StdoutUrgencyHook"><span class="hs-identifier hs-type">StdoutUrgencyHook</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-531"></span><span>    </span><span id="local-6989586621679395374"><span class="annot"><span class="annottext">urgencyHook :: StdoutUrgencyHook -&gt; Window -&gt; X ()
</span><a href="#local-6989586621679395374"><span class="hs-identifier hs-var hs-var hs-var hs-var">urgencyHook</span></a></span></span><span>    </span><span class="annot"><span class="annottext">StdoutUrgencyHook
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621679395373"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395373"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; X ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; X ()) -&gt; IO () -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
</span><span class="hs-identifier hs-var">putStrLn</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Urgent: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Window -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395373"><span class="hs-identifier hs-var">w</span></a></span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span class="hs-comment">-- | urgencyhook such that windows on certain workspaces</span><span>
</span><span id="line-534"></span><span class="hs-comment">-- never get urgency set.</span><span>
</span><span id="line-535"></span><span class="hs-comment">--</span><span>
</span><span id="line-536"></span><span class="hs-comment">-- Useful for scratchpad workspaces perhaps:</span><span>
</span><span id="line-537"></span><span class="hs-comment">--</span><span>
</span><span id="line-538"></span><span class="hs-comment">-- &gt; main = xmonad (withUrgencyHook (filterUrgencyHook [&quot;NSP&quot;, &quot;SP&quot;]) def)</span><span>
</span><span id="line-539"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#filterUrgencyHook"><span class="hs-identifier hs-type">filterUrgencyHook</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">WorkspaceId</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-540"></span><span id="filterUrgencyHook"><span class="annot"><span class="annottext">filterUrgencyHook :: [String] -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#filterUrgencyHook"><span class="hs-identifier hs-var hs-var">filterUrgencyHook</span></a></span></span><span> </span><span id="local-6989586621679395370"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679395370"><span class="hs-identifier hs-var">skips</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Query Bool -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#filterUrgencyHook%27"><span class="hs-identifier hs-var">filterUrgencyHook'</span></a></span><span> </span><span class="annot"><span class="annottext">(Query Bool -&gt; Window -&gt; X ()) -&gt; Query Bool -&gt; Window -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; (String -&gt; Bool) -&gt; Maybe String -&gt; Bool
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679395370"><span class="hs-identifier hs-var">skips</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe String -&gt; Bool) -&gt; Query (Maybe String) -&gt; Query Bool
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Query (Maybe String)
</span><a href="XMonad.Hooks.ManageHelpers.html#windowTag"><span class="hs-identifier hs-var">windowTag</span></a></span><span>
</span><span id="line-541"></span><span>
</span><span id="line-542"></span><span class="hs-comment">-- | 'filterUrgencyHook' that takes a generic 'Query' to select which windows</span><span>
</span><span id="line-543"></span><span class="hs-comment">-- should never be marked urgent.</span><span>
</span><span id="line-544"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#filterUrgencyHook%27"><span class="hs-identifier hs-type">filterUrgencyHook'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Query</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-545"></span><span id="filterUrgencyHook%27"><span class="annot"><span class="annottext">filterUrgencyHook' :: Query Bool -&gt; Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#filterUrgencyHook%27"><span class="hs-identifier hs-var hs-var">filterUrgencyHook'</span></a></span></span><span> </span><span id="local-6989586621679395368"><span class="annot"><span class="annottext">Query Bool
</span><a href="#local-6989586621679395368"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621679395367"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395367"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">X Bool -&gt; X () -&gt; X ()
</span><span class="hs-identifier hs-var">whenX</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Query Bool -&gt; Window -&gt; X Bool
forall a. Query a -&gt; Window -&gt; X a
</span><span class="hs-identifier hs-var">runQuery</span></span><span> </span><span class="annot"><span class="annottext">Query Bool
</span><a href="#local-6989586621679395368"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395367"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Window] -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#clearUrgents%27"><span class="hs-identifier hs-var">clearUrgents'</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395367"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-546"></span><span>
</span><span id="line-547"></span><span class="hs-comment">-- | Mark the given window urgent.</span><span>
</span><span id="line-548"></span><span class="hs-comment">--</span><span>
</span><span id="line-549"></span><span class="hs-comment">-- (The implementation is a bit hacky: send a _NET_WM_STATE ClientMessage to</span><span>
</span><span id="line-550"></span><span class="hs-comment">-- ourselves. This is so that we respect the 'SuppressWhen' of the configured</span><span>
</span><span id="line-551"></span><span class="hs-comment">-- urgency hooks. If this module if ever migrated to the ExtensibleConf</span><span>
</span><span id="line-552"></span><span class="hs-comment">-- infrastrcture, we'll then invoke markUrgent directly.)</span><span>
</span><span id="line-553"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#askUrgent"><span class="hs-identifier hs-type">askUrgent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Window</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-554"></span><span id="askUrgent"><span class="annot"><span class="annottext">askUrgent :: Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#askUrgent"><span class="hs-identifier hs-var hs-var">askUrgent</span></a></span></span><span> </span><span id="local-6989586621679395365"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395365"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Display -&gt; X ()) -&gt; X ()
forall a. (Display -&gt; X a) -&gt; X a
</span><span class="hs-identifier hs-var">withDisplay</span></span><span> </span><span class="annot"><span class="annottext">((Display -&gt; X ()) -&gt; X ()) -&gt; (Display -&gt; X ()) -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679395364"><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395364"><span class="hs-identifier hs-var">dpy</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-555"></span><span>    </span><span id="local-6989586621679395363"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395363"><span class="hs-identifier hs-var">rw</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(XConf -&gt; Window) -&gt; X Window
forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="annot"><span class="annottext">XConf -&gt; Window
</span><span class="hs-identifier hs-var hs-var">theRoot</span></span><span>
</span><span id="line-556"></span><span>    </span><span id="local-6989586621679395361"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395361"><span class="hs-identifier hs-var">a_wmstate</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; X Window
</span><span class="hs-identifier hs-var">getAtom</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_NET_WM_STATE&quot;</span></span><span>
</span><span id="line-557"></span><span>    </span><span id="local-6989586621679395360"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395360"><span class="hs-identifier hs-var">a_da</span></a></span></span><span>      </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; X Window
</span><span class="hs-identifier hs-var">getAtom</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;_NET_WM_STATE_DEMANDS_ATTENTION&quot;</span></span><span>
</span><span id="line-558"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679395359"><span class="annot"><span class="annottext">state_add :: CInt
</span><a href="#local-6989586621679395359"><span class="hs-identifier hs-var hs-var">state_add</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-number">1</span></span><span>
</span><span id="line-559"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679395358"><span class="annot"><span class="annottext">source_pager :: CInt
</span><a href="#local-6989586621679395358"><span class="hs-identifier hs-var hs-var">source_pager</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-number">2</span></span><span>
</span><span id="line-560"></span><span>    </span><span class="annot"><span class="annottext">IO () -&gt; X ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; X ()) -&gt; IO () -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(XEventPtr -&gt; IO ()) -&gt; IO ()
forall a. (XEventPtr -&gt; IO a) -&gt; IO a
</span><span class="hs-identifier hs-var">allocaXEvent</span></span><span> </span><span class="annot"><span class="annottext">((XEventPtr -&gt; IO ()) -&gt; IO ()) -&gt; (XEventPtr -&gt; IO ()) -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679395356"><span class="annot"><span class="annottext">XEventPtr
</span><a href="#local-6989586621679395356"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-561"></span><span>        </span><span class="annot"><span class="annottext">XEventPtr -&gt; EventType -&gt; IO ()
</span><span class="hs-identifier hs-var">setEventType</span></span><span> </span><span class="annot"><span class="annottext">XEventPtr
</span><a href="#local-6989586621679395356"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">EventType
</span><span class="hs-identifier hs-var">clientMessage</span></span><span>
</span><span id="line-562"></span><span>        </span><span class="annot"><span class="annottext">XEventPtr -&gt; Window -&gt; Window -&gt; CInt -&gt; [CInt] -&gt; IO ()
</span><span class="hs-identifier hs-var">setClientMessageEvent'</span></span><span> </span><span class="annot"><span class="annottext">XEventPtr
</span><a href="#local-6989586621679395356"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395365"><span class="hs-identifier hs-var">w</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395361"><span class="hs-identifier hs-var">a_wmstate</span></a></span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-number">32</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679395359"><span class="hs-identifier hs-var">state_add</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Window -&gt; CInt
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><a href="XMonad.Prelude.html#fi"><span class="hs-identifier hs-var">fi</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395360"><span class="hs-identifier hs-var">a_da</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CInt
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CInt
</span><a href="#local-6989586621679395358"><span class="hs-identifier hs-var">source_pager</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-563"></span><span>        </span><span class="annot"><span class="annottext">Display -&gt; Window -&gt; Bool -&gt; Window -&gt; XEventPtr -&gt; IO ()
</span><span class="hs-identifier hs-var">sendEvent</span></span><span> </span><span class="annot"><span class="annottext">Display
</span><a href="#local-6989586621679395364"><span class="hs-identifier hs-var">dpy</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395363"><span class="hs-identifier hs-var">rw</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window
</span><span class="hs-identifier hs-var">substructureRedirectMask</span></span><span> </span><span class="annot"><span class="annottext">Window -&gt; Window -&gt; Window
forall a. Bits a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">.|.</span></span><span> </span><span class="annot"><span class="annottext">Window
</span><span class="hs-identifier hs-var">substructureNotifyMask</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">XEventPtr
</span><a href="#local-6989586621679395356"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-564"></span><span>
</span><span id="line-565"></span><span class="hs-comment">-- | Helper for 'ManageHook' that marks the window as urgent (unless</span><span>
</span><span id="line-566"></span><span class="hs-comment">-- suppressed, see 'SuppressWhen'). Useful in</span><span>
</span><span id="line-567"></span><span class="hs-comment">-- 'XMonad.Hooks.EwmhDesktops.setEwmhActivateHook' and also in combination</span><span>
</span><span id="line-568"></span><span class="hs-comment">-- with &quot;XMonad.Hooks.InsertPosition&quot;, &quot;XMonad.Hooks.Focus&quot;.</span><span>
</span><span id="line-569"></span><span class="annot"><a href="XMonad.Hooks.UrgencyHook.html#doAskUrgent"><span class="hs-identifier hs-type">doAskUrgent</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ManageHook</span></span><span>
</span><span id="line-570"></span><span id="doAskUrgent"><span class="annot"><span class="annottext">doAskUrgent :: ManageHook
</span><a href="XMonad.Hooks.UrgencyHook.html#doAskUrgent"><span class="hs-identifier hs-var hs-var">doAskUrgent</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Query Window
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span><span class="hs-identifier hs-var">ask</span></span><span> </span><span class="annot"><span class="annottext">Query Window -&gt; (Window -&gt; ManageHook) -&gt; ManageHook
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679395347"><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395347"><span class="hs-identifier hs-var">w</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">X () -&gt; Query ()
forall a. X a -&gt; Query a
</span><span class="hs-identifier hs-var">liftX</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Window -&gt; X ()
</span><a href="XMonad.Hooks.UrgencyHook.html#askUrgent"><span class="hs-identifier hs-var">askUrgent</span></a></span><span> </span><span class="annot"><span class="annottext">Window
</span><a href="#local-6989586621679395347"><span class="hs-identifier hs-var">w</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Query () -&gt; ManageHook -&gt; ManageHook
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">ManageHook
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-571"></span></pre></body></html>