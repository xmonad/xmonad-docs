<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE InstanceSigs        #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase          #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns      #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-5"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- Module      :  XMonad.Util.Run</span><span>
</span><span id="line-8"></span><span class="hs-comment">-- Description :  Several commands, as well as an EDSL, to run external processes.</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- Copyright   :  (C) 2007  Spencer Janssen, Andrea Rossato, glasser@mit.edu</span><span>
</span><span id="line-10"></span><span class="hs-comment">--                    2022  Tony Zorman</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- License     :  BSD-style (see LICENSE)</span><span>
</span><span id="line-12"></span><span class="hs-comment">--</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- Maintainer  :  Tony Zorman &lt;soliditsallgood@mailbox.org&gt;</span><span>
</span><span id="line-14"></span><span class="hs-comment">-- Stability   :  unstable</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- Portability :  unportable</span><span>
</span><span id="line-16"></span><span class="hs-comment">--</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- This module provides several commands to run an external process.</span><span>
</span><span id="line-18"></span><span class="hs-comment">-- Additionally, it provides an abstraction&#8212;particularly geared towards</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- programs like terminals or Emacs&#8212;to specify these processes from</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- XMonad in a compositional way.</span><span>
</span><span id="line-21"></span><span class="hs-comment">--</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- Originally, this module was composed of functions formerly defined in</span><span>
</span><span id="line-23"></span><span class="hs-comment">-- &quot;XMonad.Util.Dmenu&quot; (by Spencer Janssen), &quot;XMonad.Util.Dzen&quot; (by</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- glasser\@mit.edu) and @XMonad.Util.RunInXTerm@ (by Andrea Rossato).</span><span>
</span><span id="line-25"></span><span class="hs-comment">-----------------------------------------------------------------------------</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">XMonad.Util.Run</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-28"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Usage</span></span><span>
</span><span id="line-29"></span><span>  </span><span class="annot"><span class="hs-comment">-- $usage</span></span><span>
</span><span id="line-30"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#runProcessWithInput"><span class="hs-identifier">runProcessWithInput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#runProcessWithInputAndWait"><span class="hs-identifier">runProcessWithInputAndWait</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#safeSpawn"><span class="hs-identifier">safeSpawn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#safeSpawnProg"><span class="hs-identifier">safeSpawnProg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#unsafeSpawn"><span class="hs-identifier">unsafeSpawn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#runInTerm"><span class="hs-identifier">runInTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#safeRunInTerm"><span class="hs-identifier">safeRunInTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#seconds"><span class="hs-identifier">seconds</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#spawnPipe"><span class="hs-identifier">spawnPipe</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#spawnPipeWithLocaleEncoding"><span class="hs-identifier">spawnPipeWithLocaleEncoding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#spawnPipeWithUtf8Encoding"><span class="hs-identifier">spawnPipeWithUtf8Encoding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#spawnPipeWithNoEncoding"><span class="hs-identifier">spawnPipeWithNoEncoding</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Compositionally Spawning Processes #EDSL#</span></span><span>
</span><span id="line-44"></span><span>  </span><span class="annot"><span class="hs-comment">-- $EDSL</span></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Configuration and Running</span></span><span>
</span><span id="line-47"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#ProcessConfig"><span class="hs-identifier">ProcessConfig</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier">Input</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#spawnExternalProcess"><span class="hs-identifier">spawnExternalProcess</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#proc"><span class="hs-identifier">proc</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#getInput"><span class="hs-identifier">getInput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#toInput"><span class="hs-identifier">toInput</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Programs</span></span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#inEditor"><span class="hs-identifier">inEditor</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#inTerm"><span class="hs-identifier">inTerm</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#termInDir"><span class="hs-identifier">termInDir</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#inProgram"><span class="hs-identifier">inProgram</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-59"></span><span>
</span><span id="line-60"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** General Combinators</span></span><span>
</span><span id="line-61"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#%3E-%3E"><span class="hs-operator">(&gt;-&gt;)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#%3E-%24"><span class="hs-operator">(&gt;-$)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-63"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#%3E%26%26%3E"><span class="hs-operator">(&gt;&amp;&amp;&gt;)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-64"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#%3E%7C%7C%3E"><span class="hs-operator">(&gt;||&gt;)</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#inWorkingDir"><span class="hs-identifier">inWorkingDir</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-66"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#eval"><span class="hs-identifier">eval</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-67"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#execute"><span class="hs-identifier">execute</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-68"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#executeNoQuote"><span class="hs-identifier">executeNoQuote</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-69"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#setXClass"><span class="hs-identifier">setXClass</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#asString"><span class="hs-identifier">asString</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span>  </span><span class="annot"><span class="hs-comment">-- ** Emacs Integration</span></span><span>
</span><span id="line-73"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#EmacsLib"><span class="hs-identifier">EmacsLib</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-74"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#setFrameName"><span class="hs-identifier">setFrameName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-75"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#withEmacsLibs"><span class="hs-identifier">withEmacsLibs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-76"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#inEmacs"><span class="hs-identifier">inEmacs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-77"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#elispFun"><span class="hs-identifier">elispFun</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-78"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#asBatch"><span class="hs-identifier">asBatch</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-79"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#require"><span class="hs-identifier">require</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-80"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#progn"><span class="hs-identifier">progn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-81"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#quote"><span class="hs-identifier">quote</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#findFile"><span class="hs-identifier">findFile</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#list"><span class="hs-identifier">list</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>  </span><span class="annot"><a href="XMonad.Util.Run.html#saveExcursion"><span class="hs-identifier">saveExcursion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span>  </span><span class="annot"><span class="hs-comment">-- * Re-exports</span></span><span>
</span><span id="line-87"></span><span>  </span><span class="annot"><span class="hs-identifier">hPutStr</span></span><span class="hs-special">,</span><span>
</span><span id="line-88"></span><span>  </span><span class="annot"><span class="hs-identifier">hPutStrLn</span></span><span class="hs-special">,</span><span>
</span><span id="line-89"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-90"></span><span>
</span><span id="line-91"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">XMonad</span></span><span>
</span><span id="line-92"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Prelude.html"><span class="hs-identifier">XMonad.Prelude</span></a></span><span>
</span><span id="line-93"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><a href="XMonad.Util.ExtensibleConf.html"><span class="hs-identifier">XMonad.Util.ExtensibleConf</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">XC</span></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Codec.Binary.UTF8.String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">encodeString</span></span><span class="hs-special">)</span><span>
</span><span id="line-96"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Concurrent</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">threadDelay</span></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.Directory</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">getDirectoryContents</span></span><span class="hs-special">)</span><span>
</span><span id="line-98"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.IO</span></span><span>
</span><span id="line-99"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.Posix.IO</span></span><span>
</span><span id="line-100"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.Posix.Process</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">createSession</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">executeFile</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">forkProcess</span></span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.Process</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">runInteractiveProcess</span></span><span class="hs-special">)</span><span>
</span><span id="line-102"></span><span>
</span><span id="line-103"></span><span class="hs-comment">{- $usage

You can use this module by importing it in your @xmonad.hs@

&gt; import XMonad.Util.Run

It then all depends on what you want to do:

  - If you want to compositionally spawn programs, see [the relevant
    extended documentation](#g:EDSL).

  - For an example usage of 'runInTerm' see &quot;XMonad.Prompt.Ssh&quot;.

  - For an example usage of 'runProcessWithInput' see
    &quot;XMonad.Util.Dmenu&quot;, or &quot;XMonad.Prompt.Shell&quot;.

  - For an example usage of 'runProcessWithInputAndWait' see
    &quot;XMonad.Util.Dzen&quot;.
-}</span><span>
</span><span id="line-122"></span><span>
</span><span id="line-123"></span><span class="hs-comment">-- | Returns the output.</span><span>
</span><span id="line-124"></span><span id="local-6989586621679442452"><span class="annot"><a href="XMonad.Util.Run.html#runProcessWithInput"><span class="hs-identifier hs-type">runProcessWithInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679442452"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679442452"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span></span><span>
</span><span id="line-125"></span><span id="runProcessWithInput"><span class="annot"><span class="annottext">runProcessWithInput :: forall (m :: * -&gt; *).
MonadIO m =&gt;
String -&gt; [String] -&gt; String -&gt; m String
</span><a href="XMonad.Util.Run.html#runProcessWithInput"><span class="hs-identifier hs-var hs-var">runProcessWithInput</span></a></span></span><span> </span><span id="local-6989586621679442199"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442199"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span id="local-6989586621679442198"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679442198"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621679442197"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442197"><span class="hs-identifier hs-var">input</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-126"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679442195"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442195"><span class="hs-identifier hs-var">pin</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679442194"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442194"><span class="hs-identifier hs-var">pout</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679442193"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442193"><span class="hs-identifier hs-var">perr</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ProcessHandle
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String
-&gt; [String]
-&gt; Maybe String
-&gt; Maybe [(String, String)]
-&gt; IO (Handle, Handle, Handle, ProcessHandle)
</span><span class="hs-identifier hs-var">runInteractiveProcess</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Input
</span><span class="hs-identifier hs-var">encodeString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442199"><span class="hs-identifier hs-var">cmd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-127"></span><span>                                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Input
</span><span class="hs-identifier hs-var">encodeString</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679442198"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-128"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><span class="hs-identifier hs-var">hPutStr</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442195"><span class="hs-identifier hs-var">pin</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442197"><span class="hs-identifier hs-var">input</span></a></span><span>
</span><span id="line-129"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><span class="hs-identifier hs-var">hClose</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442195"><span class="hs-identifier hs-var">pin</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span id="local-6989586621679442191"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442191"><span class="hs-identifier hs-var">output</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Handle -&gt; IO String
</span><span class="hs-identifier hs-var">hGetContents</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442194"><span class="hs-identifier hs-var">pout</span></a></span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442191"><span class="hs-identifier hs-var">output</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442191"><span class="hs-identifier hs-var">output</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><span class="hs-identifier hs-var">hClose</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442194"><span class="hs-identifier hs-var">pout</span></a></span><span>
</span><span id="line-133"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><span class="hs-identifier hs-var">hClose</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442193"><span class="hs-identifier hs-var">perr</span></a></span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-comment">-- no need to waitForProcess, we ignore SIGCHLD</span><span>
</span><span id="line-135"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442191"><span class="hs-identifier hs-var">output</span></a></span><span>
</span><span id="line-136"></span><span>
</span><span id="line-137"></span><span class="hs-comment">-- | Wait is in &amp;#956; (microseconds)</span><span>
</span><span id="line-138"></span><span id="local-6989586621679442435"><span class="annot"><a href="XMonad.Util.Run.html#runProcessWithInputAndWait"><span class="hs-identifier hs-type">runProcessWithInputAndWait</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679442435"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679442435"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-139"></span><span id="runProcessWithInputAndWait"><span class="annot"><span class="annottext">runProcessWithInputAndWait :: forall (m :: * -&gt; *).
MonadIO m =&gt;
String -&gt; [String] -&gt; String -&gt; Int -&gt; m ()
</span><a href="XMonad.Util.Run.html#runProcessWithInputAndWait"><span class="hs-identifier hs-var hs-var">runProcessWithInputAndWait</span></a></span></span><span> </span><span id="local-6989586621679442174"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442174"><span class="hs-identifier hs-var">cmd</span></a></span></span><span> </span><span id="local-6989586621679442173"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679442173"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span id="local-6989586621679442172"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442172"><span class="hs-identifier hs-var">input</span></a></span></span><span> </span><span id="local-6989586621679442171"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679442171"><span class="hs-identifier hs-var">timeout</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-140"></span><span>    </span><span class="annot"><span class="annottext">ProcessID
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; IO () -&gt; m ProcessID
</span><span class="hs-identifier hs-var">xfork</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-141"></span><span>        </span><span class="hs-special">(</span><span id="local-6989586621679442169"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442169"><span class="hs-identifier hs-var">pin</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679442168"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442168"><span class="hs-identifier hs-var">pout</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679442167"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442167"><span class="hs-identifier hs-var">perr</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ProcessHandle
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String
-&gt; [String]
-&gt; Maybe String
-&gt; Maybe [(String, String)]
-&gt; IO (Handle, Handle, Handle, ProcessHandle)
</span><span class="hs-identifier hs-var">runInteractiveProcess</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Input
</span><span class="hs-identifier hs-var">encodeString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442174"><span class="hs-identifier hs-var">cmd</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>                                            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Input
</span><span class="hs-identifier hs-var">encodeString</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679442173"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-143"></span><span>        </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><span class="hs-identifier hs-var">hPutStr</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442169"><span class="hs-identifier hs-var">pin</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442172"><span class="hs-identifier hs-var">input</span></a></span><span>
</span><span id="line-144"></span><span>        </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><span class="hs-identifier hs-var">hFlush</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442169"><span class="hs-identifier hs-var">pin</span></a></span><span>
</span><span id="line-145"></span><span>        </span><span class="annot"><span class="annottext">Int -&gt; IO ()
</span><span class="hs-identifier hs-var">threadDelay</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679442171"><span class="hs-identifier hs-var">timeout</span></a></span><span>
</span><span id="line-146"></span><span>        </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><span class="hs-identifier hs-var">hClose</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442169"><span class="hs-identifier hs-var">pin</span></a></span><span>
</span><span id="line-147"></span><span>        </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><span class="hs-identifier hs-var">hClose</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442168"><span class="hs-identifier hs-var">pout</span></a></span><span>
</span><span id="line-148"></span><span>        </span><span class="annot"><span class="annottext">Handle -&gt; IO ()
</span><span class="hs-identifier hs-var">hClose</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442167"><span class="hs-identifier hs-var">perr</span></a></span><span>
</span><span id="line-149"></span><span>        </span><span class="hs-comment">-- no need to waitForProcess, we ignore SIGCHLD</span><span>
</span><span id="line-150"></span><span>        </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-151"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>
</span><span id="line-153"></span><span class="hs-comment">-- | Multiplies by ONE MILLION, for functions that take microseconds.</span><span>
</span><span id="line-154"></span><span class="hs-comment">--</span><span>
</span><span id="line-155"></span><span class="hs-comment">-- Use like:</span><span>
</span><span id="line-156"></span><span class="hs-comment">--</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- &gt; (5.5 `seconds`)</span><span>
</span><span id="line-158"></span><span class="hs-comment">--</span><span>
</span><span id="line-159"></span><span class="hs-comment">-- In GHC 7 and later, you must either enable the PostfixOperators extension</span><span>
</span><span id="line-160"></span><span class="hs-comment">-- (by adding</span><span>
</span><span id="line-161"></span><span class="hs-comment">--</span><span>
</span><span id="line-162"></span><span class="hs-comment">-- &gt; {-# LANGUAGE PostfixOperators #-}</span><span>
</span><span id="line-163"></span><span class="hs-comment">--</span><span>
</span><span id="line-164"></span><span class="hs-comment">-- to the top of your file) or use seconds in prefix form:</span><span>
</span><span id="line-165"></span><span class="hs-comment">--</span><span>
</span><span id="line-166"></span><span class="hs-comment">-- &gt; seconds 5.5</span><span>
</span><span id="line-167"></span><span class="annot"><a href="XMonad.Util.Run.html#seconds"><span class="hs-identifier hs-type">seconds</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Rational</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-168"></span><span id="seconds"><span class="annot"><span class="annottext">seconds :: Rational -&gt; Int
</span><a href="XMonad.Util.Run.html#seconds"><span class="hs-identifier hs-var hs-var">seconds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Rational
</span><span class="hs-number">1000000</span></span><span class="hs-special">)</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-comment">{- | 'safeSpawn' bypasses 'spawn', because spawn passes
strings to \/bin\/sh to be interpreted as shell commands. This is
often what one wants, but in many cases the passed string will contain
shell metacharacters which one does not want interpreted as such (URLs
particularly often have shell metacharacters like \'&amp;\' in them). In
this case, it is more useful to specify a file or program to be run
and a string to give it as an argument so as to bypass the shell and
be certain the program will receive the string as you typed it.

Examples:

&gt; , ((modm, xK_Print), unsafeSpawn &quot;import -window root $HOME/xwd-$(date +%s)$$.png&quot;)
&gt; , ((modm, xK_d    ), safeSpawn &quot;firefox&quot; [])

Note that the unsafeSpawn example must be unsafe and not safe because
it makes use of shell interpretation by relying on @$HOME@ and
interpolation, whereas the safeSpawn example can be safe because
Firefox doesn't need any arguments if it is just being started. -}</span><span>
</span><span id="line-188"></span><span id="local-6989586621679442426"><span class="annot"><a href="XMonad.Util.Run.html#safeSpawn"><span class="hs-identifier hs-type">safeSpawn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679442426"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679442426"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-189"></span><span id="safeSpawn"><span class="annot"><span class="annottext">safeSpawn :: forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; [String] -&gt; m ()
</span><a href="XMonad.Util.Run.html#safeSpawn"><span class="hs-identifier hs-var hs-var">safeSpawn</span></a></span></span><span> </span><span id="local-6989586621679442157"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442157"><span class="hs-identifier hs-var">prog</span></a></span></span><span> </span><span id="local-6989586621679442156"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679442156"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall {a}. IO a -&gt; IO ()
</span><a href="#local-6989586621679442155"><span class="hs-identifier hs-var">void_</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; IO ProcessID
</span><span class="hs-identifier hs-var">forkProcess</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-190"></span><span>  </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; m ()
</span><span class="hs-identifier hs-var">uninstallSignalHandlers</span></span><span>
</span><span id="line-191"></span><span>  </span><span class="annot"><span class="annottext">ProcessID
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO ProcessID
</span><span class="hs-identifier hs-var">createSession</span></span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><span class="annottext">forall a.
String -&gt; Bool -&gt; [String] -&gt; Maybe [(String, String)] -&gt; IO a
</span><span class="hs-identifier hs-var">executeFile</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Input
</span><span class="hs-identifier hs-var">encodeString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442157"><span class="hs-identifier hs-var">prog</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Input
</span><span class="hs-identifier hs-var">encodeString</span></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679442156"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-193"></span><span>    </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621679442155"><span class="annot"><span class="annottext">void_ :: IO a -&gt; IO ()
</span><a href="#local-6989586621679442155"><span class="hs-identifier hs-var hs-var">void_</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; m b -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- TODO: replace with Control.Monad.void / void not in ghc6 apparently</span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-comment">-- | Simplified 'safeSpawn'; only takes a program (and no arguments):</span><span>
</span><span id="line-196"></span><span class="hs-comment">--</span><span>
</span><span id="line-197"></span><span class="hs-comment">-- &gt; , ((modm, xK_d    ), safeSpawnProg &quot;firefox&quot;)</span><span>
</span><span id="line-198"></span><span id="local-6989586621679442419"><span class="annot"><a href="XMonad.Util.Run.html#safeSpawnProg"><span class="hs-identifier hs-type">safeSpawnProg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679442419"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679442419"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-199"></span><span id="safeSpawnProg"><span class="annot"><span class="annottext">safeSpawnProg :: forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m ()
</span><a href="XMonad.Util.Run.html#safeSpawnProg"><span class="hs-identifier hs-var hs-var">safeSpawnProg</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; [String] -&gt; m ()
</span><a href="XMonad.Util.Run.html#safeSpawn"><span class="hs-identifier hs-var">safeSpawn</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="hs-comment">-- | An alias for 'spawn'; the name emphasizes that one is calling out to a</span><span>
</span><span id="line-202"></span><span class="hs-comment">--   Turing-complete interpreter which may do things one dislikes; for details, see 'safeSpawn'.</span><span>
</span><span id="line-203"></span><span id="local-6989586621679442148"><span class="annot"><a href="XMonad.Util.Run.html#unsafeSpawn"><span class="hs-identifier hs-type">unsafeSpawn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679442148"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679442148"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-204"></span><span id="unsafeSpawn"><span class="annot"><span class="annottext">unsafeSpawn :: forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m ()
</span><a href="XMonad.Util.Run.html#unsafeSpawn"><span class="hs-identifier hs-var hs-var">unsafeSpawn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m ()
</span><span class="hs-identifier hs-var">spawn</span></span><span>
</span><span id="line-205"></span><span>
</span><span id="line-206"></span><span class="hs-comment">-- | Open a terminal emulator. The terminal emulator is specified in the default configuration as xterm by default. It is then</span><span>
</span><span id="line-207"></span><span class="hs-comment">-- asked to pass the shell a command with certain options. This is unsafe in the sense of 'unsafeSpawn'</span><span>
</span><span id="line-208"></span><span class="annot"><a href="XMonad.Util.Run.html#unsafeRunInTerm"><span class="hs-identifier hs-type">unsafeRunInTerm</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#runInTerm"><span class="hs-identifier hs-type">runInTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span id="unsafeRunInTerm"><span class="annot"><span class="annottext">unsafeRunInTerm :: String -&gt; String -&gt; X ()
</span><a href="XMonad.Util.Run.html#unsafeRunInTerm"><span class="hs-identifier hs-var hs-var">unsafeRunInTerm</span></a></span></span><span> </span><span id="local-6989586621679442143"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442143"><span class="hs-identifier hs-var">options</span></a></span></span><span> </span><span id="local-6989586621679442142"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442142"><span class="hs-identifier hs-var">command</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (l :: * -&gt; *). XConfig l -&gt; String
</span><span class="hs-identifier hs-var">terminal</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XConf -&gt; XConfig Layout
</span><span class="hs-identifier hs-var">config</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679442138"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442138"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m ()
</span><a href="XMonad.Util.Run.html#unsafeSpawn"><span class="hs-identifier hs-var">unsafeSpawn</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442138"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442143"><span class="hs-identifier hs-var">options</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; -e &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442142"><span class="hs-identifier hs-var">command</span></a></span><span>
</span><span id="line-210"></span><span id="runInTerm"><span class="annot"><span class="annottext">runInTerm :: String -&gt; String -&gt; X ()
</span><a href="XMonad.Util.Run.html#runInTerm"><span class="hs-identifier hs-var hs-var">runInTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; X ()
</span><a href="XMonad.Util.Run.html#unsafeRunInTerm"><span class="hs-identifier hs-var">unsafeRunInTerm</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="hs-comment">-- | Run a given program in the preferred terminal emulator; see 'runInTerm'. This makes use of 'safeSpawn'.</span><span>
</span><span id="line-213"></span><span class="annot"><a href="XMonad.Util.Run.html#safeRunInTerm"><span class="hs-identifier hs-type">safeRunInTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span id="safeRunInTerm"><span class="annot"><span class="annottext">safeRunInTerm :: String -&gt; String -&gt; X ()
</span><a href="XMonad.Util.Run.html#safeRunInTerm"><span class="hs-identifier hs-var hs-var">safeRunInTerm</span></a></span></span><span> </span><span id="local-6989586621679442137"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442137"><span class="hs-identifier hs-var">options</span></a></span></span><span> </span><span id="local-6989586621679442136"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442136"><span class="hs-identifier hs-var">command</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (l :: * -&gt; *). XConfig l -&gt; String
</span><span class="hs-identifier hs-var">terminal</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XConf -&gt; XConfig Layout
</span><span class="hs-identifier hs-var">config</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679442135"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442135"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; [String] -&gt; m ()
</span><a href="XMonad.Util.Run.html#safeSpawn"><span class="hs-identifier hs-var">safeSpawn</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442135"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442137"><span class="hs-identifier hs-var">options</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; -e &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442136"><span class="hs-identifier hs-var">command</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span class="hs-comment">-- | Launch an external application through the system shell and</span><span>
</span><span id="line-217"></span><span class="hs-comment">-- return a 'Handle' to its standard input. Note that the 'Handle'</span><span>
</span><span id="line-218"></span><span class="hs-comment">-- is a text 'Handle' using the current locale encoding.</span><span>
</span><span id="line-219"></span><span id="local-6989586621679442404"><span class="annot"><a href="XMonad.Util.Run.html#spawnPipe"><span class="hs-identifier hs-type">spawnPipe</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679442404"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679442404"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Handle</span></span></span><span>
</span><span id="line-220"></span><span id="spawnPipe"><span class="annot"><span class="annottext">spawnPipe :: forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m Handle
</span><a href="XMonad.Util.Run.html#spawnPipe"><span class="hs-identifier hs-var hs-var">spawnPipe</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m Handle
</span><a href="XMonad.Util.Run.html#spawnPipeWithLocaleEncoding"><span class="hs-identifier hs-var">spawnPipeWithLocaleEncoding</span></a></span><span>
</span><span id="line-221"></span><span>
</span><span id="line-222"></span><span class="hs-comment">-- | Same as 'spawnPipe'.</span><span>
</span><span id="line-223"></span><span id="local-6989586621679442132"><span class="annot"><a href="XMonad.Util.Run.html#spawnPipeWithLocaleEncoding"><span class="hs-identifier hs-type">spawnPipeWithLocaleEncoding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679442132"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679442132"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Handle</span></span></span><span>
</span><span id="line-224"></span><span id="spawnPipeWithLocaleEncoding"><span class="annot"><span class="annottext">spawnPipeWithLocaleEncoding :: forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m Handle
</span><a href="XMonad.Util.Run.html#spawnPipeWithLocaleEncoding"><span class="hs-identifier hs-var hs-var">spawnPipeWithLocaleEncoding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadIO m =&gt;
TextEncoding -&gt; String -&gt; m Handle
</span><a href="XMonad.Util.Run.html#spawnPipe%27"><span class="hs-identifier hs-var">spawnPipe'</span></a></span><span> </span><span class="annot"><span class="annottext">TextEncoding
</span><span class="hs-identifier hs-var">localeEncoding</span></span><span>
</span><span id="line-225"></span><span>
</span><span id="line-226"></span><span class="hs-comment">-- | Same as 'spawnPipe', but forces the UTF-8 encoding regardless of locale.</span><span>
</span><span id="line-227"></span><span id="local-6989586621679442127"><span class="annot"><a href="XMonad.Util.Run.html#spawnPipeWithUtf8Encoding"><span class="hs-identifier hs-type">spawnPipeWithUtf8Encoding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679442127"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679442127"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Handle</span></span></span><span>
</span><span id="line-228"></span><span id="spawnPipeWithUtf8Encoding"><span class="annot"><span class="annottext">spawnPipeWithUtf8Encoding :: forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m Handle
</span><a href="XMonad.Util.Run.html#spawnPipeWithUtf8Encoding"><span class="hs-identifier hs-var hs-var">spawnPipeWithUtf8Encoding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadIO m =&gt;
TextEncoding -&gt; String -&gt; m Handle
</span><a href="XMonad.Util.Run.html#spawnPipe%27"><span class="hs-identifier hs-var">spawnPipe'</span></a></span><span> </span><span class="annot"><span class="annottext">TextEncoding
</span><span class="hs-identifier hs-var">utf8</span></span><span>
</span><span id="line-229"></span><span>
</span><span id="line-230"></span><span class="hs-comment">-- | Same as 'spawnPipe', but forces the 'char8' encoding, so unicode strings</span><span>
</span><span id="line-231"></span><span class="hs-comment">-- need 'Codec.Binary.UTF8.String.encodeString'. Should never be needed, but</span><span>
</span><span id="line-232"></span><span class="hs-comment">-- some X functions return already encoded Strings, so it may possibly be</span><span>
</span><span id="line-233"></span><span class="hs-comment">-- useful for someone.</span><span>
</span><span id="line-234"></span><span id="local-6989586621679442123"><span class="annot"><a href="XMonad.Util.Run.html#spawnPipeWithNoEncoding"><span class="hs-identifier hs-type">spawnPipeWithNoEncoding</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679442123"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679442123"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Handle</span></span></span><span>
</span><span id="line-235"></span><span id="spawnPipeWithNoEncoding"><span class="annot"><span class="annottext">spawnPipeWithNoEncoding :: forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m Handle
</span><a href="XMonad.Util.Run.html#spawnPipeWithNoEncoding"><span class="hs-identifier hs-var hs-var">spawnPipeWithNoEncoding</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *).
MonadIO m =&gt;
TextEncoding -&gt; String -&gt; m Handle
</span><a href="XMonad.Util.Run.html#spawnPipe%27"><span class="hs-identifier hs-var">spawnPipe'</span></a></span><span> </span><span class="annot"><span class="annottext">TextEncoding
</span><span class="hs-identifier hs-var">char8</span></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span id="local-6989586621679442401"><span class="annot"><a href="XMonad.Util.Run.html#spawnPipe%27"><span class="hs-identifier hs-type">spawnPipe'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679442401"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">TextEncoding</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679442401"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Handle</span></span></span><span>
</span><span id="line-238"></span><span id="spawnPipe%27"><span class="annot"><span class="annottext">spawnPipe' :: forall (m :: * -&gt; *).
MonadIO m =&gt;
TextEncoding -&gt; String -&gt; m Handle
</span><a href="XMonad.Util.Run.html#spawnPipe%27"><span class="hs-identifier hs-var hs-var">spawnPipe'</span></a></span></span><span> </span><span id="local-6989586621679442107"><span class="annot"><span class="annottext">TextEncoding
</span><a href="#local-6989586621679442107"><span class="hs-identifier hs-var">encoding</span></a></span></span><span> </span><span id="local-6989586621679442106"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442106"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-239"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621679442105"><span class="annot"><span class="annottext">Fd
</span><a href="#local-6989586621679442105"><span class="hs-identifier hs-var">rd</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679442104"><span class="annot"><span class="annottext">Fd
</span><a href="#local-6989586621679442104"><span class="hs-identifier hs-var">wr</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO (Fd, Fd)
</span><span class="hs-identifier hs-var">createPipe</span></span><span>
</span><span id="line-240"></span><span>    </span><span class="annot"><span class="annottext">Fd -&gt; FdOption -&gt; Bool -&gt; IO ()
</span><span class="hs-identifier hs-var">setFdOption</span></span><span> </span><span class="annot"><span class="annottext">Fd
</span><a href="#local-6989586621679442104"><span class="hs-identifier hs-var">wr</span></a></span><span> </span><span class="annot"><span class="annottext">FdOption
</span><span class="hs-identifier hs-var">CloseOnExec</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-241"></span><span>    </span><span id="local-6989586621679442100"><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442100"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Fd -&gt; IO Handle
</span><span class="hs-identifier hs-var">fdToHandle</span></span><span> </span><span class="annot"><span class="annottext">Fd
</span><a href="#local-6989586621679442104"><span class="hs-identifier hs-var">wr</span></a></span><span>
</span><span id="line-242"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; TextEncoding -&gt; IO ()
</span><span class="hs-identifier hs-var">hSetEncoding</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442100"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">TextEncoding
</span><a href="#local-6989586621679442107"><span class="hs-identifier hs-var">encoding</span></a></span><span>
</span><span id="line-243"></span><span>    </span><span class="annot"><span class="annottext">Handle -&gt; BufferMode -&gt; IO ()
</span><span class="hs-identifier hs-var">hSetBuffering</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442100"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">BufferMode
</span><span class="hs-identifier hs-var">LineBuffering</span></span><span>
</span><span id="line-244"></span><span>    </span><span class="annot"><span class="annottext">ProcessID
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; IO () -&gt; m ProcessID
</span><span class="hs-identifier hs-var">xfork</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-245"></span><span>          </span><span class="annot"><span class="annottext">Fd
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Fd -&gt; Fd -&gt; IO Fd
</span><span class="hs-identifier hs-var">dupTo</span></span><span> </span><span class="annot"><span class="annottext">Fd
</span><a href="#local-6989586621679442105"><span class="hs-identifier hs-var">rd</span></a></span><span> </span><span class="annot"><span class="annottext">Fd
</span><span class="hs-identifier hs-var">stdInput</span></span><span>
</span><span id="line-246"></span><span>          </span><span class="annot"><span class="annottext">forall a.
String -&gt; Bool -&gt; [String] -&gt; Maybe [(String, String)] -&gt; IO a
</span><span class="hs-identifier hs-var">executeFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;/bin/sh&quot;</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-c&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Input
</span><span class="hs-identifier hs-var">encodeString</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442106"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><span class="annottext">Fd -&gt; IO ()
</span><span class="hs-identifier hs-var">closeFd</span></span><span> </span><span class="annot"><span class="annottext">Fd
</span><a href="#local-6989586621679442105"><span class="hs-identifier hs-var">rd</span></a></span><span>
</span><span id="line-248"></span><span>    </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Handle
</span><a href="#local-6989586621679442100"><span class="hs-identifier hs-var">h</span></a></span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="hs-comment">{- $EDSL

To use the provided EDSL, you must first add the 'spawnExternalProcess'
combinator to your xmonad configuration, like so:

&gt; main = xmonad $ &#8230; $ spawnExternalProcess def $ &#8230; $ def

See 'ProcessConfig' for a list of all default configuration options, in
case you'd like to change them&#8212;especially if you want to make use of the
Emacs integration.

After that, the real fun begins!  The format for spawning these
processes is always the same: a call to 'proc', its argument being a
bunch of function calls, separated by the pipe operator '(&gt;-&gt;)'.  You
can just bind the resulting function to a key; no additional plumbing
required.  For example, using &quot;XMonad.Util.EZConfig&quot; syntax and with
@terminal = &quot;alacritty&quot;@ in you XMonad configuration, spawning a @ghci@
session with a special class name, &quot;calculator&quot;, would look like

&gt; (&quot;M-y&quot;, proc $ inTerm &gt;-&gt; setXClass &quot;calculator&quot; &gt;-&gt; execute &quot;ghci&quot;)

which would translate, more or less, to @\/usr\/bin\/sh -c &quot;alacritty
--class calculator -e ghci&quot;@.  The usefulness of this notation becomes
apparent with more complicated examples:

&gt; proc $ inEmacs
&gt;    &gt;-&gt; withEmacsLibs [OwnFile &quot;mailboxes&quot;]
&gt;    &gt;-&gt; execute (elispFun &quot;notmuch&quot;)
&gt;    &gt;-&gt; setFrameName &quot;mail&quot;

This is equivalent to spawning

&gt; emacs -l /home/slot/.config/emacs/lisp/mailboxes.el
&gt;       -e '(notmuch)'
&gt;       -F '(quote (name . &quot;mail&quot;))'

Notice how we did not have to specify the whole path to @mailboxes.el@,
since we had set the correct 'emacsLispDir' upon starting xmonad.  This
becomes especially relevant when running Emacs in batch mode, where one
has to include [M,Non-GNU]ELPA packages in the call, whose exact names
may change at any time.  Then the following

&gt; do url &lt;- getSelection  -- from XMonad.Util.XSelection
&gt;    proc $ inEmacs
&gt;       &gt;-&gt; withEmacsLibs [ElpaLib &quot;dash&quot;, ElpaLib &quot;s&quot;, OwnFile &quot;arXiv-citation&quot;]
&gt;       &gt;-&gt; asBatch
&gt;       &gt;-&gt; execute (elispFun $ &quot;arXiv-citation&quot; &lt;&gt; asString url)

becomes

&gt; emacs -L /home/slot/.config/emacs/elpa/dash-20220417.2250
&gt;       -L /home/slot/.config/emacs/elpa/s-20210616.619
&gt;       -l /home/slot/.config/emacs/lisp/arXiv-citation.el
&gt;       --batch
&gt;       -e '(arXiv-citation &quot;&lt;url-in-the-primary-selection&gt;&quot;)'

which would be quite bothersome to type indeed!

A blog post going into some more detail and also explaining how to
integrate this new language with the &quot;XMonad.Util.NamedScratchpad&quot;
module is available
&lt;https://tony-zorman.com/posts/2022-05-25-calling-emacs-from-xmonad.html here&gt;.
-}</span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="hs-comment">-----------------------------------------------------------------------</span><span>
</span><span id="line-315"></span><span class="hs-comment">-- Types and whatnot</span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span class="hs-comment">-- | Additional information that might be useful when spawning external</span><span>
</span><span id="line-318"></span><span class="hs-comment">-- programs.</span><span>
</span><span id="line-319"></span><span class="hs-keyword">data</span><span> </span><span id="ProcessConfig"><span class="annot"><a href="XMonad.Util.Run.html#ProcessConfig"><span class="hs-identifier hs-var">ProcessConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ProcessConfig"><span class="annot"><a href="XMonad.Util.Run.html#ProcessConfig"><span class="hs-identifier hs-var">ProcessConfig</span></a></span></span><span>
</span><span id="line-320"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="editor"><span class="annot"><span class="annottext">ProcessConfig -&gt; String
</span><a href="XMonad.Util.Run.html#editor"><span class="hs-identifier hs-var hs-var">editor</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-321"></span><span>    </span><span class="hs-comment">-- ^ Default editor.  Defaults to @&quot;emacsclient -c -a ''&quot;@.</span><span>
</span><span id="line-322"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="emacsLispDir"><span class="annot"><span class="annottext">ProcessConfig -&gt; String
</span><a href="XMonad.Util.Run.html#emacsLispDir"><span class="hs-identifier hs-var hs-var">emacsLispDir</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-323"></span><span>    </span><span class="hs-comment">-- ^ Directory for your custom Emacs lisp files.  Probably</span><span>
</span><span id="line-324"></span><span>    </span><span class="hs-comment">-- @user-emacs-directory@ or @user-emacs-directory/lisp@.  Defaults</span><span>
</span><span id="line-325"></span><span>    </span><span class="hs-comment">-- to @&quot;~\/.config\/emacs\/lisp\/&quot;@</span><span>
</span><span id="line-326"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="emacsElpaDir"><span class="annot"><span class="annottext">ProcessConfig -&gt; String
</span><a href="XMonad.Util.Run.html#emacsElpaDir"><span class="hs-identifier hs-var hs-var">emacsElpaDir</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-327"></span><span>    </span><span class="hs-comment">-- ^ Directory for all packages from [M,Non-GNU]ELPA; probably</span><span>
</span><span id="line-328"></span><span>    </span><span class="hs-comment">-- @user-emacs-directory/elpa@.  Defaults to</span><span>
</span><span id="line-329"></span><span>    </span><span class="hs-comment">-- @&quot;~\/.config\/emacs\/elpa&quot;@.</span><span>
</span><span id="line-330"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="emacs"><span class="annot"><span class="annottext">ProcessConfig -&gt; String
</span><a href="XMonad.Util.Run.html#emacs"><span class="hs-identifier hs-var hs-var">emacs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-331"></span><span>    </span><span class="hs-comment">-- ^ /Standalone/ Emacs executable; this should not be @emacsclient@</span><span>
</span><span id="line-332"></span><span>    </span><span class="hs-comment">-- since, for example, the client does not support @--batch@ mode.</span><span>
</span><span id="line-333"></span><span>    </span><span class="hs-comment">-- Defaults to @&quot;emacs&quot;@.</span><span>
</span><span id="line-334"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-335"></span><span>
</span><span id="line-336"></span><span class="hs-comment">-- | Given a 'ProcessConfig', remember it for spawning external</span><span>
</span><span id="line-337"></span><span class="hs-comment">-- processes later on.</span><span>
</span><span id="line-338"></span><span id="local-6989586621679442393"><span class="annot"><a href="XMonad.Util.Run.html#spawnExternalProcess"><span class="hs-identifier hs-type">spawnExternalProcess</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#ProcessConfig"><span class="hs-identifier hs-type">ProcessConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679442393"><span class="hs-identifier hs-type">l</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">XConfig</span></span><span> </span><span class="annot"><a href="#local-6989586621679442393"><span class="hs-identifier hs-type">l</span></a></span></span><span>
</span><span id="line-339"></span><span id="spawnExternalProcess"><span class="annot"><span class="annottext">spawnExternalProcess :: forall (l :: * -&gt; *). ProcessConfig -&gt; XConfig l -&gt; XConfig l
</span><a href="XMonad.Util.Run.html#spawnExternalProcess"><span class="hs-identifier hs-var hs-var">spawnExternalProcess</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a (l :: * -&gt; *).
(Default a, Typeable a) =&gt;
(a -&gt; a) -&gt; XConfig l -&gt; XConfig l
</span><a href="XMonad.Util.ExtensibleConf.html#modifyDef"><span class="hs-identifier hs-var">XC.modifyDef</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Default</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#ProcessConfig"><span class="hs-identifier hs-type">ProcessConfig</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-342"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">def</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#ProcessConfig"><span class="hs-identifier hs-type">ProcessConfig</span></a></span><span>
</span><span id="line-343"></span><span>  </span><span id="local-6989586621679442080"><span class="annot"><span class="annottext">def :: ProcessConfig
</span><a href="#local-6989586621679442080"><span class="hs-identifier hs-var hs-var hs-var hs-var">def</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#ProcessConfig"><span class="hs-identifier hs-type">ProcessConfig</span></a></span><span>
</span><span id="line-344"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">editor :: String
</span><a href="XMonad.Util.Run.html#editor"><span class="hs-identifier hs-var">editor</span></a></span><span>       </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;emacsclient -c -a ''&quot;</span></span><span>
</span><span id="line-345"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">emacsLispDir :: String
</span><a href="XMonad.Util.Run.html#emacsLispDir"><span class="hs-identifier hs-var">emacsLispDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;~/.config/emacs/lisp/&quot;</span></span><span>
</span><span id="line-346"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">emacsElpaDir :: String
</span><a href="XMonad.Util.Run.html#emacsElpaDir"><span class="hs-identifier hs-var">emacsElpaDir</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;~/.config/emacs/elpa/&quot;</span></span><span>
</span><span id="line-347"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">emacs :: String
</span><a href="XMonad.Util.Run.html#emacs"><span class="hs-identifier hs-var">emacs</span></a></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;emacs&quot;</span></span><span>
</span><span id="line-348"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-349"></span><span>
</span><span id="line-350"></span><span class="hs-comment">-- | Convenient type alias.</span><span>
</span><span id="line-351"></span><span class="hs-keyword">type</span><span> </span><span id="Input"><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-var">Input</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ShowS</span></span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span class="hs-comment">-----------------------------------------------------------------------</span><span>
</span><span id="line-354"></span><span class="hs-comment">-- Combinators</span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="hs-comment">-- | Combine inputs together.</span><span>
</span><span id="line-357"></span><span class="annot"><a href="XMonad.Util.Run.html#%3E-%3E"><span class="hs-operator hs-type">(&gt;-&gt;)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-358"></span><span id="%3E-%3E"><span class="annot"><span class="annottext">&gt;-&gt; :: X Input -&gt; X Input -&gt; X Input
</span><a href="XMonad.Util.Run.html#%3E-%3E"><span class="hs-operator hs-var hs-var">(&gt;-&gt;)</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span>
</span><span id="line-359"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">3</span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#%3E-%3E"><span class="hs-operator hs-type">&gt;-&gt;</span></a></span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span class="hs-comment">-- | Combine an input with an ordinary string.</span><span>
</span><span id="line-362"></span><span class="annot"><a href="XMonad.Util.Run.html#%3E-%24"><span class="hs-operator hs-type">(&gt;-$)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-363"></span><span id="%3E-%24"><span class="annot"><span class="annottext">&gt;-$ :: X Input -&gt; X String -&gt; X Input
</span><a href="XMonad.Util.Run.html#%3E-%24"><span class="hs-operator hs-var hs-var">(&gt;-$)</span></a></span></span><span> </span><span id="local-6989586621679442078"><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442078"><span class="hs-identifier hs-var">xi</span></a></span></span><span> </span><span id="local-6989586621679442077"><span class="annot"><span class="annottext">X String
</span><a href="#local-6989586621679442077"><span class="hs-identifier hs-var">xs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442078"><span class="hs-identifier hs-var">xi</span></a></span><span> </span><span class="annot"><span class="annottext">X Input -&gt; X Input -&gt; X Input
</span><a href="XMonad.Util.Run.html#%3E-%3E"><span class="hs-operator hs-var">&gt;-&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Input
</span><a href="XMonad.Util.Run.html#mkDList"><span class="hs-identifier hs-var">mkDList</span></a></span><span> </span><span class="annot"><span class="annottext">X String
</span><a href="#local-6989586621679442077"><span class="hs-identifier hs-var">xs</span></a></span><span>
</span><span id="line-364"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">3</span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#%3E-%24"><span class="hs-operator hs-type">&gt;-$</span></a></span><span>
</span><span id="line-365"></span><span>
</span><span id="line-366"></span><span class="hs-comment">-- | @a &gt;&amp;&amp;&gt; b@ glues the different inputs @a@ and @b@ by means of @&amp;&amp;@.</span><span>
</span><span id="line-367"></span><span class="hs-comment">-- For example,</span><span>
</span><span id="line-368"></span><span class="hs-comment">--</span><span>
</span><span id="line-369"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-370"></span><span class="hs-comment">-- pure &quot;do something&quot; &gt;&amp;&amp;&gt; pure &quot;do another thing&quot;</span><span>
</span><span id="line-371"></span><span class="hs-comment">-- @</span><span>
</span><span id="line-372"></span><span class="hs-comment">--</span><span>
</span><span id="line-373"></span><span class="hs-comment">-- would result in @do something &amp;&amp; do another thing@ being executed by a</span><span>
</span><span id="line-374"></span><span class="hs-comment">-- shell.</span><span>
</span><span id="line-375"></span><span class="annot"><a href="XMonad.Util.Run.html#%3E%26%26%3E"><span class="hs-operator hs-type">(&gt;&amp;&amp;&gt;)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-376"></span><span id="local-6989586621679442075"><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442075"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="%3E%26%26%3E"><span class="annot"><span class="annottext">&gt;&amp;&amp;&gt; :: X Input -&gt; X Input -&gt; X Input
</span><a href="XMonad.Util.Run.html#%3E%26%26%3E"><span class="hs-operator hs-var hs-var">&gt;&amp;&amp;&gt;</span></a></span></span><span> </span><span id="local-6989586621679442074"><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442074"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442075"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; X Input
</span><a href="XMonad.Util.Run.html#toInput"><span class="hs-identifier hs-var">toInput</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &amp;&amp; &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442074"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-377"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">2</span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#%3E%26%26%3E"><span class="hs-operator hs-type">&gt;&amp;&amp;&gt;</span></a></span><span>
</span><span id="line-378"></span><span>
</span><span id="line-379"></span><span class="hs-comment">-- | Like '(&gt;&amp;&amp;&gt;)', but with @||@.</span><span>
</span><span id="line-380"></span><span class="annot"><a href="XMonad.Util.Run.html#%3E%7C%7C%3E"><span class="hs-operator hs-type">(&gt;||&gt;)</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-381"></span><span id="local-6989586621679442073"><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442073"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="%3E%7C%7C%3E"><span class="annot"><span class="annottext">&gt;||&gt; :: X Input -&gt; X Input -&gt; X Input
</span><a href="XMonad.Util.Run.html#%3E%7C%7C%3E"><span class="hs-operator hs-var hs-var">&gt;||&gt;</span></a></span></span><span> </span><span id="local-6989586621679442072"><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442072"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442073"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; X Input
</span><a href="XMonad.Util.Run.html#toInput"><span class="hs-identifier hs-var">toInput</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; || &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442072"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-382"></span><span class="hs-keyword">infixr</span><span> </span><span class="hs-number">2</span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#%3E%7C%7C%3E"><span class="hs-operator hs-type">&gt;||&gt;</span></a></span><span>
</span><span id="line-383"></span><span>
</span><span id="line-384"></span><span class="hs-comment">-- | Spawn a completed input.</span><span>
</span><span id="line-385"></span><span class="annot"><a href="XMonad.Util.Run.html#proc"><span class="hs-identifier hs-type">proc</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-386"></span><span id="proc"><span class="annot"><span class="annottext">proc :: X Input -&gt; X ()
</span><a href="XMonad.Util.Run.html#proc"><span class="hs-identifier hs-var hs-var">proc</span></a></span></span><span> </span><span id="local-6989586621679442071"><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442071"><span class="hs-identifier hs-var">xi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m ()
</span><span class="hs-identifier hs-var">spawn</span></span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">X Input -&gt; X String
</span><a href="XMonad.Util.Run.html#getInput"><span class="hs-identifier hs-var">getInput</span></a></span><span> </span><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442071"><span class="hs-identifier hs-var">xi</span></a></span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span class="hs-comment">-- | Create an effectful 'Input' from a 'String'.</span><span>
</span><span id="line-389"></span><span class="annot"><a href="XMonad.Util.Run.html#toInput"><span class="hs-identifier hs-type">toInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-390"></span><span id="toInput"><span class="annot"><span class="annottext">toInput :: String -&gt; X Input
</span><a href="XMonad.Util.Run.html#toInput"><span class="hs-identifier hs-var hs-var">toInput</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Input
</span><a href="XMonad.Util.Run.html#mkDList"><span class="hs-identifier hs-var">mkDList</span></a></span><span>
</span><span id="line-391"></span><span>
</span><span id="line-392"></span><span class="hs-comment">-- | Get the completed input string.</span><span>
</span><span id="line-393"></span><span class="annot"><a href="XMonad.Util.Run.html#getInput"><span class="hs-identifier hs-type">getInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-394"></span><span id="getInput"><span class="annot"><span class="annottext">getInput :: X Input -&gt; X String
</span><a href="XMonad.Util.Run.html#getInput"><span class="hs-identifier hs-var hs-var">getInput</span></a></span></span><span> </span><span id="local-6989586621679442069"><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442069"><span class="hs-identifier hs-var">xi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">X Input
</span><a href="#local-6989586621679442069"><span class="hs-identifier hs-var">xi</span></a></span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; (a -&gt; b) -&gt; f b
</span><span class="hs-operator hs-var">&lt;&amp;&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-395"></span><span>
</span><span id="line-396"></span><span class="hs-comment">-- | Use the 'editor'.</span><span>
</span><span id="line-397"></span><span class="annot"><a href="XMonad.Util.Run.html#inEditor"><span class="hs-identifier hs-type">inEditor</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-398"></span><span id="inEditor"><span class="annot"><span class="annottext">inEditor :: X Input
</span><a href="XMonad.Util.Run.html#inEditor"><span class="hs-identifier hs-var hs-var">inEditor</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
(MonadReader XConf m, Typeable a, Default a) =&gt;
(a -&gt; m b) -&gt; m b
</span><a href="XMonad.Util.ExtensibleConf.html#withDef"><span class="hs-identifier hs-var">XC.withDef</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><a href="XMonad.Util.Run.html#ProcessConfig"><span class="hs-identifier hs-type">ProcessConfig</span></a></span><span class="hs-special">{</span><span id="local-6989586621679442066"><span class="annot"><span class="annottext">String
editor :: String
editor :: ProcessConfig -&gt; String
</span><a href="#local-6989586621679442066"><span class="hs-identifier hs-var hs-var">editor</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Input
</span><a href="XMonad.Util.Run.html#mkDList"><span class="hs-identifier hs-var">mkDList</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442066"><span class="hs-identifier hs-var">editor</span></a></span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="hs-comment">-- | Use the 'XMonad.Core.XConfig.terminal'.</span><span>
</span><span id="line-401"></span><span class="annot"><a href="XMonad.Util.Run.html#inTerm"><span class="hs-identifier hs-type">inTerm</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-402"></span><span id="inTerm"><span class="annot"><span class="annottext">inTerm :: X Input
</span><a href="XMonad.Util.Run.html#inTerm"><span class="hs-identifier hs-var hs-var">inTerm</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall r (m :: * -&gt; *) a. MonadReader r m =&gt; (r -&gt; a) -&gt; m a
</span><span class="hs-identifier hs-var">asks</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Input
</span><a href="XMonad.Util.Run.html#mkDList"><span class="hs-identifier hs-var">mkDList</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (l :: * -&gt; *). XConfig l -&gt; String
</span><span class="hs-identifier hs-var">terminal</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">XConf -&gt; XConfig Layout
</span><span class="hs-identifier hs-var">config</span></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span class="hs-comment">-- | Execute the argument.  Current /thing/ must support a @-e@ option.</span><span>
</span><span id="line-405"></span><span class="hs-comment">-- For programs such as Emacs, 'eval' may be the safer option; while</span><span>
</span><span id="line-406"></span><span class="hs-comment">-- @emacsclient@ supports @-e@, the @emacs@ executable itself does not.</span><span>
</span><span id="line-407"></span><span class="hs-comment">--</span><span>
</span><span id="line-408"></span><span class="hs-comment">-- Note that this function always wraps its argument in single quotes;</span><span>
</span><span id="line-409"></span><span class="hs-comment">-- see 'executeNoQuote' for an alternative.</span><span>
</span><span id="line-410"></span><span class="annot"><a href="XMonad.Util.Run.html#execute"><span class="hs-identifier hs-type">execute</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-411"></span><span id="execute"><span class="annot"><span class="annottext">execute :: String -&gt; X Input
</span><a href="XMonad.Util.Run.html#execute"><span class="hs-identifier hs-var hs-var">execute</span></a></span></span><span> </span><span id="local-6989586621679442065"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442065"><span class="hs-identifier hs-var">this</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; -e &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Input
</span><a href="XMonad.Util.Run.html#tryQuote"><span class="hs-identifier hs-var">tryQuote</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442065"><span class="hs-identifier hs-var">this</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>
</span><span id="line-413"></span><span class="hs-comment">-- | Like 'execute', but doesn't wrap its argument in single quotes.</span><span>
</span><span id="line-414"></span><span class="annot"><a href="XMonad.Util.Run.html#executeNoQuote"><span class="hs-identifier hs-type">executeNoQuote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-415"></span><span id="executeNoQuote"><span class="annot"><span class="annottext">executeNoQuote :: String -&gt; X Input
</span><a href="XMonad.Util.Run.html#executeNoQuote"><span class="hs-identifier hs-var hs-var">executeNoQuote</span></a></span></span><span> </span><span id="local-6989586621679442063"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442063"><span class="hs-identifier hs-var">this</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; -e &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442063"><span class="hs-identifier hs-var">this</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span class="hs-comment">-- | Eval(uate) the argument.  Current /thing/ must support a @--eval@</span><span>
</span><span id="line-418"></span><span class="hs-comment">-- option.</span><span>
</span><span id="line-419"></span><span class="annot"><a href="XMonad.Util.Run.html#eval"><span class="hs-identifier hs-type">eval</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-420"></span><span id="eval"><span class="annot"><span class="annottext">eval :: String -&gt; X Input
</span><a href="XMonad.Util.Run.html#eval"><span class="hs-identifier hs-var hs-var">eval</span></a></span></span><span> </span><span id="local-6989586621679442062"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442062"><span class="hs-identifier hs-var">this</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; --eval &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Input
</span><a href="XMonad.Util.Run.html#tryQuote"><span class="hs-identifier hs-var">tryQuote</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442062"><span class="hs-identifier hs-var">this</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span class="hs-comment">-- | Use 'emacs'.</span><span>
</span><span id="line-423"></span><span class="annot"><a href="XMonad.Util.Run.html#inEmacs"><span class="hs-identifier hs-type">inEmacs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-424"></span><span id="inEmacs"><span class="annot"><span class="annottext">inEmacs :: X Input
</span><a href="XMonad.Util.Run.html#inEmacs"><span class="hs-identifier hs-var hs-var">inEmacs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
(MonadReader XConf m, Typeable a, Default a) =&gt;
(a -&gt; m b) -&gt; m b
</span><a href="XMonad.Util.ExtensibleConf.html#withDef"><span class="hs-identifier hs-var">XC.withDef</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><a href="XMonad.Util.Run.html#ProcessConfig"><span class="hs-identifier hs-type">ProcessConfig</span></a></span><span class="hs-special">{</span><span id="local-6989586621679442061"><span class="annot"><span class="annottext">String
emacs :: String
emacs :: ProcessConfig -&gt; String
</span><a href="#local-6989586621679442061"><span class="hs-identifier hs-var hs-var">emacs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Input
</span><a href="XMonad.Util.Run.html#mkDList"><span class="hs-identifier hs-var">mkDList</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442061"><span class="hs-identifier hs-var">emacs</span></a></span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span class="hs-comment">-- | Use the given program.</span><span>
</span><span id="line-427"></span><span class="annot"><a href="XMonad.Util.Run.html#inProgram"><span class="hs-identifier hs-type">inProgram</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-428"></span><span id="inProgram"><span class="annot"><span class="annottext">inProgram :: String -&gt; X Input
</span><a href="XMonad.Util.Run.html#inProgram"><span class="hs-identifier hs-var hs-var">inProgram</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Input
</span><a href="XMonad.Util.Run.html#mkDList"><span class="hs-identifier hs-var">mkDList</span></a></span><span>
</span><span id="line-429"></span><span>
</span><span id="line-430"></span><span class="hs-comment">-- | Spawn /thing/ in the current working directory.  /thing/ must</span><span>
</span><span id="line-431"></span><span class="hs-comment">-- support a @--working-directory@ option.</span><span>
</span><span id="line-432"></span><span class="annot"><a href="XMonad.Util.Run.html#inWorkingDir"><span class="hs-identifier hs-type">inWorkingDir</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-433"></span><span id="inWorkingDir"><span class="annot"><span class="annottext">inWorkingDir :: X Input
</span><a href="XMonad.Util.Run.html#inWorkingDir"><span class="hs-identifier hs-var hs-var">inWorkingDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; --working-directory &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span class="hs-comment">-- | Set a frame name for the @emacsclient@.</span><span>
</span><span id="line-436"></span><span class="hs-comment">--</span><span>
</span><span id="line-437"></span><span class="hs-comment">-- Note that this uses the @-F@ option to set the</span><span>
</span><span id="line-438"></span><span class="hs-comment">-- &lt;https://www.gnu.org/software/emacs/manual/html_node/emacs/Frame-Parameters.html frame parameters&gt;</span><span>
</span><span id="line-439"></span><span class="hs-comment">-- alist, which the @emacs@ executable does not support.</span><span>
</span><span id="line-440"></span><span class="annot"><a href="XMonad.Util.Run.html#setFrameName"><span class="hs-identifier hs-type">setFrameName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-441"></span><span id="setFrameName"><span class="annot"><span class="annottext">setFrameName :: String -&gt; X Input
</span><a href="XMonad.Util.Run.html#setFrameName"><span class="hs-identifier hs-var hs-var">setFrameName</span></a></span></span><span> </span><span id="local-6989586621679442060"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442060"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; -F '(quote (name . \&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442060"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\&quot;))' &quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span>
</span><span id="line-442"></span><span>
</span><span id="line-443"></span><span class="hs-comment">-- | Set the appropriate X class for a window.  This will more often</span><span>
</span><span id="line-444"></span><span class="hs-comment">-- than not actually be the</span><span>
</span><span id="line-445"></span><span class="hs-comment">-- &lt;https://tronche.com/gui/x/icccm/sec-4.html#WM_CLASS instance name&gt;.</span><span>
</span><span id="line-446"></span><span class="annot"><a href="XMonad.Util.Run.html#setXClass"><span class="hs-identifier hs-type">setXClass</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-447"></span><span id="setXClass"><span class="annot"><span class="annottext">setXClass :: String -&gt; X Input
</span><a href="XMonad.Util.Run.html#setXClass"><span class="hs-identifier hs-var hs-var">setXClass</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Input
</span><a href="XMonad.Util.Run.html#mkDList"><span class="hs-identifier hs-var">mkDList</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; --class &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span>
</span><span id="line-448"></span><span>
</span><span id="line-449"></span><span class="hs-comment">-- | Spawn the 'XMonad.Core.XConfig.terminal' in some directory; it must</span><span>
</span><span id="line-450"></span><span class="hs-comment">-- support the @--working-directory@ option.</span><span>
</span><span id="line-451"></span><span class="annot"><a href="XMonad.Util.Run.html#termInDir"><span class="hs-identifier hs-type">termInDir</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-452"></span><span id="termInDir"><span class="annot"><span class="annottext">termInDir :: X Input
</span><a href="XMonad.Util.Run.html#termInDir"><span class="hs-identifier hs-var hs-var">termInDir</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">X Input
</span><a href="XMonad.Util.Run.html#inTerm"><span class="hs-identifier hs-var">inTerm</span></a></span><span> </span><span class="annot"><span class="annottext">X Input -&gt; X Input -&gt; X Input
</span><a href="XMonad.Util.Run.html#%3E-%3E"><span class="hs-operator hs-var">&gt;-&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">X Input
</span><a href="XMonad.Util.Run.html#inWorkingDir"><span class="hs-identifier hs-var">inWorkingDir</span></a></span><span>
</span><span id="line-453"></span><span>
</span><span id="line-454"></span><span class="hs-comment">-----------------------------------------------------------------------</span><span>
</span><span id="line-455"></span><span class="hs-comment">-- Emacs</span><span>
</span><span id="line-456"></span><span>
</span><span id="line-457"></span><span class="hs-comment">-- | Transform the given input into an elisp function; i.e., surround it</span><span>
</span><span id="line-458"></span><span class="hs-comment">-- with parentheses.</span><span>
</span><span id="line-459"></span><span class="hs-comment">--</span><span>
</span><span id="line-460"></span><span class="hs-comment">-- &gt;&gt;&gt; elispFun &quot;arxiv-citation URL&quot;</span><span>
</span><span id="line-461"></span><span class="hs-comment">-- &quot; '( arxiv-citation URL )' &quot;</span><span>
</span><span id="line-462"></span><span class="annot"><a href="XMonad.Util.Run.html#elispFun"><span class="hs-identifier hs-type">elispFun</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-463"></span><span id="elispFun"><span class="annot"><span class="annottext">elispFun :: Input
</span><a href="XMonad.Util.Run.html#elispFun"><span class="hs-identifier hs-var hs-var">elispFun</span></a></span></span><span> </span><span id="local-6989586621679442059"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442059"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; '( &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442059"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; )' &quot;</span></span><span>
</span><span id="line-464"></span><span>
</span><span id="line-465"></span><span class="hs-comment">-- | Treat an argument as a string; i.e., wrap it with quotes.</span><span>
</span><span id="line-466"></span><span class="hs-comment">--</span><span>
</span><span id="line-467"></span><span class="hs-comment">-- &gt;&gt;&gt; asString &quot;string&quot;</span><span>
</span><span id="line-468"></span><span class="hs-comment">-- &quot; \&quot;string\&quot; &quot;</span><span>
</span><span id="line-469"></span><span class="annot"><a href="XMonad.Util.Run.html#asString"><span class="hs-identifier hs-type">asString</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-470"></span><span id="asString"><span class="annot"><span class="annottext">asString :: Input
</span><a href="XMonad.Util.Run.html#asString"><span class="hs-identifier hs-var hs-var">asString</span></a></span></span><span> </span><span id="local-6989586621679442058"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442058"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; \&quot;&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442058"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\&quot; &quot;</span></span><span>
</span><span id="line-471"></span><span>
</span><span id="line-472"></span><span class="hs-comment">-- | Wrap the given commands in a @progn@.  The given commands need not</span><span>
</span><span id="line-473"></span><span class="hs-comment">-- be wrapped in parentheses (but can); this will be done by the</span><span>
</span><span id="line-474"></span><span class="hs-comment">-- function.  For example:</span><span>
</span><span id="line-475"></span><span class="hs-comment">--</span><span>
</span><span id="line-476"></span><span class="hs-comment">-- &gt;&gt;&gt; progn [require &quot;this-lib&quot;, &quot;function-from-this-lib arg&quot;, &quot;(other-function arg2)&quot;]</span><span>
</span><span id="line-477"></span><span class="hs-comment">-- &quot;(progn (require (quote this-lib)) (function-from-this-lib arg) (other-function arg2))&quot;</span><span>
</span><span id="line-478"></span><span class="annot"><a href="XMonad.Util.Run.html#progn"><span class="hs-identifier hs-type">progn</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-479"></span><span id="progn"><span class="annot"><span class="annottext">progn :: [String] -&gt; String
</span><a href="XMonad.Util.Run.html#progn"><span class="hs-identifier hs-var hs-var">progn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Input
</span><a href="XMonad.Util.Run.html#inParens"><span class="hs-identifier hs-var">inParens</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;progn &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Input
</span><a href="XMonad.Util.Run.html#inParens"><span class="hs-identifier hs-var">inParens</span></a></span><span>
</span><span id="line-480"></span><span>
</span><span id="line-481"></span><span class="hs-comment">-- | Require a package.</span><span>
</span><span id="line-482"></span><span class="hs-comment">--</span><span>
</span><span id="line-483"></span><span class="hs-comment">-- &gt;&gt;&gt; require &quot;arxiv-citation&quot;</span><span>
</span><span id="line-484"></span><span class="hs-comment">-- &quot;(require (quote arxiv-citation))&quot;</span><span>
</span><span id="line-485"></span><span class="annot"><a href="XMonad.Util.Run.html#require"><span class="hs-identifier hs-type">require</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-486"></span><span id="require"><span class="annot"><span class="annottext">require :: Input
</span><a href="XMonad.Util.Run.html#require"><span class="hs-identifier hs-var hs-var">require</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Input
</span><a href="XMonad.Util.Run.html#inParens"><span class="hs-identifier hs-var">inParens</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;require &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Input
</span><a href="XMonad.Util.Run.html#quote"><span class="hs-identifier hs-var">quote</span></a></span><span>
</span><span id="line-487"></span><span>
</span><span id="line-488"></span><span class="hs-comment">-- | Quote a symbol.</span><span>
</span><span id="line-489"></span><span class="hs-comment">--</span><span>
</span><span id="line-490"></span><span class="hs-comment">-- &gt;&gt;&gt; quote &quot;new-process&quot;</span><span>
</span><span id="line-491"></span><span class="hs-comment">-- &quot;(quote new-process)&quot;</span><span>
</span><span id="line-492"></span><span class="annot"><a href="XMonad.Util.Run.html#quote"><span class="hs-identifier hs-type">quote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-493"></span><span id="quote"><span class="annot"><span class="annottext">quote :: Input
</span><a href="XMonad.Util.Run.html#quote"><span class="hs-identifier hs-var hs-var">quote</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Input
</span><a href="XMonad.Util.Run.html#inParens"><span class="hs-identifier hs-var">inParens</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;quote &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span>
</span><span id="line-494"></span><span>
</span><span id="line-495"></span><span class="hs-comment">-- | Call @find-file@.</span><span>
</span><span id="line-496"></span><span class="hs-comment">--</span><span>
</span><span id="line-497"></span><span class="hs-comment">-- &gt;&gt;&gt; findFile &quot;/path/to/file&quot;</span><span>
</span><span id="line-498"></span><span class="hs-comment">-- &quot;(find-file \&quot;/path/to/file\&quot; )&quot;</span><span>
</span><span id="line-499"></span><span class="annot"><a href="XMonad.Util.Run.html#findFile"><span class="hs-identifier hs-type">findFile</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-500"></span><span id="findFile"><span class="annot"><span class="annottext">findFile :: Input
</span><a href="XMonad.Util.Run.html#findFile"><span class="hs-identifier hs-var hs-var">findFile</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Input
</span><a href="XMonad.Util.Run.html#inParens"><span class="hs-identifier hs-var">inParens</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;find-file&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Input
</span><a href="XMonad.Util.Run.html#asString"><span class="hs-identifier hs-var">asString</span></a></span><span>
</span><span id="line-501"></span><span>
</span><span id="line-502"></span><span class="hs-comment">-- | Make a list of the given inputs.</span><span>
</span><span id="line-503"></span><span class="hs-comment">--</span><span>
</span><span id="line-504"></span><span class="hs-comment">-- &gt;&gt;&gt; list [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;, &quot;qux&quot;]</span><span>
</span><span id="line-505"></span><span class="hs-comment">-- &quot;(list foo bar baz qux)&quot;</span><span>
</span><span id="line-506"></span><span class="annot"><a href="XMonad.Util.Run.html#list"><span class="hs-identifier hs-type">list</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-507"></span><span id="list"><span class="annot"><span class="annottext">list :: [String] -&gt; String
</span><a href="XMonad.Util.Run.html#list"><span class="hs-identifier hs-var hs-var">list</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Input
</span><a href="XMonad.Util.Run.html#inParens"><span class="hs-identifier hs-var">inParens</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;list &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span>
</span><span id="line-508"></span><span>
</span><span id="line-509"></span><span class="hs-comment">-- | Like 'progn', but with @save-excursion@.</span><span>
</span><span id="line-510"></span><span class="hs-comment">--</span><span>
</span><span id="line-511"></span><span class="hs-comment">-- &gt;&gt;&gt; saveExcursion [require &quot;this-lib&quot;, &quot;function-from-this-lib arg&quot;, &quot;(other-function arg2)&quot;]</span><span>
</span><span id="line-512"></span><span class="hs-comment">-- &quot;(save-excursion (require (quote this-lib)) (function-from-this-lib arg) (other-function arg2))&quot;</span><span>
</span><span id="line-513"></span><span class="annot"><a href="XMonad.Util.Run.html#saveExcursion"><span class="hs-identifier hs-type">saveExcursion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-514"></span><span id="saveExcursion"><span class="annot"><span class="annottext">saveExcursion :: [String] -&gt; String
</span><a href="XMonad.Util.Run.html#saveExcursion"><span class="hs-identifier hs-var hs-var">saveExcursion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Input
</span><a href="XMonad.Util.Run.html#inParens"><span class="hs-identifier hs-var">inParens</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;save-excursion &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Input
</span><a href="XMonad.Util.Run.html#inParens"><span class="hs-identifier hs-var">inParens</span></a></span><span>
</span><span id="line-515"></span><span>
</span><span id="line-516"></span><span class="hs-comment">-----------------------------------------------------------------------</span><span>
</span><span id="line-517"></span><span class="hs-comment">-- Batch mode</span><span>
</span><span id="line-518"></span><span>
</span><span id="line-519"></span><span class="hs-comment">-- | Tell Emacs to enable batch-mode.</span><span>
</span><span id="line-520"></span><span class="annot"><a href="XMonad.Util.Run.html#asBatch"><span class="hs-identifier hs-type">asBatch</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-521"></span><span id="asBatch"><span class="annot"><span class="annottext">asBatch :: X Input
</span><a href="XMonad.Util.Run.html#asBatch"><span class="hs-identifier hs-var hs-var">asBatch</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; --batch &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span>
</span><span id="line-522"></span><span>
</span><span id="line-523"></span><span class="hs-comment">-- | An Emacs library.</span><span>
</span><span id="line-524"></span><span class="hs-keyword">data</span><span> </span><span id="EmacsLib"><span class="annot"><a href="XMonad.Util.Run.html#EmacsLib"><span class="hs-identifier hs-var">EmacsLib</span></a></span></span><span>
</span><span id="line-525"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="OwnFile"><span class="annot"><a href="XMonad.Util.Run.html#OwnFile"><span class="hs-identifier hs-var">OwnFile</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-526"></span><span>    </span><span class="hs-comment">-- ^ A /file/ from 'emacsLispDir'.</span><span>
</span><span id="line-527"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ElpaLib"><span class="annot"><a href="XMonad.Util.Run.html#ElpaLib"><span class="hs-identifier hs-var">ElpaLib</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-528"></span><span>    </span><span class="hs-comment">-- ^ A /directory/ in 'emacsElpaDir'.</span><span>
</span><span id="line-529"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Special"><span class="annot"><a href="XMonad.Util.Run.html#Special"><span class="hs-identifier hs-var">Special</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-530"></span><span>    </span><span class="hs-comment">-- ^ Special /files/; these will not be looked up somewhere, but</span><span>
</span><span id="line-531"></span><span>    </span><span class="hs-comment">-- forwarded verbatim (as a path).</span><span>
</span><span id="line-532"></span><span>
</span><span id="line-533"></span><span class="hs-comment">-- | Load some Emacs libraries.  This is useful when executing scripts</span><span>
</span><span id="line-534"></span><span class="hs-comment">-- in batch mode.</span><span>
</span><span id="line-535"></span><span class="annot"><a href="XMonad.Util.Run.html#withEmacsLibs"><span class="hs-identifier hs-type">withEmacsLibs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="XMonad.Util.Run.html#EmacsLib"><span class="hs-identifier hs-type">EmacsLib</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#Input"><span class="hs-identifier hs-type">Input</span></a></span><span>
</span><span id="line-536"></span><span id="withEmacsLibs"><span class="annot"><span class="annottext">withEmacsLibs :: [EmacsLib] -&gt; X Input
</span><a href="XMonad.Util.Run.html#withEmacsLibs"><span class="hs-identifier hs-var hs-var">withEmacsLibs</span></a></span></span><span> </span><span id="local-6989586621679442052"><span class="annot"><span class="annottext">[EmacsLib]
</span><a href="#local-6989586621679442052"><span class="hs-identifier hs-var">libs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a b.
(MonadReader XConf m, Typeable a, Default a) =&gt;
(a -&gt; m b) -&gt; m b
</span><a href="XMonad.Util.ExtensibleConf.html#withDef"><span class="hs-identifier hs-var">XC.withDef</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><a href="XMonad.Util.Run.html#ProcessConfig"><span class="hs-identifier hs-type">ProcessConfig</span></a></span><span class="hs-special">{</span><span id="local-6989586621679442051"><span class="annot"><span class="annottext">String
emacsLispDir :: String
emacsLispDir :: ProcessConfig -&gt; String
</span><a href="#local-6989586621679442051"><span class="hs-identifier hs-var hs-var">emacsLispDir</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679442050"><span class="annot"><span class="annottext">String
emacsElpaDir :: String
emacsElpaDir :: ProcessConfig -&gt; String
</span><a href="#local-6989586621679442050"><span class="hs-identifier hs-var hs-var">emacsElpaDir</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-537"></span><span>  </span><span id="local-6989586621679442049"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442049"><span class="hs-identifier hs-var">lispDir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m String
</span><a href="XMonad.Prelude.html#mkAbsolutePath"><span class="hs-identifier hs-var">mkAbsolutePath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442051"><span class="hs-identifier hs-var">emacsLispDir</span></a></span><span>
</span><span id="line-538"></span><span>  </span><span id="local-6989586621679442047"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442047"><span class="hs-identifier hs-var">elpaDir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m String
</span><a href="XMonad.Prelude.html#mkAbsolutePath"><span class="hs-identifier hs-var">mkAbsolutePath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442050"><span class="hs-identifier hs-var">emacsElpaDir</span></a></span><span>
</span><span id="line-539"></span><span>  </span><span id="local-6989586621679442046"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679442046"><span class="hs-identifier hs-var">lisp</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO [String]
</span><span class="hs-identifier hs-var">getDirectoryContents</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442049"><span class="hs-identifier hs-var">lispDir</span></a></span><span>
</span><span id="line-540"></span><span>  </span><span id="local-6989586621679442044"><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679442044"><span class="hs-identifier hs-var">elpa</span></a></span></span><span>    </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO [String]
</span><span class="hs-identifier hs-var">getDirectoryContents</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442047"><span class="hs-identifier hs-var">elpaDir</span></a></span><span>
</span><span id="line-541"></span><span>
</span><span id="line-542"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679442029"><span class="annot"><span class="annottext">EmacsLib -&gt; Maybe String
</span><a href="#local-6989586621679442029"><span class="hs-identifier hs-var">getLib</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Run.html#EmacsLib"><span class="hs-identifier hs-type">EmacsLib</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-543"></span><span>        </span><span class="annot"><a href="XMonad.Util.Run.html#OwnFile"><span class="hs-identifier hs-type">OwnFile</span></a></span><span> </span><span id="local-6989586621679442028"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442028"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-l &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442049"><span class="hs-identifier hs-var">lispDir</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">find</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442028"><span class="hs-identifier hs-var">f</span></a></span><span>          </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><span class="hs-operator hs-var">`isPrefixOf`</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679442046"><span class="hs-identifier hs-var">lisp</span></a></span><span>
</span><span id="line-544"></span><span>        </span><span class="annot"><a href="XMonad.Util.Run.html#ElpaLib"><span class="hs-identifier hs-type">ElpaLib</span></a></span><span> </span><span id="local-6989586621679442024"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442024"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-L &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442047"><span class="hs-identifier hs-var">elpaDir</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">find</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442024"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><span class="hs-operator hs-var">`isPrefixOf`</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="#local-6989586621679442044"><span class="hs-identifier hs-var">elpa</span></a></span><span>
</span><span id="line-545"></span><span>        </span><span class="annot"><a href="XMonad.Util.Run.html#Special"><span class="hs-identifier hs-type">Special</span></a></span><span> </span><span id="local-6989586621679442023"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442023"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; -l &quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442023"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-546"></span><span>  </span><span class="annot"><span class="annottext">forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Input
</span><a href="XMonad.Util.Run.html#mkDList"><span class="hs-identifier hs-var">mkDList</span></a></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
</span><span class="hs-identifier hs-var">unwords</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">EmacsLib -&gt; Maybe String
</span><a href="#local-6989586621679442029"><span class="hs-identifier hs-var">getLib</span></a></span><span> </span><span class="annot"><span class="annottext">forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[EmacsLib]
</span><a href="#local-6989586621679442052"><span class="hs-identifier hs-var">libs</span></a></span><span>
</span><span id="line-547"></span><span>
</span><span id="line-548"></span><span class="hs-comment">-----------------------------------------------------------------------</span><span>
</span><span id="line-549"></span><span class="hs-comment">-- Util</span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span class="annot"><a href="XMonad.Util.Run.html#mkDList"><span class="hs-identifier hs-type">mkDList</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ShowS</span></span><span>
</span><span id="line-552"></span><span id="mkDList"><span class="annot"><span class="annottext">mkDList :: String -&gt; Input
</span><a href="XMonad.Util.Run.html#mkDList"><span class="hs-identifier hs-var hs-var">mkDList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span> </span><span class="annot"><span class="annottext">forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-553"></span><span>
</span><span id="line-554"></span><span class="annot"><a href="XMonad.Util.Run.html#inParens"><span class="hs-identifier hs-type">inParens</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-555"></span><span id="inParens"><span class="annot"><span class="annottext">inParens :: Input
</span><a href="XMonad.Util.Run.html#inParens"><span class="hs-identifier hs-var hs-var">inParens</span></a></span></span><span> </span><span id="local-6989586621679442021"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442021"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442021"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-556"></span><span>  </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'('</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442021"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-557"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>       </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;(&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442021"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span>
</span><span id="line-558"></span><span>
</span><span id="line-559"></span><span class="annot"><a href="XMonad.Util.Run.html#tryQuote"><span class="hs-identifier hs-type">tryQuote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-560"></span><span id="tryQuote"><span class="annot"><span class="annottext">tryQuote :: Input
</span><a href="XMonad.Util.Run.html#tryQuote"><span class="hs-identifier hs-var hs-var">tryQuote</span></a></span></span><span> </span><span id="local-6989586621679442020"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442020"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">dropWhile</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442020"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-561"></span><span>  </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'\''</span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442020"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-562"></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span>        </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679442020"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;'&quot;</span></span><span>
</span><span id="line-563"></span></pre></body></html>