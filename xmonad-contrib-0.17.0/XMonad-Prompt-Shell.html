<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>XMonad.Prompt.Shell</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">xmonad-contrib-0.17.0: Community-maintained extensions extensions for xmonad</span><ul class="links" id="page-menu"><li><a href="src/XMonad.Prompt.Shell.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(C) 2007 Andrea Rossato</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>andrea.rossato@unibz.it</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>unportable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">XMonad.Prompt.Shell</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Usage</a><ul><li><a href="#g:2">Variations on shellPrompt</a></li></ul></li><li><a href="#g:3">Utility functions</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A shell prompt for XMonad</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Shell">Shell</a> = <a href="#v:Shell">Shell</a></li><li class="src short"><a href="#v:shellPrompt">shellPrompt</a> :: <a href="XMonad-Prompt.html#t:XPConfig" title="XMonad.Prompt">XPConfig</a> -&gt; <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> ()</li><li class="src short"><a href="#v:safePrompt">safePrompt</a> :: <a href="XMonad-Config-Prime.html#t:FilePath" title="XMonad.Config.Prime">FilePath</a> -&gt; <a href="XMonad-Prompt.html#t:XPConfig" title="XMonad.Prompt">XPConfig</a> -&gt; <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> ()</li><li class="src short"><a href="#v:safeDirPrompt">safeDirPrompt</a> :: <a href="XMonad-Config-Prime.html#t:FilePath" title="XMonad.Config.Prime">FilePath</a> -&gt; <a href="XMonad-Prompt.html#t:XPConfig" title="XMonad.Prompt">XPConfig</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> ()</li><li class="src short"><a href="#v:unsafePrompt">unsafePrompt</a> :: <a href="XMonad-Config-Prime.html#t:FilePath" title="XMonad.Config.Prime">FilePath</a> -&gt; <a href="XMonad-Prompt.html#t:XPConfig" title="XMonad.Prompt">XPConfig</a> -&gt; <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> ()</li><li class="src short"><a href="#v:prompt">prompt</a> :: <a href="XMonad-Config-Prime.html#t:FilePath" title="XMonad.Config.Prime">FilePath</a> -&gt; <a href="XMonad-Prompt.html#t:XPConfig" title="XMonad.Prompt">XPConfig</a> -&gt; <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> ()</li><li class="src short"><a href="#v:compgenDirectories">compgenDirectories</a> :: <a href="XMonad-Prompt.html#t:ComplCaseSensitivity" title="XMonad.Prompt">ComplCaseSensitivity</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a></li><li class="src short"><a href="#v:compgenFiles">compgenFiles</a> :: <a href="XMonad-Prompt.html#t:ComplCaseSensitivity" title="XMonad.Prompt">ComplCaseSensitivity</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a></li><li class="src short"><a href="#v:getCommands">getCommands</a> :: <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> [<a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a>]</li><li class="src short"><a href="#v:getBrowser">getBrowser</a> :: <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a></li><li class="src short"><a href="#v:getEditor">getEditor</a> :: <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a></li><li class="src short"><a href="#v:getShellCompl">getShellCompl</a> :: [<a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a>] -&gt; Predicate -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> [<a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a>]</li><li class="src short"><a href="#v:getShellCompl-39-">getShellCompl'</a> :: <a href="XMonad-Prompt.html#t:ComplCaseSensitivity" title="XMonad.Prompt">ComplCaseSensitivity</a> -&gt; [<a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a>] -&gt; Predicate -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> [<a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a>]</li><li class="src short"><a href="#v:split">split</a> :: <a href="XMonad-Config-Prime.html#t:Eq" title="XMonad.Config.Prime">Eq</a> a =&gt; a -&gt; [a] -&gt; [[a]]</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Usage</h1></a><div class="doc"><ol><li>In your <code>~/.xmonad/xmonad.hs</code>:</li></ol><pre>import XMonad.Prompt
import XMonad.Prompt.Shell</pre><ol><li>In your keybindings add something like:</li></ol><pre>  , ((modm .|. controlMask, xK_x), shellPrompt def)</pre><p>For detailed instruction on editing the key binding see
<a href="XMonad-Doc-Extending.html#Editing_key_bindings">XMonad.Doc.Extending</a>. </p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Shell" class="def">Shell</a> <a href="src/XMonad.Prompt.Shell.html#Shell" class="link">Source</a> <a href="#t:Shell" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Shell" class="def">Shell</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Shell">Instances</h4><details id="i:Shell" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Shell:XPrompt:1"></span> <a href="XMonad-Prompt.html#t:XPrompt" title="XMonad.Prompt">XPrompt</a> <a href="XMonad-Prompt-Shell.html#t:Shell" title="XMonad.Prompt.Shell">Shell</a></span> <a href="src/XMonad.Prompt.Shell.html#line-70" class="link">Source</a> <a href="#t:Shell" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Shell:XPrompt:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="XMonad-Prompt-Shell.html">XMonad.Prompt.Shell</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showXPrompt">showXPrompt</a> :: <a href="XMonad-Prompt-Shell.html#t:Shell" title="XMonad.Prompt.Shell">Shell</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> <a href="src/XMonad.Prompt.html#showXPrompt" class="link">Source</a> <a href="#v:showXPrompt" class="selflink">#</a></p><p class="src"><a href="#v:nextCompletion">nextCompletion</a> :: <a href="XMonad-Prompt-Shell.html#t:Shell" title="XMonad.Prompt.Shell">Shell</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; [<a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a>] -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> <a href="src/XMonad.Prompt.html#nextCompletion" class="link">Source</a> <a href="#v:nextCompletion" class="selflink">#</a></p><p class="src"><a href="#v:commandToComplete">commandToComplete</a> :: <a href="XMonad-Prompt-Shell.html#t:Shell" title="XMonad.Prompt.Shell">Shell</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> <a href="src/XMonad.Prompt.html#commandToComplete" class="link">Source</a> <a href="#v:commandToComplete" class="selflink">#</a></p><p class="src"><a href="#v:completionToCommand">completionToCommand</a> :: <a href="XMonad-Prompt-Shell.html#t:Shell" title="XMonad.Prompt.Shell">Shell</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> <a href="src/XMonad.Prompt.html#completionToCommand" class="link">Source</a> <a href="#v:completionToCommand" class="selflink">#</a></p><p class="src"><a href="#v:completionFunction">completionFunction</a> :: <a href="XMonad-Prompt-Shell.html#t:Shell" title="XMonad.Prompt.Shell">Shell</a> -&gt; <a href="XMonad-Prompt.html#t:ComplFunction" title="XMonad.Prompt">ComplFunction</a> <a href="src/XMonad.Prompt.html#completionFunction" class="link">Source</a> <a href="#v:completionFunction" class="selflink">#</a></p><p class="src"><a href="#v:modeAction">modeAction</a> :: <a href="XMonad-Prompt-Shell.html#t:Shell" title="XMonad.Prompt.Shell">Shell</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> () <a href="src/XMonad.Prompt.html#modeAction" class="link">Source</a> <a href="#v:modeAction" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:shellPrompt" class="def">shellPrompt</a> :: <a href="XMonad-Prompt.html#t:XPConfig" title="XMonad.Prompt">XPConfig</a> -&gt; <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> () <a href="src/XMonad.Prompt.Shell.html#shellPrompt" class="link">Source</a> <a href="#v:shellPrompt" class="selflink">#</a></p></div><a href="#g:2" id="g:2"><h2>Variations on shellPrompt</h2></a><div class="doc"><p>See safe and unsafeSpawn in <a href="XMonad-Util-Run.html">XMonad.Util.Run</a>.
    prompt is an alias for unsafePrompt;
    safePrompt and unsafePrompt work on the same principles, but will use
    XPrompt to interactively query the user for input; the appearance is
    set by passing an XPConfig as the second argument. The first argument
    is the program to be run with the interactive input.
    You would use these like this:</p><pre>    , ((modm,               xK_b), safePrompt &quot;firefox&quot; greenXPConfig)
    , ((modm .|. shiftMask, xK_c), prompt (&quot;xterm&quot; ++ &quot; -e&quot;) greenXPConfig)</pre><p>Note that you want to use safePrompt for Firefox input, as Firefox
    wants URLs, and unsafePrompt for the XTerm example because this allows
    you to easily start a terminal executing an arbitrary command, like
    <code>top</code>. </p></div><div class="top"><p class="src"><a id="v:safePrompt" class="def">safePrompt</a> :: <a href="XMonad-Config-Prime.html#t:FilePath" title="XMonad.Config.Prime">FilePath</a> -&gt; <a href="XMonad-Prompt.html#t:XPConfig" title="XMonad.Prompt">XPConfig</a> -&gt; <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> () <a href="src/XMonad.Prompt.Shell.html#safePrompt" class="link">Source</a> <a href="#v:safePrompt" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:safeDirPrompt" class="def">safeDirPrompt</a> <a href="src/XMonad.Prompt.Shell.html#safeDirPrompt" class="link">Source</a> <a href="#v:safeDirPrompt" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="XMonad-Config-Prime.html#t:FilePath" title="XMonad.Config.Prime">FilePath</a></td><td class="doc"><p>The command to execute</p></td></tr><tr><td class="src">-&gt; <a href="XMonad-Prompt.html#t:XPConfig" title="XMonad.Prompt">XPConfig</a></td><td class="doc"><p>The prompt configuration</p></td></tr><tr><td class="src">-&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a></td><td class="doc"><p>Which string to start <code>compgen</code> with</p></td></tr><tr><td class="src">-&gt; <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="XMonad-Prompt-Shell.html#v:safePrompt" title="XMonad.Prompt.Shell">safePrompt</a></code>, but optimized for the use-case of a program that
needs a file as an argument.</p><p>For example, a prompt for <a href="https://github.com/mwh/dragon">dragon</a> that
always starts searching in your home directory would look like</p><pre>safeDirPrompt &quot;dragon&quot; def &quot;~/&quot;</pre><p>This is especially useful when using something like
<code><a href="XMonad-Prompt-FuzzyMatch.html#v:fuzzyMatch" title="XMonad.Prompt.FuzzyMatch">fuzzyMatch</a></code> from <a href="XMonad-Prompt-FuzzyMatch.html">XMonad.Prompt.FuzzyMatch</a> as
your prompt's <code>searchPredicate</code>.</p></div></div><div class="top"><p class="src"><a id="v:unsafePrompt" class="def">unsafePrompt</a> :: <a href="XMonad-Config-Prime.html#t:FilePath" title="XMonad.Config.Prime">FilePath</a> -&gt; <a href="XMonad-Prompt.html#t:XPConfig" title="XMonad.Prompt">XPConfig</a> -&gt; <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> () <a href="src/XMonad.Prompt.Shell.html#unsafePrompt" class="link">Source</a> <a href="#v:unsafePrompt" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:prompt" class="def">prompt</a> :: <a href="XMonad-Config-Prime.html#t:FilePath" title="XMonad.Config.Prime">FilePath</a> -&gt; <a href="XMonad-Prompt.html#t:XPConfig" title="XMonad.Prompt">XPConfig</a> -&gt; <a href="XMonad-Config-Prime.html#t:X" title="XMonad.Config.Prime">X</a> () <a href="src/XMonad.Prompt.Shell.html#prompt" class="link">Source</a> <a href="#v:prompt" class="selflink">#</a></p></div><a href="#g:3" id="g:3"><h1>Utility functions</h1></a><div class="top"><p class="src"><a id="v:compgenDirectories" class="def">compgenDirectories</a> :: <a href="XMonad-Prompt.html#t:ComplCaseSensitivity" title="XMonad.Prompt">ComplCaseSensitivity</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> <a href="src/XMonad.Prompt.Shell.html#compgenDirectories" class="link">Source</a> <a href="#v:compgenDirectories" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:compgenFiles" class="def">compgenFiles</a> :: <a href="XMonad-Prompt.html#t:ComplCaseSensitivity" title="XMonad.Prompt">ComplCaseSensitivity</a> -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> <a href="src/XMonad.Prompt.Shell.html#compgenFiles" class="link">Source</a> <a href="#v:compgenFiles" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getCommands" class="def">getCommands</a> :: <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> [<a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a>] <a href="src/XMonad.Prompt.Shell.html#getCommands" class="link">Source</a> <a href="#v:getCommands" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getBrowser" class="def">getBrowser</a> :: <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> <a href="src/XMonad.Prompt.Shell.html#getBrowser" class="link">Source</a> <a href="#v:getBrowser" class="selflink">#</a></p><div class="doc"><p>Ask the shell what browser the user likes. If the user hasn't defined any
   $BROWSER, defaults to returning &quot;firefox&quot;, since that seems to be the most
   common X web browser.
   Note that if you don't specify a GUI browser but a textual one, that'll be a problem
   as <code><a href="XMonad-Prompt-Shell.html#v:getBrowser" title="XMonad.Prompt.Shell">getBrowser</a></code> will be called by functions expecting to be able to just execute the string
   or pass it to a shell; so in that case, define $BROWSER as something like &quot;xterm -e elinks&quot;
   or as the name of a shell script doing much the same thing. </p></div></div><div class="top"><p class="src"><a id="v:getEditor" class="def">getEditor</a> :: <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> <a href="src/XMonad.Prompt.Shell.html#getEditor" class="link">Source</a> <a href="#v:getEditor" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="XMonad-Prompt-Shell.html#v:getBrowser" title="XMonad.Prompt.Shell">getBrowser</a></code>, but should be of a text editor. This gets the $EDITOR variable, defaulting to &quot;emacs&quot;.</p></div></div><div class="top"><p class="src"><a id="v:getShellCompl" class="def">getShellCompl</a> :: [<a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a>] -&gt; Predicate -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> [<a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a>] <a href="src/XMonad.Prompt.Shell.html#getShellCompl" class="link">Source</a> <a href="#v:getShellCompl" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getShellCompl-39-" class="def">getShellCompl'</a> :: <a href="XMonad-Prompt.html#t:ComplCaseSensitivity" title="XMonad.Prompt">ComplCaseSensitivity</a> -&gt; [<a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a>] -&gt; Predicate -&gt; <a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a> -&gt; <a href="XMonad-Config-Prime.html#t:IO" title="XMonad.Config.Prime">IO</a> [<a href="XMonad-Config-Prime.html#t:String" title="XMonad.Config.Prime">String</a>] <a href="src/XMonad.Prompt.Shell.html#getShellCompl%27" class="link">Source</a> <a href="#v:getShellCompl-39-" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:split" class="def">split</a> :: <a href="XMonad-Config-Prime.html#t:Eq" title="XMonad.Config.Prime">Eq</a> a =&gt; a -&gt; [a] -&gt; [[a]] <a href="src/XMonad.Prompt.Shell.html#split" class="link">Source</a> <a href="#v:split" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>