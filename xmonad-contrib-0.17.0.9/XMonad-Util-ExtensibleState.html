<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>XMonad.Util.ExtensibleState</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">xmonad-contrib-0.17.0.9: Community-maintained extensions for xmonad</span><ul class="links" id="page-menu"><li><a href="src/XMonad.Util.ExtensibleState.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Daniel Schoepe 2009</td></tr><tr><th>License</th><td>BSD3-style (see LICENSE)</td></tr><tr><th>Maintainer</th><td>daniel.schoepe@gmail.com</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>not portable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">XMonad.Util.ExtensibleState</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Usage</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Module for storing custom mutable state in xmonad.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:put">put</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; a -&gt; m ()</li><li class="src short"><a href="#v:modify">modify</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; a) -&gt; m ()</li><li class="src short"><a href="#v:modify-39-">modify'</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; a) -&gt; m ()</li><li class="src short"><a href="#v:modifyM">modifyM</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; m a) -&gt; m ()</li><li class="src short"><a href="#v:modifyM-39-">modifyM'</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; m a) -&gt; m ()</li><li class="src short"><a href="#v:remove">remove</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; a -&gt; m ()</li><li class="src short"><a href="#v:get">get</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; m a</li><li class="src short"><a href="#v:gets">gets</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; b) -&gt; m b</li><li class="src short"><a href="#v:modified">modified</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Config-Prime.html#t:Eq" title="XMonad.Config.Prime">Eq</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; a) -&gt; m <a href="XMonad-Config-Prime.html#t:Bool" title="XMonad.Config.Prime">Bool</a></li><li class="src short"><a href="#v:modifiedM">modifiedM</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Config-Prime.html#t:Eq" title="XMonad.Config.Prime">Eq</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; m a) -&gt; m <a href="XMonad-Config-Prime.html#t:Bool" title="XMonad.Config.Prime">Bool</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Usage</h1></a><div class="doc"><p>To utilize this feature in a contrib module, create a data type
 and make it an instance of ExtensionClass. You can then use
 the functions from this module for storing and retrieving your data:</p><pre>import qualified XMonad.Util.ExtensibleState as XS

data ListStorage = ListStorage [Integer]
instance ExtensionClass ListStorage where
  initialValue = ListStorage []

.. XS.put (ListStorage [23,42])</pre><p>To retrieve the stored value call:</p><pre>.. XS.get</pre><p>If the type can't be inferred from the usage of the retrieved data, you
 have to add an explicit type signature:</p><pre>.. XS.get :: X ListStorage</pre><p>To make your data persistent between restarts, the data type needs to be
 an instance of Read and Show and the instance declaration has to be changed:</p><pre>data ListStorage = ListStorage [Integer] deriving (Read,Show)

instance ExtensionClass ListStorage where
  initialValue = ListStorage []
  extensionType = PersistentExtension</pre><p>One should take care that the string representation of the chosen type
 is unique among the stored values, otherwise it will be overwritten.
 Normally these string representations contain fully qualified module names
 when automatically deriving Typeable, so
 name collisions should not be a problem in most cases.
 A module should not try to store common datatypes(e.g. a list of Integers)
 without a custom data type as a wrapper to avoid collisions with other modules
 trying to store the same data type without a wrapper.</p></div><div class="top"><p class="src"><a id="v:put" class="def">put</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; a -&gt; m () <a href="src/XMonad.Util.ExtensibleState.html#put" class="link">Source</a> <a href="#v:put" class="selflink">#</a></p><div class="doc"><p>Add a value to the extensible state field. A previously stored value with the same
 type will be overwritten. (More precisely: A value whose string representation of its type
 is equal to the new one's)</p></div></div><div class="top"><p class="src"><a id="v:modify" class="def">modify</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; a) -&gt; m () <a href="src/XMonad.Util.ExtensibleState.html#modify" class="link">Source</a> <a href="#v:modify" class="selflink">#</a></p><div class="doc"><p>Apply a function to a stored value of the matching type or the initial value if there
 is none.</p></div></div><div class="top"><p class="src"><a id="v:modify-39-" class="def">modify'</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; a) -&gt; m () <a href="src/XMonad.Util.ExtensibleState.html#modify%27" class="link">Source</a> <a href="#v:modify-39-" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="XMonad-Util-ExtensibleState.html#v:modify" title="XMonad.Util.ExtensibleState">modify</a></code> but the result value is forced to WHNF before being stored.</p></div></div><div class="top"><p class="src"><a id="v:modifyM" class="def">modifyM</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; m a) -&gt; m () <a href="src/XMonad.Util.ExtensibleState.html#modifyM" class="link">Source</a> <a href="#v:modifyM" class="selflink">#</a></p><div class="doc"><p>Apply an action to a stored value of the matching type or the initial value if there
 is none.</p></div></div><div class="top"><p class="src"><a id="v:modifyM-39-" class="def">modifyM'</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; m a) -&gt; m () <a href="src/XMonad.Util.ExtensibleState.html#modifyM%27" class="link">Source</a> <a href="#v:modifyM-39-" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="XMonad-Util-ExtensibleState.html#v:modifyM" title="XMonad.Util.ExtensibleState">modifyM</a></code> but the result value is forced to WHNF before being stored.</p></div></div><div class="top"><p class="src"><a id="v:remove" class="def">remove</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; a -&gt; m () <a href="src/XMonad.Util.ExtensibleState.html#remove" class="link">Source</a> <a href="#v:remove" class="selflink">#</a></p><div class="doc"><p>Remove the value from the extensible state field that has the same type as the supplied argument</p></div></div><div class="top"><p class="src"><a id="v:get" class="def">get</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; m a <a href="src/XMonad.Util.ExtensibleState.html#get" class="link">Source</a> <a href="#v:get" class="selflink">#</a></p><div class="doc"><p>Try to retrieve a value of the requested type, return an initial value if there is no such value.</p></div></div><div class="top"><p class="src"><a id="v:gets" class="def">gets</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; b) -&gt; m b <a href="src/XMonad.Util.ExtensibleState.html#gets" class="link">Source</a> <a href="#v:gets" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modified" class="def">modified</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Config-Prime.html#t:Eq" title="XMonad.Config.Prime">Eq</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; a) -&gt; m <a href="XMonad-Config-Prime.html#t:Bool" title="XMonad.Config.Prime">Bool</a> <a href="src/XMonad.Util.ExtensibleState.html#modified" class="link">Source</a> <a href="#v:modified" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:modifiedM" class="def">modifiedM</a> :: (<a href="XMonad-Config-Prime.html#t:ExtensionClass" title="XMonad.Config.Prime">ExtensionClass</a> a, <a href="XMonad-Config-Prime.html#t:Eq" title="XMonad.Config.Prime">Eq</a> a, <a href="XMonad-Util-PureX.html#t:XLike" title="XMonad.Util.PureX">XLike</a> m) =&gt; (a -&gt; m a) -&gt; m <a href="XMonad-Config-Prime.html#t:Bool" title="XMonad.Config.Prime">Bool</a> <a href="src/XMonad.Util.ExtensibleState.html#modifiedM" class="link">Source</a> <a href="#v:modifiedM" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.25.1</p></div></body></html>