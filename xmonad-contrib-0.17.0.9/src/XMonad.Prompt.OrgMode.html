<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="local-6989586621679412669"><span id="local-6989586621679412670"></span></span><span class="hs-pragma">{-# LANGUAGE CPP                 #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE InstanceSigs        #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE LambdaCase          #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns      #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings   #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE StrictData          #-}</span><span>
</span><span id="line-8"></span><span class="hs-comment">--------------------------------------------------------------------</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-10"></span><span class="hs-comment">-- Module      :  XMonad.Prompt.OrgMode</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- Description :  A prompt for interacting with org-mode.</span><span>
</span><span id="line-12"></span><span class="hs-comment">-- Copyright   :  (c) 2021  Tony Zorman</span><span>
</span><span id="line-13"></span><span class="hs-comment">-- License     :  BSD3-style (see LICENSE)</span><span>
</span><span id="line-14"></span><span class="hs-comment">--</span><span>
</span><span id="line-15"></span><span class="hs-comment">-- Maintainer  :  Tony Zorman &lt;soliditsallgood@mailbox.org&gt;</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- Stability   :  experimental</span><span>
</span><span id="line-17"></span><span class="hs-comment">-- Portability :  unknown</span><span>
</span><span id="line-18"></span><span class="hs-comment">--</span><span>
</span><span id="line-19"></span><span class="hs-comment">-- A prompt for interacting with &lt;https:\/\/orgmode.org\/ org-mode&gt;.</span><span>
</span><span id="line-20"></span><span class="hs-comment">-- This can be seen as an org-specific version of</span><span>
</span><span id="line-21"></span><span class="hs-comment">-- &quot;XMonad.Prompt.AppendFile&quot;, allowing for more interesting</span><span>
</span><span id="line-22"></span><span class="hs-comment">-- interactions with that particular file type.</span><span>
</span><span id="line-23"></span><span class="hs-comment">--</span><span>
</span><span id="line-24"></span><span class="hs-comment">-- It can be used to quickly save TODOs, NOTEs, and the like with the</span><span>
</span><span id="line-25"></span><span class="hs-comment">-- additional capability to schedule/deadline a task, add a priority,</span><span>
</span><span id="line-26"></span><span class="hs-comment">-- and use the system's clipboard (really: the primary selection) as the</span><span>
</span><span id="line-27"></span><span class="hs-comment">-- contents of the note.</span><span>
</span><span id="line-28"></span><span class="hs-comment">--</span><span>
</span><span id="line-29"></span><span class="hs-comment">-- A blog post highlighting some features of this module can be found</span><span>
</span><span id="line-30"></span><span class="hs-comment">-- &lt;https://tony-zorman.com/posts/orgmode-prompt/2022-08-27-xmonad-and-org-mode.html here&gt;.</span><span>
</span><span id="line-31"></span><span class="hs-comment">--</span><span>
</span><span id="line-32"></span><span class="hs-comment">--------------------------------------------------------------------</span><span>
</span><span id="line-33"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">XMonad.Prompt.OrgMode</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Usage</span></span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><span class="hs-comment">-- $usage</span></span><span>
</span><span id="line-36"></span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Prompts</span></span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#orgPrompt"><span class="hs-identifier">orgPrompt</span></a></span><span class="hs-special">,</span><span>              </span><span class="hs-comment">-- :: XPConfig -&gt; String -&gt; FilePath -&gt; X ()</span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#orgPromptPrimary"><span class="hs-identifier">orgPromptPrimary</span></a></span><span class="hs-special">,</span><span>       </span><span class="hs-comment">-- :: XPConfig -&gt; String -&gt; FilePath -&gt; X ()</span><span>
</span><span id="line-40"></span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><span class="hs-comment">-- * Types</span></span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#ClipboardSupport"><span class="hs-identifier">ClipboardSupport</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier">OrgMode</span></a></span><span class="hs-special">,</span><span>                </span><span class="hs-comment">-- abstract</span><span class="hs-cpp">

#ifdef TESTING
</span><span>    </span><span class="hs-identifier">pInput</span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>    </span><span class="hs-identifier">Note</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>    </span><span class="hs-identifier">Priority</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>    </span><span class="hs-identifier">Date</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>    </span><span class="hs-identifier">Time</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>    </span><span class="hs-identifier">TimeOfDay</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>    </span><span class="hs-identifier">DayOfWeek</span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-55"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-56"></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Prelude.html"><span class="hs-identifier">XMonad.Prelude</span></a></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">XMonad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">X</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">io</span></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Prompt.html"><span class="hs-identifier">XMonad.Prompt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.html#XPConfig"><span class="hs-identifier">XPConfig</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#XPrompt"><span class="hs-identifier">XPrompt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.html#showXPrompt"><span class="hs-identifier">showXPrompt</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#mkXPrompt"><span class="hs-identifier">mkXPrompt</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html"><span class="hs-identifier">XMonad.Util.Parser</span></a></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="XMonad.Util.XSelection.html"><span class="hs-identifier">XMonad.Util.XSelection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Util.XSelection.html#getSelection"><span class="hs-identifier">getSelection</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Time</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Day</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ModifiedJulianDay</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">NominalDiffTime</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">UTCTime</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">utctDay</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">addUTCTime</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">defaultTimeLocale</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">formatTime</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromGregorian</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">getCurrentTime</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">iso8601DateFormat</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">nominalDay</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">toGregorian</span></span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.IO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">IOMode</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">AppendMode</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">hPutStrLn</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">withFile</span></span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-comment">{- $usage

You can use this module by importing it, along with &quot;XMonad.Prompt&quot;, in
your @xmonad.hs@

&gt; import XMonad.Prompt
&gt; import XMonad.Prompt.OrgMode (orgPrompt)

and adding an appropriate keybinding.  For example, using syntax from
&quot;XMonad.Util.EZConfig&quot;:

&gt; , (&quot;M-C-o&quot;, orgPrompt def &quot;TODO&quot; &quot;/home/me/org/todos.org&quot;)

This would create notes of the form @* TODO /my-message/@ in the
specified file.

You can also enter a relative path; in that case the file path will be
prepended with @$HOME@ or an equivalent directory.  I.e. instead of the
above you can write

&gt; , (&quot;M-C-o&quot;, orgPrompt def &quot;TODO&quot; &quot;org/todos.org&quot;)
&gt;                -- also possible: &quot;~/org/todos.org&quot;

There is also some scheduling and deadline functionality present.  This
may be initiated by entering @+s@ or @+d@&#8212;separated by at least one
whitespace character on either side&#8212;into the prompt, respectively.
Then, one may enter a date and (optionally) a time of day.  Any of the
following are valid dates, where brackets indicate optionality:

  - tod[ay]
  - tom[orrow]
  - /any weekday/
  - /any date of the form DD [MM] [YYYY]/

In the last case, the missing month and year will be filled out with the
current month and year.

For weekdays, we also disambiguate as early as possible; a simple @w@
will suffice to mean Wednesday, but @s@ will not be enough to say
Sunday.  You can, however, also write the full word without any
troubles.  Weekdays always schedule into the future; e.g., if today is
Monday and you schedule something for Monday, you will actually schedule
it for the /next/ Monday (the one in seven days).

The time is specified in the @HH:MM@ format.  The minutes may be
omitted, in which case we assume a full hour is specified.

A few examples are probably in order.  Suppose we have bound the key
above, pressed it, and are now confronted with a prompt:

  - @hello +s today@ would create a TODO note with the header @hello@
    and would schedule that for today's date.

  - @hello +s today 12@ schedules the note for today at 12:00.

  - @hello +s today 12:30@ schedules it for today at 12:30.

  - @hello +d today 12:30@ works just like above, but creates a
    deadline.

  - @hello +s thu@ would schedule the note for next thursday.

  - @hello +s 11@ would schedule it for the 11th of this month and this
    year.

  - @hello +s 11 jan 2013@ would schedule the note for the 11th of
    January 2013.

Note that, due to ambiguity concerns, years below @25@ result in
undefined parsing behaviour.  Otherwise, what should @message +s 11 jan
13@ resolve to&#8212;the 11th of january at 13:00 or the 11th of january in
the year 13?

There is basic support for alphabetic org-mode
&lt;https:\/\/orgmode.org\/manual\/Priorities.html priorities&gt;.
Simply append either @#A@, @#B@, or @#C@ (capitalisation is optional) to
the end of the note.  For example, one could write @&quot;hello +s 11 jan
2013 #A&quot;@ or @&quot;hello #C&quot;@.  Note that there has to be at least one
whitespace character between the end of the note and the chosen
priority.

There's also the possibility to take what's currently in the primary
selection and paste that as the content of the created note.  This is
especially useful when you want to quickly save a URL for later and
return to whatever you were doing before.  See the 'orgPromptPrimary'
prompt for that.

-}</span><span>
</span><span id="line-155"></span><span>
</span><span id="line-156"></span><span class="hs-comment">{- TODO

  - XMonad.Util.XSelection.getSelection is really, really horrible.  The
    plan would be to rewrite this in a way so it uses xmonad's
    connection to the X server.

  - Add option to explicitly use the system clipboard instead of the
    primary selection.

-}</span><span>
</span><span id="line-166"></span><span>
</span><span id="line-167"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-168"></span><span class="hs-comment">-- Prompt</span><span>
</span><span id="line-169"></span><span>
</span><span id="line-170"></span><span class="hs-keyword">data</span><span> </span><span id="OrgMode"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-var">OrgMode</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="OrgMode"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-var">OrgMode</span></a></span></span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="clpSupport"><span class="annot"><span class="annottext">OrgMode -&gt; ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#clpSupport"><span class="hs-identifier hs-var hs-var">clpSupport</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#ClipboardSupport"><span class="hs-identifier hs-type">ClipboardSupport</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="todoHeader"><span class="annot"><span class="annottext">OrgMode -&gt; String
</span><a href="XMonad.Prompt.OrgMode.html#todoHeader"><span class="hs-identifier hs-var hs-var">todoHeader</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>    </span><span class="hs-comment">-- ^ Will display like @* todoHeader @</span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="orgFile"><span class="annot"><span class="annottext">OrgMode -&gt; String
</span><a href="XMonad.Prompt.OrgMode.html#orgFile"><span class="hs-identifier hs-var hs-var">orgFile</span></a></span></span><span>    </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="hs-comment">-- | Whether we should use a clipboard and which one to use.</span><span>
</span><span id="line-177"></span><span class="hs-keyword">data</span><span> </span><span id="ClipboardSupport"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#ClipboardSupport"><span class="hs-identifier hs-var">ClipboardSupport</span></a></span></span><span>
</span><span id="line-178"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PrimarySelection"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#PrimarySelection"><span class="hs-identifier hs-var">PrimarySelection</span></a></span></span><span>
</span><span id="line-179"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NoClpSupport"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#NoClpSupport"><span class="hs-identifier hs-var">NoClpSupport</span></a></span></span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="hs-comment">-- | How one should display the clipboard string.</span><span>
</span><span id="line-182"></span><span class="hs-keyword">data</span><span> </span><span id="Clp"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Clp"><span class="hs-identifier hs-var">Clp</span></a></span></span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Header"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Header"><span class="hs-identifier hs-var">Header</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>  </span><span class="hs-comment">-- ^ In the header as a link: @* [[clp][message]]@</span><span>
</span><span id="line-184"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Body"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Body"><span class="hs-identifier hs-var">Body</span></a></span></span><span>   </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>  </span><span class="hs-comment">-- ^ In the body as additional text: @* message \n clp@</span><span>
</span><span id="line-185"></span><span>
</span><span id="line-186"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679412418"><span id="local-6989586621679412420"><span id="local-6989586621679412422"><span id="local-6989586621679412424"><span id="local-6989586621679412426"><span class="annot"><a href="XMonad.Prompt.html#XPrompt"><span class="hs-identifier hs-type">XPrompt</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-type">OrgMode</span></a></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-187"></span><span>  </span><span class="annot"><a href="XMonad.Prompt.html#showXPrompt"><span class="hs-identifier hs-type">showXPrompt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-type">OrgMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-188"></span><span>  </span><span id="local-6989586621679412412"><span class="annot"><span class="annottext">showXPrompt :: OrgMode -&gt; String
</span><a href="#local-6989586621679412412"><span class="hs-identifier hs-var hs-var hs-var hs-var">showXPrompt</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-type">OrgMode</span></a></span><span class="hs-special">{</span><span> </span><span id="local-6989586621679412411"><span class="annot"><span class="annottext">String
todoHeader :: String
todoHeader :: OrgMode -&gt; String
</span><a href="#local-6989586621679412411"><span class="hs-identifier hs-var hs-var">todoHeader</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412410"><span class="annot"><span class="annottext">String
orgFile :: String
orgFile :: OrgMode -&gt; String
</span><a href="#local-6989586621679412410"><span class="hs-identifier hs-var hs-var">orgFile</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412409"><span class="annot"><span class="annottext">ClipboardSupport
clpSupport :: ClipboardSupport
clpSupport :: OrgMode -&gt; ClipboardSupport
</span><a href="#local-6989586621679412409"><span class="hs-identifier hs-var hs-var">clpSupport</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-189"></span><span>    </span><span class="annot"><span class="annottext">[String] -&gt; String
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Add &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412411"><span class="hs-identifier hs-var">todoHeader</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412408"><span class="hs-identifier hs-var">clp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; to &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412410"><span class="hs-identifier hs-var">orgFile</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;: &quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-190"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-191"></span><span>    </span><span id="local-6989586621679412408"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412408"><span class="hs-identifier hs-var">clp</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="#local-6989586621679412409"><span class="hs-identifier hs-var">clpSupport</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-192"></span><span>      </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#NoClpSupport"><span class="hs-identifier hs-var">NoClpSupport</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#PrimarySelection"><span class="hs-identifier hs-var">PrimarySelection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; + PS&quot;</span></span><span>
</span><span id="line-194"></span><span>
</span><span id="line-195"></span><span class="hs-comment">-- | Prompt for interacting with @org-mode@.</span><span>
</span><span id="line-196"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#orgPrompt"><span class="hs-identifier hs-type">orgPrompt</span></a></span><span>
</span><span id="line-197"></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#XPConfig"><span class="hs-identifier hs-type">XPConfig</span></a></span><span>  </span><span class="hs-comment">-- ^ Prompt configuration</span><span>
</span><span id="line-198"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>    </span><span class="hs-comment">-- ^ What kind of note to create; will be displayed after</span><span>
</span><span id="line-199"></span><span>               </span><span class="hs-comment">--   a single @*@</span><span>
</span><span id="line-200"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span>  </span><span class="hs-comment">-- ^ Path to @.org@ file, e.g. @home\/me\/todos.org@</span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-202"></span><span id="orgPrompt"><span class="annot"><span class="annottext">orgPrompt :: XPConfig -&gt; String -&gt; String -&gt; X ()
</span><a href="XMonad.Prompt.OrgMode.html#orgPrompt"><span class="hs-identifier hs-var hs-var">orgPrompt</span></a></span></span><span> </span><span id="local-6989586621679412407"><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679412407"><span class="hs-identifier hs-var">xpc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XPConfig -&gt; OrgMode -&gt; X ()
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgPrompt"><span class="hs-identifier hs-var">mkOrgPrompt</span></a></span><span> </span><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679412407"><span class="hs-identifier hs-var">xpc</span></a></span><span> </span><span class="annot"><span class="annottext">(OrgMode -&gt; X ())
-&gt; (String -&gt; String -&gt; OrgMode) -&gt; String -&gt; String -&gt; X ()
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d -&gt; a) -&gt; c -&gt; d -&gt; b
</span><a href="XMonad.Prelude.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">ClipboardSupport -&gt; String -&gt; String -&gt; OrgMode
</span><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-var">OrgMode</span></a></span><span> </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#NoClpSupport"><span class="hs-identifier hs-var">NoClpSupport</span></a></span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span class="hs-comment">-- | Like 'orgPrompt', but additionally make use of the primary</span><span>
</span><span id="line-205"></span><span class="hs-comment">-- selection.  If it is a URL, then use an org-style link</span><span>
</span><span id="line-206"></span><span class="hs-comment">-- @[[primary-selection][entered message]]@ as the heading.  Otherwise,</span><span>
</span><span id="line-207"></span><span class="hs-comment">-- use the primary selection as the content of the note.</span><span>
</span><span id="line-208"></span><span class="hs-comment">--</span><span>
</span><span id="line-209"></span><span class="hs-comment">-- The prompt will display a little @+ PS@ in the window</span><span>
</span><span id="line-210"></span><span class="hs-comment">-- after the type of note.</span><span>
</span><span id="line-211"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#orgPromptPrimary"><span class="hs-identifier hs-type">orgPromptPrimary</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#XPConfig"><span class="hs-identifier hs-type">XPConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">FilePath</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-212"></span><span id="orgPromptPrimary"><span class="annot"><span class="annottext">orgPromptPrimary :: XPConfig -&gt; String -&gt; String -&gt; X ()
</span><a href="XMonad.Prompt.OrgMode.html#orgPromptPrimary"><span class="hs-identifier hs-var hs-var">orgPromptPrimary</span></a></span></span><span> </span><span id="local-6989586621679412404"><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679412404"><span class="hs-identifier hs-var">xpc</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">XPConfig -&gt; OrgMode -&gt; X ()
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgPrompt"><span class="hs-identifier hs-var">mkOrgPrompt</span></a></span><span> </span><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679412404"><span class="hs-identifier hs-var">xpc</span></a></span><span> </span><span class="annot"><span class="annottext">(OrgMode -&gt; X ())
-&gt; (String -&gt; String -&gt; OrgMode) -&gt; String -&gt; String -&gt; X ()
forall a b c d. (a -&gt; b) -&gt; (c -&gt; d -&gt; a) -&gt; c -&gt; d -&gt; b
</span><a href="XMonad.Prelude.html#.%3A"><span class="hs-operator hs-var">.:</span></a></span><span> </span><span class="annot"><span class="annottext">ClipboardSupport -&gt; String -&gt; String -&gt; OrgMode
</span><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-var">OrgMode</span></a></span><span> </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#PrimarySelection"><span class="hs-identifier hs-var">PrimarySelection</span></a></span><span>
</span><span id="line-213"></span><span>
</span><span id="line-214"></span><span class="hs-comment">-- | Create the actual prompt.</span><span>
</span><span id="line-215"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#mkOrgPrompt"><span class="hs-identifier hs-type">mkOrgPrompt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.html#XPConfig"><span class="hs-identifier hs-type">XPConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-type">OrgMode</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-216"></span><span id="mkOrgPrompt"><span class="annot"><span class="annottext">mkOrgPrompt :: XPConfig -&gt; OrgMode -&gt; X ()
</span><a href="XMonad.Prompt.OrgMode.html#mkOrgPrompt"><span class="hs-identifier hs-var hs-var">mkOrgPrompt</span></a></span></span><span> </span><span id="local-6989586621679412403"><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679412403"><span class="hs-identifier hs-var">xpc</span></a></span></span><span> </span><span id="local-6989586621679412402"><span class="annot"><span class="annottext">oc :: OrgMode
</span><a href="#local-6989586621679412402"><span class="hs-identifier hs-var">oc</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#OrgMode"><span class="hs-identifier hs-type">OrgMode</span></a></span><span class="hs-special">{</span><span> </span><span id="local-6989586621679412401"><span class="annot"><span class="annottext">String
todoHeader :: String
todoHeader :: OrgMode -&gt; String
</span><a href="#local-6989586621679412401"><span class="hs-identifier hs-var hs-var">todoHeader</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412400"><span class="annot"><span class="annottext">String
orgFile :: String
orgFile :: OrgMode -&gt; String
</span><a href="#local-6989586621679412400"><span class="hs-identifier hs-var hs-var">orgFile</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412399"><span class="annot"><span class="annottext">ClipboardSupport
clpSupport :: ClipboardSupport
clpSupport :: OrgMode -&gt; ClipboardSupport
</span><a href="#local-6989586621679412399"><span class="hs-identifier hs-var hs-var">clpSupport</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-217"></span><span>  </span><span class="annot"><span class="annottext">OrgMode -&gt; XPConfig -&gt; ComplFunction -&gt; (String -&gt; X ()) -&gt; X ()
forall p.
XPrompt p =&gt;
p -&gt; XPConfig -&gt; ComplFunction -&gt; (String -&gt; X ()) -&gt; X ()
</span><a href="XMonad.Prompt.html#mkXPrompt"><span class="hs-identifier hs-var">mkXPrompt</span></a></span><span> </span><span class="annot"><span class="annottext">OrgMode
</span><a href="#local-6989586621679412402"><span class="hs-identifier hs-var">oc</span></a></span><span> </span><span class="annot"><span class="annottext">XPConfig
</span><a href="#local-6989586621679412403"><span class="hs-identifier hs-var">xpc</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IO [String] -&gt; ComplFunction
forall a b. a -&gt; b -&gt; a
</span><span class="hs-identifier hs-var">const</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[String] -&gt; IO [String]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; X ()
</span><a href="#local-6989586621679412397"><span class="hs-identifier hs-var">appendNote</span></a></span><span>
</span><span id="line-218"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-comment">-- | Parse the user input, create an @org-mode@ note out of that and</span><span>
</span><span id="line-220"></span><span>  </span><span class="hs-comment">-- try to append it to the given file.</span><span>
</span><span id="line-221"></span><span>  </span><span class="annot"><a href="#local-6989586621679412397"><span class="hs-identifier hs-type">appendNote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">X</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-222"></span><span>  </span><span id="local-6989586621679412397"><span class="annot"><span class="annottext">appendNote :: String -&gt; X ()
</span><a href="#local-6989586621679412397"><span class="hs-identifier hs-var hs-var">appendNote</span></a></span></span><span> </span><span id="local-6989586621679412396"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412396"><span class="hs-identifier hs-var">input</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO () -&gt; X ()
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">io</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; X ()) -&gt; IO () -&gt; X ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-223"></span><span>    </span><span id="local-6989586621679412395"><span class="annot"><span class="annottext">Clp
</span><a href="#local-6989586621679412395"><span class="hs-identifier hs-var">clpStr</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="#local-6989586621679412399"><span class="hs-identifier hs-var">clpSupport</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-224"></span><span>      </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#NoClpSupport"><span class="hs-identifier hs-var">NoClpSupport</span></a></span><span>     </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Clp -&gt; IO Clp
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Clp -&gt; IO Clp) -&gt; Clp -&gt; IO Clp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Clp
</span><a href="XMonad.Prompt.OrgMode.html#Body"><span class="hs-identifier hs-var">Body</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-225"></span><span>      </span><span class="annot"><span class="annottext">ClipboardSupport
</span><a href="XMonad.Prompt.OrgMode.html#PrimarySelection"><span class="hs-identifier hs-var">PrimarySelection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-226"></span><span>        </span><span id="local-6989586621679412394"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412394"><span class="hs-identifier hs-var">sel</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO String
forall (m :: * -&gt; *). MonadIO m =&gt; m String
</span><a href="XMonad.Util.XSelection.html#getSelection"><span class="hs-identifier hs-var">getSelection</span></a></span><span>
</span><span id="line-227"></span><span>        </span><span class="annot"><span class="annottext">Clp -&gt; IO Clp
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Clp -&gt; IO Clp) -&gt; Clp -&gt; IO Clp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">if</span><span>   </span><span class="annot"><span class="annottext">(String -&gt; Bool) -&gt; [String] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><span class="hs-operator hs-var">`isPrefixOf`</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412394"><span class="hs-identifier hs-var">sel</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;http://&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;https://&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-228"></span><span>               </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String -&gt; Clp
</span><a href="XMonad.Prompt.OrgMode.html#Header"><span class="hs-identifier hs-var">Header</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412394"><span class="hs-identifier hs-var">sel</span></a></span><span>
</span><span id="line-229"></span><span>               </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">String -&gt; Clp
</span><a href="XMonad.Prompt.OrgMode.html#Body"><span class="hs-identifier hs-var">Body</span></a></span><span>   </span><span class="annot"><span class="annottext">(String -&gt; Clp) -&gt; String -&gt; Clp
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412394"><span class="hs-identifier hs-var">sel</span></a></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span>    </span><span class="hs-comment">-- Expand path if applicable</span><span>
</span><span id="line-232"></span><span>    </span><span id="local-6989586621679412391"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412391"><span class="hs-identifier hs-var">fp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
forall (m :: * -&gt; *). MonadIO m =&gt; String -&gt; m String
</span><a href="XMonad.Prelude.html#mkAbsolutePath"><span class="hs-identifier hs-var">mkAbsolutePath</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412400"><span class="hs-identifier hs-var">orgFile</span></a></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; IOMode -&gt; (Handle -&gt; IO ()) -&gt; IO ()
forall r. String -&gt; IOMode -&gt; (Handle -&gt; IO r) -&gt; IO r
</span><span class="hs-identifier hs-var">withFile</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412391"><span class="hs-identifier hs-var">fp</span></a></span><span> </span><span class="annot"><span class="annottext">IOMode
</span><span class="hs-identifier hs-var">AppendMode</span></span><span> </span><span class="annot"><span class="annottext">((Handle -&gt; IO ()) -&gt; IO ())
-&gt; (String -&gt; Handle -&gt; IO ()) -&gt; String -&gt; IO ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Handle -&gt; String -&gt; IO ()) -&gt; String -&gt; Handle -&gt; IO ()
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Handle -&gt; String -&gt; IO ()
</span><span class="hs-identifier hs-var">hPutStrLn</span></span><span>
</span><span id="line-235"></span><span>      </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; (String -&gt; IO String) -&gt; String -&gt; IO ()
forall (m :: * -&gt; *) b c a.
Monad m =&gt;
(b -&gt; m c) -&gt; (a -&gt; m b) -&gt; a -&gt; m c
</span><span class="hs-operator hs-var">&lt;=&lt;</span></span><span> </span><span class="annot"><span class="annottext">IO String -&gt; (Note -&gt; IO String) -&gt; Maybe Note -&gt; IO String
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; IO String
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Clp -&gt; String -&gt; Note -&gt; IO String
</span><a href="XMonad.Prompt.OrgMode.html#ppNote"><span class="hs-identifier hs-var">ppNote</span></a></span><span> </span><span class="annot"><span class="annottext">Clp
</span><a href="#local-6989586621679412395"><span class="hs-identifier hs-var">clpStr</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412401"><span class="hs-identifier hs-var">todoHeader</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Maybe Note -&gt; IO String)
-&gt; (String -&gt; Maybe Note) -&gt; String -&gt; IO String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Note
</span><a href="XMonad.Prompt.OrgMode.html#pInput"><span class="hs-identifier hs-var">pInput</span></a></span><span>
</span><span id="line-236"></span><span>        </span><span class="annot"><span class="annottext">(String -&gt; IO ()) -&gt; String -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412396"><span class="hs-identifier hs-var">input</span></a></span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-239"></span><span class="hs-comment">-- Time</span><span>
</span><span id="line-240"></span><span>
</span><span id="line-241"></span><span class="hs-comment">-- | A 'Time' is a 'Date' with the possibility of having a specified</span><span>
</span><span id="line-242"></span><span class="hs-comment">-- @HH:MM@ time.</span><span>
</span><span id="line-243"></span><span class="hs-keyword">data</span><span> </span><span id="Time"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-var">Time</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Time"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-var">Time</span></a></span></span><span>
</span><span id="line-244"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="date"><span class="annot"><span class="annottext">Time -&gt; Date
</span><a href="XMonad.Prompt.OrgMode.html#date"><span class="hs-identifier hs-var hs-var">date</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-type">Date</span></a></span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-special">,</span><span> </span><span id="tod"><span class="annot"><span class="annottext">Time -&gt; Maybe TimeOfDay
</span><a href="XMonad.Prompt.OrgMode.html#tod"><span class="hs-identifier hs-var hs-var">tod</span></a></span></span><span>  </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span><span>
</span><span id="line-246"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412373"><span id="local-6989586621679412379"><span class="annot"><span class="annottext">Time -&gt; Time -&gt; Bool
(Time -&gt; Time -&gt; Bool) -&gt; (Time -&gt; Time -&gt; Bool) -&gt; Eq Time
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Time -&gt; Time -&gt; Bool
$c/= :: Time -&gt; Time -&gt; Bool
== :: Time -&gt; Time -&gt; Bool
$c== :: Time -&gt; Time -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412361"><span id="local-6989586621679412363"><span id="local-6989586621679412370"><span class="annot"><span class="annottext">Int -&gt; Time -&gt; String -&gt; String
[Time] -&gt; String -&gt; String
Time -&gt; String
(Int -&gt; Time -&gt; String -&gt; String)
-&gt; (Time -&gt; String) -&gt; ([Time] -&gt; String -&gt; String) -&gt; Show Time
forall a.
(Int -&gt; a -&gt; String -&gt; String)
-&gt; (a -&gt; String) -&gt; ([a] -&gt; String -&gt; String) -&gt; Show a
showList :: [Time] -&gt; String -&gt; String
$cshowList :: [Time] -&gt; String -&gt; String
show :: Time -&gt; String
$cshow :: Time -&gt; String
showsPrec :: Int -&gt; Time -&gt; String -&gt; String
$cshowsPrec :: Int -&gt; Time -&gt; String -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="hs-comment">-- | The time in HH:MM.</span><span>
</span><span id="line-250"></span><span class="hs-keyword">data</span><span> </span><span id="TimeOfDay"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-var">TimeOfDay</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="TimeOfDay"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-var">TimeOfDay</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-251"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412352"><span id="local-6989586621679412357"><span class="annot"><span class="annottext">TimeOfDay -&gt; TimeOfDay -&gt; Bool
(TimeOfDay -&gt; TimeOfDay -&gt; Bool)
-&gt; (TimeOfDay -&gt; TimeOfDay -&gt; Bool) -&gt; Eq TimeOfDay
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: TimeOfDay -&gt; TimeOfDay -&gt; Bool
$c/= :: TimeOfDay -&gt; TimeOfDay -&gt; Bool
== :: TimeOfDay -&gt; TimeOfDay -&gt; Bool
$c== :: TimeOfDay -&gt; TimeOfDay -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-252"></span><span>
</span><span id="line-253"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679412347"><span id="local-6989586621679412350"><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-254"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">show</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-255"></span><span>  </span><span id="local-6989586621679412335"><span class="annot"><span class="annottext">show :: TimeOfDay -&gt; String
</span><a href="#local-6989586621679412335"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span><span> </span><span id="local-6989586621679412334"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412334"><span class="hs-identifier hs-var">h</span></a></span></span><span> </span><span id="local-6989586621679412333"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412333"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
</span><a href="#local-6989586621679412332"><span class="hs-identifier hs-var">pad</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412334"><span class="hs-identifier hs-var">h</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
</span><a href="#local-6989586621679412332"><span class="hs-identifier hs-var">pad</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412333"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-256"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-257"></span><span>    </span><span class="annot"><a href="#local-6989586621679412332"><span class="hs-identifier hs-type">pad</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-258"></span><span>    </span><span id="local-6989586621679412332"><span class="annot"><span class="annottext">pad :: Int -&gt; String
</span><a href="#local-6989586621679412332"><span class="hs-identifier hs-var hs-var">pad</span></a></span></span><span> </span><span id="local-6989586621679412331"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412331"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412331"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9</span></span><span> </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;0&quot;</span></span><span> </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412331"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-259"></span><span>
</span><span id="line-260"></span><span class="hs-comment">-- | Type for specifying exactly which day one wants.</span><span>
</span><span id="line-261"></span><span class="hs-keyword">data</span><span> </span><span id="Date"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-var">Date</span></a></span></span><span>
</span><span id="line-262"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Today"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Today"><span class="hs-identifier hs-var">Today</span></a></span></span><span>
</span><span id="line-263"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Tomorrow"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Tomorrow"><span class="hs-identifier hs-var">Tomorrow</span></a></span></span><span>
</span><span id="line-264"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Next"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Next"><span class="hs-identifier hs-var">Next</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-comment">-- ^ This will __always__ show the next 'DayOfWeek' (e.g. calling</span><span>
</span><span id="line-266"></span><span>    </span><span class="hs-comment">-- 'Next Monday' on a Monday will result in getting the menu for the</span><span>
</span><span id="line-267"></span><span>    </span><span class="hs-comment">-- following Monday)</span><span>
</span><span id="line-268"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Date"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-var">Date</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-269"></span><span>    </span><span class="hs-comment">-- ^ Manual date entry in the format DD [MM] [YYYY]</span><span>
</span><span id="line-270"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412316"><span id="local-6989586621679412324"><span class="annot"><span class="annottext">Date -&gt; Date -&gt; Bool
(Date -&gt; Date -&gt; Bool) -&gt; (Date -&gt; Date -&gt; Bool) -&gt; Eq Date
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Date -&gt; Date -&gt; Bool
$c/= :: Date -&gt; Date -&gt; Bool
== :: Date -&gt; Date -&gt; Bool
$c== :: Date -&gt; Date -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412293"><span id="local-6989586621679412295"><span id="local-6989586621679412297"><span id="local-6989586621679412299"><span id="local-6989586621679412301"><span id="local-6989586621679412303"><span id="local-6989586621679412310"><span class="annot"><span class="annottext">Eq Date
Eq Date
-&gt; (Date -&gt; Date -&gt; Ordering)
-&gt; (Date -&gt; Date -&gt; Bool)
-&gt; (Date -&gt; Date -&gt; Bool)
-&gt; (Date -&gt; Date -&gt; Bool)
-&gt; (Date -&gt; Date -&gt; Bool)
-&gt; (Date -&gt; Date -&gt; Date)
-&gt; (Date -&gt; Date -&gt; Date)
-&gt; Ord Date
Date -&gt; Date -&gt; Bool
Date -&gt; Date -&gt; Ordering
Date -&gt; Date -&gt; Date
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: Date -&gt; Date -&gt; Date
$cmin :: Date -&gt; Date -&gt; Date
max :: Date -&gt; Date -&gt; Date
$cmax :: Date -&gt; Date -&gt; Date
&gt;= :: Date -&gt; Date -&gt; Bool
$c&gt;= :: Date -&gt; Date -&gt; Bool
&gt; :: Date -&gt; Date -&gt; Bool
$c&gt; :: Date -&gt; Date -&gt; Bool
&lt;= :: Date -&gt; Date -&gt; Bool
$c&lt;= :: Date -&gt; Date -&gt; Bool
&lt; :: Date -&gt; Date -&gt; Bool
$c&lt; :: Date -&gt; Date -&gt; Bool
compare :: Date -&gt; Date -&gt; Ordering
$ccompare :: Date -&gt; Date -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412277"><span id="local-6989586621679412279"><span id="local-6989586621679412289"><span class="annot"><span class="annottext">Int -&gt; Date -&gt; String -&gt; String
[Date] -&gt; String -&gt; String
Date -&gt; String
(Int -&gt; Date -&gt; String -&gt; String)
-&gt; (Date -&gt; String) -&gt; ([Date] -&gt; String -&gt; String) -&gt; Show Date
forall a.
(Int -&gt; a -&gt; String -&gt; String)
-&gt; (a -&gt; String) -&gt; ([a] -&gt; String -&gt; String) -&gt; Show a
showList :: [Date] -&gt; String -&gt; String
$cshowList :: [Date] -&gt; String -&gt; String
show :: Date -&gt; String
$cshow :: Date -&gt; String
showsPrec :: Int -&gt; Date -&gt; String -&gt; String
$cshowsPrec :: Int -&gt; Date -&gt; String -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#toOrgFmt"><span class="hs-identifier hs-type">toOrgFmt</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Day</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-273"></span><span id="toOrgFmt"><span class="annot"><span class="annottext">toOrgFmt :: Maybe TimeOfDay -&gt; Day -&gt; String
</span><a href="XMonad.Prompt.OrgMode.html#toOrgFmt"><span class="hs-identifier hs-var hs-var">toOrgFmt</span></a></span></span><span> </span><span id="local-6989586621679412273"><span class="annot"><span class="annottext">Maybe TimeOfDay
</span><a href="#local-6989586621679412273"><span class="hs-identifier hs-var">tod</span></a></span></span><span> </span><span id="local-6989586621679412272"><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679412272"><span class="hs-identifier hs-var">day</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-274"></span><span>  </span><span class="annot"><span class="annottext">[String] -&gt; String
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&lt;&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412271"><span class="hs-identifier hs-var">isoDay</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; String
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">take</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; String -&gt; String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Day -&gt; DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#dayOfWeek"><span class="hs-identifier hs-var">dayOfWeek</span></a></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679412272"><span class="hs-identifier hs-var">day</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412268"><span class="hs-identifier hs-var">time</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&gt;&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-275"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-276"></span><span>  </span><span id="local-6989586621679412268"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412268"><span class="hs-identifier hs-var">time</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (TimeOfDay -&gt; String) -&gt; Maybe TimeOfDay -&gt; String
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span> </span><span class="annot"><span class="annottext">Char -&gt; String -&gt; String
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; (TimeOfDay -&gt; String) -&gt; TimeOfDay -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">TimeOfDay -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe TimeOfDay
</span><a href="#local-6989586621679412273"><span class="hs-identifier hs-var">tod</span></a></span><span>
</span><span id="line-277"></span><span>  </span><span id="local-6989586621679412271"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412271"><span class="hs-identifier hs-var">isoDay</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TimeLocale -&gt; String -&gt; Day -&gt; String
forall t. FormatTime t =&gt; TimeLocale -&gt; String -&gt; t -&gt; String
</span><span class="hs-identifier hs-var">formatTime</span></span><span> </span><span class="annot"><span class="annottext">TimeLocale
</span><span class="hs-identifier hs-var">defaultTimeLocale</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe String -&gt; String
</span><span class="hs-identifier hs-var">iso8601DateFormat</span></span><span> </span><span class="annot"><span class="annottext">Maybe String
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679412272"><span class="hs-identifier hs-var">day</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span class="hs-comment">-- | Pretty print a 'Date' and an optional time to reflect the actual</span><span>
</span><span id="line-280"></span><span class="hs-comment">-- date.</span><span>
</span><span id="line-281"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#ppDate"><span class="hs-identifier hs-type">ppDate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-282"></span><span id="ppDate"><span class="annot"><span class="annottext">ppDate :: Time -&gt; IO String
</span><a href="XMonad.Prompt.OrgMode.html#ppDate"><span class="hs-identifier hs-var hs-var">ppDate</span></a></span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span class="hs-special">{</span><span> </span><span id="local-6989586621679412261"><span class="annot"><span class="annottext">Date
date :: Date
date :: Time -&gt; Date
</span><a href="#local-6989586621679412261"><span class="hs-identifier hs-var hs-var">date</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412260"><span class="annot"><span class="annottext">Maybe TimeOfDay
tod :: Maybe TimeOfDay
tod :: Time -&gt; Maybe TimeOfDay
</span><a href="#local-6989586621679412260"><span class="hs-identifier hs-var hs-var">tod</span></a></span></span><span> </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-283"></span><span>  </span><span id="local-6989586621679412259"><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679412259"><span class="hs-identifier hs-var">curTime</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO UTCTime
</span><span class="hs-identifier hs-var">getCurrentTime</span></span><span>
</span><span id="line-284"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621679412258"><span class="annot"><span class="annottext">curDay :: Day
</span><a href="#local-6989586621679412258"><span class="hs-identifier hs-var hs-var">curDay</span></a></span></span><span>      </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Day
</span><span class="hs-identifier hs-var hs-var">utctDay</span></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679412259"><span class="hs-identifier hs-var">curTime</span></a></span><span>
</span><span id="line-285"></span><span>      </span><span class="hs-special">(</span><span id="local-6989586621679412257"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679412257"><span class="hs-identifier hs-var">y</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412256"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412256"><span class="hs-identifier hs-var">m</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span>   </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Day -&gt; (Integer, Int, Int)
</span><span class="hs-identifier hs-var">toGregorian</span></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679412258"><span class="hs-identifier hs-var">curDay</span></a></span><span>
</span><span id="line-286"></span><span>      </span><span id="local-6989586621679412255"><span class="annot"><span class="annottext">diffToDay :: DayOfWeek -&gt; NominalDiffTime
</span><a href="#local-6989586621679412255"><span class="hs-identifier hs-var hs-var">diffToDay</span></a></span></span><span> </span><span id="local-6989586621679412254"><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679412254"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DayOfWeek -&gt; DayOfWeek -&gt; NominalDiffTime
</span><a href="#local-6989586621679412253"><span class="hs-identifier hs-var">diffBetween</span></a></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679412254"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Day -&gt; DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#dayOfWeek"><span class="hs-identifier hs-var">dayOfWeek</span></a></span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679412258"><span class="hs-identifier hs-var">curDay</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span>  </span><span class="annot"><span class="annottext">String -&gt; IO String
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO String) -&gt; (Day -&gt; String) -&gt; Day -&gt; IO String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Maybe TimeOfDay -&gt; Day -&gt; String
</span><a href="XMonad.Prompt.OrgMode.html#toOrgFmt"><span class="hs-identifier hs-var">toOrgFmt</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe TimeOfDay
</span><a href="#local-6989586621679412260"><span class="hs-identifier hs-var">tod</span></a></span><span> </span><span class="annot"><span class="annottext">(Day -&gt; IO String) -&gt; Day -&gt; IO String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Date
</span><a href="#local-6989586621679412261"><span class="hs-identifier hs-var">date</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-289"></span><span>    </span><span class="annot"><span class="annottext">Date
</span><a href="XMonad.Prompt.OrgMode.html#Today"><span class="hs-identifier hs-var">Today</span></a></span><span>              </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Day
</span><a href="#local-6989586621679412258"><span class="hs-identifier hs-var">curDay</span></a></span><span>
</span><span id="line-290"></span><span>    </span><span class="annot"><span class="annottext">Date
</span><a href="XMonad.Prompt.OrgMode.html#Tomorrow"><span class="hs-identifier hs-var">Tomorrow</span></a></span><span>           </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Day
</span><span class="hs-identifier hs-var hs-var">utctDay</span></span><span> </span><span class="annot"><span class="annottext">(UTCTime -&gt; Day) -&gt; UTCTime -&gt; Day
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; UTCTime -&gt; UTCTime
</span><a href="#local-6989586621679412252"><span class="hs-identifier hs-var">addDays</span></a></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679412259"><span class="hs-identifier hs-var">curTime</span></a></span><span>
</span><span id="line-291"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Next"><span class="hs-identifier hs-type">Next</span></a></span><span> </span><span id="local-6989586621679412251"><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679412251"><span class="hs-identifier hs-var">wday</span></a></span></span><span>          </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UTCTime -&gt; Day
</span><span class="hs-identifier hs-var hs-var">utctDay</span></span><span> </span><span class="annot"><span class="annottext">(UTCTime -&gt; Day) -&gt; UTCTime -&gt; Day
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; UTCTime -&gt; UTCTime
</span><a href="#local-6989586621679412252"><span class="hs-identifier hs-var">addDays</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DayOfWeek -&gt; NominalDiffTime
</span><a href="#local-6989586621679412255"><span class="hs-identifier hs-var">diffToDay</span></a></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679412251"><span class="hs-identifier hs-var">wday</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">UTCTime
</span><a href="#local-6989586621679412259"><span class="hs-identifier hs-var">curTime</span></a></span><span>
</span><span id="line-292"></span><span>    </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-type">Date</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412250"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412250"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412249"><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679412249"><span class="hs-identifier hs-var">mbM</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412248"><span class="annot"><span class="annottext">Maybe Integer
</span><a href="#local-6989586621679412248"><span class="hs-identifier hs-var">mbY</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int -&gt; Int -&gt; Day
</span><span class="hs-identifier hs-var">fromGregorian</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Maybe Integer -&gt; Integer
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679412257"><span class="hs-identifier hs-var">y</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Integer
</span><a href="#local-6989586621679412248"><span class="hs-identifier hs-var">mbY</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Maybe Int -&gt; Int
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412256"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
</span><a href="#local-6989586621679412249"><span class="hs-identifier hs-var">mbM</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412250"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-293"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-294"></span><span>  </span><span class="hs-comment">-- | Add a specified number of days to a 'UTCTime'.</span><span>
</span><span id="line-295"></span><span>  </span><span id="local-6989586621679412252"><span class="annot"><span class="annottext">NominalDiffTime -&gt; UTCTime -&gt; UTCTime
</span><a href="#local-6989586621679412252"><span class="hs-identifier hs-var">addDays</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NominalDiffTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UTCTime</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">UTCTime</span></span><span>
</span><span id="line-296"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime -&gt; UTCTime -&gt; UTCTime
</span><span class="hs-identifier hs-var">addUTCTime</span></span><span> </span><span class="annot"><span class="annottext">(NominalDiffTime -&gt; UTCTime -&gt; UTCTime)
-&gt; (NominalDiffTime -&gt; NominalDiffTime)
-&gt; NominalDiffTime
-&gt; UTCTime
-&gt; UTCTime
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">NominalDiffTime -&gt; NominalDiffTime -&gt; NominalDiffTime
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><span class="hs-identifier hs-var">nominalDay</span></span><span class="hs-special">)</span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span>  </span><span class="hs-comment">-- | Evil enum hackery.</span><span>
</span><span id="line-299"></span><span>  </span><span class="annot"><a href="#local-6989586621679412253"><span class="hs-identifier hs-type">diffBetween</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">NominalDiffTime</span></span><span>
</span><span id="line-300"></span><span>  </span><span id="local-6989586621679412253"><span class="annot"><span class="annottext">diffBetween :: DayOfWeek -&gt; DayOfWeek -&gt; NominalDiffTime
</span><a href="#local-6989586621679412253"><span class="hs-identifier hs-var hs-var">diffBetween</span></a></span></span><span> </span><span id="local-6989586621679412244"><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679412244"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621679412243"><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679412243"><span class="hs-identifier hs-var">cur</span></a></span></span><span>  </span><span class="hs-comment">-- we want to jump to @d@</span><span>
</span><span id="line-301"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679412244"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">DayOfWeek -&gt; DayOfWeek -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679412243"><span class="hs-identifier hs-var">cur</span></a></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NominalDiffTime
</span><span class="hs-number">7</span></span><span>
</span><span id="line-302"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; NominalDiffTime
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; NominalDiffTime) -&gt; (Int -&gt; Int) -&gt; Int -&gt; NominalDiffTime
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int
forall a. Num a =&gt; a -&gt; a
</span><span class="hs-identifier hs-var">abs</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; NominalDiffTime) -&gt; Int -&gt; NominalDiffTime
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DayOfWeek -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679412244"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek -&gt; Int
forall a. Enum a =&gt; a -&gt; Int
</span><span class="hs-identifier hs-var">fromEnum</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="#local-6989586621679412243"><span class="hs-identifier hs-var">cur</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">`mod`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span>
</span><span id="line-303"></span><span>
</span><span id="line-304"></span><span class="hs-comment">-- Old GHC versions don't have a @time@ library new enough to have</span><span>
</span><span id="line-305"></span><span class="hs-comment">-- this, so replicate it here for the moment.</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#dayOfWeek"><span class="hs-identifier hs-type">dayOfWeek</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Day</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span>
</span><span id="line-308"></span><span id="dayOfWeek"><span class="annot"><span class="annottext">dayOfWeek :: Day -&gt; DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#dayOfWeek"><span class="hs-identifier hs-var hs-var">dayOfWeek</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ModifiedJulianDay</span></span><span> </span><span id="local-6989586621679412239"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679412239"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; DayOfWeek
forall a. Enum a =&gt; Int -&gt; a
</span><span class="hs-identifier hs-var">toEnum</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; DayOfWeek) -&gt; Int -&gt; DayOfWeek
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Int
forall a. Num a =&gt; Integer -&gt; a
</span><span class="hs-identifier hs-var">fromInteger</span></span><span> </span><span class="annot"><span class="annottext">(Integer -&gt; Int) -&gt; Integer -&gt; Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679412239"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Integer
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">3</span></span><span>
</span><span id="line-309"></span><span>
</span><span id="line-310"></span><span class="hs-keyword">data</span><span> </span><span id="DayOfWeek"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-var">DayOfWeek</span></a></span></span><span>
</span><span id="line-311"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Monday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Monday"><span class="hs-identifier hs-var">Monday</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Tuesday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Tuesday"><span class="hs-identifier hs-var">Tuesday</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Wednesday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Wednesday"><span class="hs-identifier hs-var">Wednesday</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Thursday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Thursday"><span class="hs-identifier hs-var">Thursday</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Friday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Friday"><span class="hs-identifier hs-var">Friday</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Saturday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Saturday"><span class="hs-identifier hs-var">Saturday</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="Sunday"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Sunday"><span class="hs-identifier hs-var">Sunday</span></a></span></span><span>
</span><span id="line-312"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412226"><span id="local-6989586621679412228"><span class="annot"><span class="annottext">DayOfWeek -&gt; DayOfWeek -&gt; Bool
(DayOfWeek -&gt; DayOfWeek -&gt; Bool)
-&gt; (DayOfWeek -&gt; DayOfWeek -&gt; Bool) -&gt; Eq DayOfWeek
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
$c/= :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
== :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
$c== :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412207"><span id="local-6989586621679412209"><span id="local-6989586621679412212"><span id="local-6989586621679412215"><span id="local-6989586621679412218"><span id="local-6989586621679412220"><span id="local-6989586621679412222"><span class="annot"><span class="annottext">Eq DayOfWeek
Eq DayOfWeek
-&gt; (DayOfWeek -&gt; DayOfWeek -&gt; Ordering)
-&gt; (DayOfWeek -&gt; DayOfWeek -&gt; Bool)
-&gt; (DayOfWeek -&gt; DayOfWeek -&gt; Bool)
-&gt; (DayOfWeek -&gt; DayOfWeek -&gt; Bool)
-&gt; (DayOfWeek -&gt; DayOfWeek -&gt; Bool)
-&gt; (DayOfWeek -&gt; DayOfWeek -&gt; DayOfWeek)
-&gt; (DayOfWeek -&gt; DayOfWeek -&gt; DayOfWeek)
-&gt; Ord DayOfWeek
DayOfWeek -&gt; DayOfWeek -&gt; Bool
DayOfWeek -&gt; DayOfWeek -&gt; Ordering
DayOfWeek -&gt; DayOfWeek -&gt; DayOfWeek
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: DayOfWeek -&gt; DayOfWeek -&gt; DayOfWeek
$cmin :: DayOfWeek -&gt; DayOfWeek -&gt; DayOfWeek
max :: DayOfWeek -&gt; DayOfWeek -&gt; DayOfWeek
$cmax :: DayOfWeek -&gt; DayOfWeek -&gt; DayOfWeek
&gt;= :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
$c&gt;= :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
&gt; :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
$c&gt; :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
&lt;= :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
$c&lt;= :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
&lt; :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
$c&lt; :: DayOfWeek -&gt; DayOfWeek -&gt; Bool
compare :: DayOfWeek -&gt; DayOfWeek -&gt; Ordering
$ccompare :: DayOfWeek -&gt; DayOfWeek -&gt; Ordering
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412201"><span id="local-6989586621679412203"><span id="local-6989586621679412205"><span class="annot"><span class="annottext">Int -&gt; DayOfWeek -&gt; String -&gt; String
[DayOfWeek] -&gt; String -&gt; String
DayOfWeek -&gt; String
(Int -&gt; DayOfWeek -&gt; String -&gt; String)
-&gt; (DayOfWeek -&gt; String)
-&gt; ([DayOfWeek] -&gt; String -&gt; String)
-&gt; Show DayOfWeek
forall a.
(Int -&gt; a -&gt; String -&gt; String)
-&gt; (a -&gt; String) -&gt; ([a] -&gt; String -&gt; String) -&gt; Show a
showList :: [DayOfWeek] -&gt; String -&gt; String
$cshowList :: [DayOfWeek] -&gt; String -&gt; String
show :: DayOfWeek -&gt; String
$cshow :: DayOfWeek -&gt; String
showsPrec :: Int -&gt; DayOfWeek -&gt; String -&gt; String
$cshowsPrec :: Int -&gt; DayOfWeek -&gt; String -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-313"></span><span>
</span><span id="line-314"></span><span class="hs-comment">-- | \&quot;Circular\&quot;, so for example @[Tuesday ..]@ gives an endless</span><span>
</span><span id="line-315"></span><span class="hs-comment">-- sequence.  Also: 'fromEnum' gives [1 .. 7] for [Monday .. Sunday],</span><span>
</span><span id="line-316"></span><span class="hs-comment">-- and 'toEnum' performs mod 7 to give a cycle of days.</span><span>
</span><span id="line-317"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679412187"><span id="local-6989586621679412189"><span id="local-6989586621679412191"><span id="local-6989586621679412193"><span id="local-6989586621679412197"><span id="local-6989586621679412199"><span class="annot"><span class="hs-identifier hs-type">Enum</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span></span></span></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-318"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">toEnum</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span>
</span><span id="line-319"></span><span>  </span><span id="local-6989586621679412171"><span class="annot"><span class="annottext">toEnum :: Int -&gt; DayOfWeek
</span><a href="#local-6989586621679412171"><span class="hs-identifier hs-var hs-var hs-var hs-var">toEnum</span></a></span></span><span> </span><span id="local-6989586621679412170"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412170"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Integral a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mod</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412170"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Sunday"><span class="hs-identifier hs-var">Sunday</span></a></span><span>
</span><span id="line-321"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Monday"><span class="hs-identifier hs-var">Monday</span></a></span><span>
</span><span id="line-322"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Tuesday"><span class="hs-identifier hs-var">Tuesday</span></a></span><span>
</span><span id="line-323"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Wednesday"><span class="hs-identifier hs-var">Wednesday</span></a></span><span>
</span><span id="line-324"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Thursday"><span class="hs-identifier hs-var">Thursday</span></a></span><span>
</span><span id="line-325"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Friday"><span class="hs-identifier hs-var">Friday</span></a></span><span>
</span><span id="line-326"></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Saturday"><span class="hs-identifier hs-var">Saturday</span></a></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">fromEnum</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-329"></span><span>  </span><span id="local-6989586621679412169"><span class="annot"><span class="annottext">fromEnum :: DayOfWeek -&gt; Int
</span><a href="#local-6989586621679412169"><span class="hs-identifier hs-var hs-var hs-var hs-var">fromEnum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-330"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Monday"><span class="hs-identifier hs-var">Monday</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-331"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Tuesday"><span class="hs-identifier hs-var">Tuesday</span></a></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-332"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Wednesday"><span class="hs-identifier hs-var">Wednesday</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>
</span><span id="line-333"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Thursday"><span class="hs-identifier hs-var">Thursday</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-334"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Friday"><span class="hs-identifier hs-var">Friday</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-335"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Saturday"><span class="hs-identifier hs-var">Saturday</span></a></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span>
</span><span id="line-336"></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Sunday"><span class="hs-identifier hs-var">Sunday</span></a></span><span>    </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span>
</span><span id="line-337"></span><span>
</span><span id="line-338"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-339"></span><span class="hs-comment">-- Note</span><span>
</span><span id="line-340"></span><span>
</span><span id="line-341"></span><span class="hs-comment">-- | An @org-mode@ style note.</span><span>
</span><span id="line-342"></span><span class="hs-keyword">data</span><span> </span><span id="Note"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Note"><span class="hs-identifier hs-var">Note</span></a></span></span><span>
</span><span id="line-343"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Scheduled"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Scheduled"><span class="hs-identifier hs-var">Scheduled</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span>
</span><span id="line-344"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Deadline"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Deadline"><span class="hs-identifier hs-var">Deadline</span></a></span></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span>
</span><span id="line-345"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NormalMsg"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#NormalMsg"><span class="hs-identifier hs-var">NormalMsg</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>      </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span>
</span><span id="line-346"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412154"><span id="local-6989586621679412164"><span class="annot"><span class="annottext">Note -&gt; Note -&gt; Bool
(Note -&gt; Note -&gt; Bool) -&gt; (Note -&gt; Note -&gt; Bool) -&gt; Eq Note
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Note -&gt; Note -&gt; Bool
$c/= :: Note -&gt; Note -&gt; Bool
== :: Note -&gt; Note -&gt; Bool
$c== :: Note -&gt; Note -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412135"><span id="local-6989586621679412137"><span id="local-6989586621679412152"><span class="annot"><span class="annottext">Int -&gt; Note -&gt; String -&gt; String
[Note] -&gt; String -&gt; String
Note -&gt; String
(Int -&gt; Note -&gt; String -&gt; String)
-&gt; (Note -&gt; String) -&gt; ([Note] -&gt; String -&gt; String) -&gt; Show Note
forall a.
(Int -&gt; a -&gt; String -&gt; String)
-&gt; (a -&gt; String) -&gt; ([a] -&gt; String -&gt; String) -&gt; Show a
showList :: [Note] -&gt; String -&gt; String
$cshowList :: [Note] -&gt; String -&gt; String
show :: Note -&gt; String
$cshow :: Note -&gt; String
showsPrec :: Int -&gt; Note -&gt; String -&gt; String
$cshowsPrec :: Int -&gt; Note -&gt; String -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>
</span><span id="line-348"></span><span class="hs-comment">-- | An @org-mode@ style priority symbol[1]; e.g., something like</span><span>
</span><span id="line-349"></span><span class="hs-comment">-- @[#A]@.  Note that this uses the standard org conventions: supported</span><span>
</span><span id="line-350"></span><span class="hs-comment">-- priorities are @A@, @B@, and @C@, with @A@ being the highest.</span><span>
</span><span id="line-351"></span><span class="hs-comment">-- Numerical priorities are not supported.</span><span>
</span><span id="line-352"></span><span class="hs-comment">--</span><span>
</span><span id="line-353"></span><span class="hs-comment">-- [1]: https://orgmode.org/manual/Priorities.html</span><span>
</span><span id="line-354"></span><span class="hs-keyword">data</span><span> </span><span id="Priority"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-var">Priority</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="A"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#A"><span class="hs-identifier hs-var">A</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="B"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#B"><span class="hs-identifier hs-var">B</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="C"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#C"><span class="hs-identifier hs-var">C</span></a></span></span><span> </span><span class="hs-glyph">|</span><span> </span><span id="NoPriority"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#NoPriority"><span class="hs-identifier hs-var">NoPriority</span></a></span></span><span>
</span><span id="line-355"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412126"><span id="local-6989586621679412128"><span class="annot"><span class="annottext">Priority -&gt; Priority -&gt; Bool
(Priority -&gt; Priority -&gt; Bool)
-&gt; (Priority -&gt; Priority -&gt; Bool) -&gt; Eq Priority
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Priority -&gt; Priority -&gt; Bool
$c/= :: Priority -&gt; Priority -&gt; Bool
== :: Priority -&gt; Priority -&gt; Bool
$c== :: Priority -&gt; Priority -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412120"><span id="local-6989586621679412122"><span id="local-6989586621679412124"><span class="annot"><span class="annottext">Int -&gt; Priority -&gt; String -&gt; String
[Priority] -&gt; String -&gt; String
Priority -&gt; String
(Int -&gt; Priority -&gt; String -&gt; String)
-&gt; (Priority -&gt; String)
-&gt; ([Priority] -&gt; String -&gt; String)
-&gt; Show Priority
forall a.
(Int -&gt; a -&gt; String -&gt; String)
-&gt; (a -&gt; String) -&gt; ([a] -&gt; String -&gt; String) -&gt; Show a
showList :: [Priority] -&gt; String -&gt; String
$cshowList :: [Priority] -&gt; String -&gt; String
show :: Priority -&gt; String
$cshow :: Priority -&gt; String
showsPrec :: Int -&gt; Priority -&gt; String -&gt; String
$cshowsPrec :: Int -&gt; Priority -&gt; String -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-356"></span><span>
</span><span id="line-357"></span><span class="hs-comment">-- | Pretty print a given 'Note'.</span><span>
</span><span id="line-358"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#ppNote"><span class="hs-identifier hs-type">ppNote</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Clp"><span class="hs-identifier hs-type">Clp</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Note"><span class="hs-identifier hs-type">Note</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-359"></span><span id="ppNote"><span class="annot"><span class="annottext">ppNote :: Clp -&gt; String -&gt; Note -&gt; IO String
</span><a href="XMonad.Prompt.OrgMode.html#ppNote"><span class="hs-identifier hs-var hs-var">ppNote</span></a></span></span><span> </span><span id="local-6989586621679412119"><span class="annot"><span class="annottext">Clp
</span><a href="#local-6989586621679412119"><span class="hs-identifier hs-var">clp</span></a></span></span><span> </span><span id="local-6989586621679412118"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412118"><span class="hs-identifier hs-var">todo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-360"></span><span>  </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Scheduled"><span class="hs-identifier hs-type">Scheduled</span></a></span><span> </span><span id="local-6989586621679412117"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412117"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621679412116"><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621679412116"><span class="hs-identifier hs-var">time</span></a></span></span><span> </span><span id="local-6989586621679412115"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679412115"><span class="hs-identifier hs-var">prio</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Maybe Time -&gt; Priority -&gt; IO String
</span><a href="#local-6989586621679412114"><span class="hs-identifier hs-var">mkLine</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412117"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SCHEDULED: &quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Time -&gt; Maybe Time
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621679412116"><span class="hs-identifier hs-var">time</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679412115"><span class="hs-identifier hs-var">prio</span></a></span><span>
</span><span id="line-361"></span><span>  </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Deadline"><span class="hs-identifier hs-type">Deadline</span></a></span><span>  </span><span id="local-6989586621679412113"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412113"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621679412112"><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621679412112"><span class="hs-identifier hs-var">time</span></a></span></span><span> </span><span id="local-6989586621679412111"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679412111"><span class="hs-identifier hs-var">prio</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Maybe Time -&gt; Priority -&gt; IO String
</span><a href="#local-6989586621679412114"><span class="hs-identifier hs-var">mkLine</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412113"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;DEADLINE: &quot;</span></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Time -&gt; Maybe Time
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621679412112"><span class="hs-identifier hs-var">time</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679412111"><span class="hs-identifier hs-var">prio</span></a></span><span>
</span><span id="line-362"></span><span>  </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#NormalMsg"><span class="hs-identifier hs-type">NormalMsg</span></a></span><span> </span><span id="local-6989586621679412110"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412110"><span class="hs-identifier hs-var">str</span></a></span></span><span>      </span><span id="local-6989586621679412109"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679412109"><span class="hs-identifier hs-var">prio</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Maybe Time -&gt; Priority -&gt; IO String
</span><a href="#local-6989586621679412114"><span class="hs-identifier hs-var">mkLine</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412110"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>            </span><span class="annot"><span class="annottext">Maybe Time
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>     </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679412109"><span class="hs-identifier hs-var">prio</span></a></span><span>
</span><span id="line-363"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-364"></span><span>  </span><span class="annot"><a href="#local-6989586621679412114"><span class="hs-identifier hs-type">mkLine</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-365"></span><span>  </span><span id="local-6989586621679412114"><span class="annot"><span class="annottext">mkLine :: String -&gt; String -&gt; Maybe Time -&gt; Priority -&gt; IO String
</span><a href="#local-6989586621679412114"><span class="hs-identifier hs-var hs-var">mkLine</span></a></span></span><span> </span><span id="local-6989586621679412108"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412108"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span id="local-6989586621679412107"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412107"><span class="hs-identifier hs-var">sched</span></a></span></span><span> </span><span id="local-6989586621679412106"><span class="annot"><span class="annottext">Maybe Time
</span><a href="#local-6989586621679412106"><span class="hs-identifier hs-var">time</span></a></span></span><span> </span><span id="local-6989586621679412105"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679412105"><span class="hs-identifier hs-var">prio</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-366"></span><span>    </span><span id="local-6989586621679412104"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412104"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Time
</span><a href="#local-6989586621679412106"><span class="hs-identifier hs-var">time</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-367"></span><span>      </span><span class="annot"><span class="annottext">Maybe Time
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; IO String
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-368"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679412103"><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621679412103"><span class="hs-identifier hs-var">ti</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;\n  &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412107"><span class="hs-identifier hs-var">sched</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; IO String -&gt; IO String
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Time -&gt; IO String
</span><a href="XMonad.Prompt.OrgMode.html#ppDate"><span class="hs-identifier hs-var">ppDate</span></a></span><span> </span><span class="annot"><span class="annottext">Time
</span><a href="#local-6989586621679412103"><span class="hs-identifier hs-var">ti</span></a></span><span>
</span><span id="line-369"></span><span>    </span><span class="annot"><span class="annottext">String -&gt; IO String
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; IO String) -&gt; String -&gt; IO String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;* &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412118"><span class="hs-identifier hs-var">todo</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412101"><span class="hs-identifier hs-var">priority</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Clp
</span><a href="#local-6989586621679412119"><span class="hs-identifier hs-var">clp</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-370"></span><span>      </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Body"><span class="hs-identifier hs-type">Body</span></a></span><span>   </span><span id="local-6989586621679412100"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412100"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412108"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412104"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412100"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-371"></span><span>      </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Header"><span class="hs-identifier hs-type">Header</span></a></span><span> </span><span id="local-6989586621679412099"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412099"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[String] -&gt; String
forall a. Monoid a =&gt; [a] -&gt; a
</span><span class="hs-identifier hs-var">mconcat</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;[[&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412099"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;][&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412108"><span class="hs-identifier hs-var">str</span></a></span><span class="hs-special">,</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;]]&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412104"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-372"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-373"></span><span>    </span><span id="local-6989586621679412101"><span class="annot"><span class="annottext">priority :: String
</span><a href="#local-6989586621679412101"><span class="hs-identifier hs-var hs-var">priority</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679412105"><span class="hs-identifier hs-var">prio</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-374"></span><span>      </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#NoPriority"><span class="hs-identifier hs-var">NoPriority</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &quot;</span></span><span>
</span><span id="line-375"></span><span>      </span><span id="local-6989586621679412091"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679412091"><span class="hs-identifier hs-var">otherPrio</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; [#&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Priority -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679412091"><span class="hs-identifier hs-var">otherPrio</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;] &quot;</span></span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span class="hs-comment">------------------------------------------------------------------------</span><span>
</span><span id="line-378"></span><span class="hs-comment">-- Parsing</span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="hs-comment">-- | Parse the given string into a 'Note'.</span><span>
</span><span id="line-381"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pInput"><span class="hs-identifier hs-type">pInput</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Note"><span class="hs-identifier hs-type">Note</span></a></span><span>
</span><span id="line-382"></span><span id="pInput"><span class="annot"><span class="annottext">pInput :: String -&gt; Maybe Note
</span><a href="XMonad.Prompt.OrgMode.html#pInput"><span class="hs-identifier hs-var hs-var">pInput</span></a></span></span><span> </span><span id="local-6989586621679412090"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412090"><span class="hs-identifier hs-var">inp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser Note -&gt; String -&gt; Maybe Note
forall a. Parser a -&gt; String -&gt; Maybe a
</span><a href="XMonad.Util.Parser.html#runParser"><span class="hs-operator hs-var">`runParser`</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412090"><span class="hs-identifier hs-var">inp</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser Note -&gt; Maybe Note)
-&gt; ([Parser Note] -&gt; Parser Note) -&gt; [Parser Note] -&gt; Maybe Note
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[Parser Note] -&gt; Parser Note
forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span> </span><span class="annot"><span class="annottext">([Parser Note] -&gt; Maybe Note) -&gt; [Parser Note] -&gt; Maybe Note
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-383"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">String -&gt; Time -&gt; Priority -&gt; Note
</span><a href="XMonad.Prompt.OrgMode.html#Scheduled"><span class="hs-identifier hs-var">Scheduled</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Time -&gt; Priority -&gt; Note)
-&gt; Parser String -&gt; Parser (Time -&gt; Priority -&gt; Note)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser String
</span><a href="#local-6989586621679412087"><span class="hs-identifier hs-var">getLast</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;+s&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Time -&gt; Priority -&gt; Note)
-&gt; Parser Time -&gt; Parser (Priority -&gt; Note)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Date -&gt; Maybe TimeOfDay -&gt; Time
</span><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-var">Time</span></a></span><span> </span><span class="annot"><span class="annottext">(Date -&gt; Maybe TimeOfDay -&gt; Time)
-&gt; Parser Date -&gt; Parser (Maybe TimeOfDay -&gt; Time)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Date
</span><a href="XMonad.Prompt.OrgMode.html#pDate"><span class="hs-identifier hs-var">pDate</span></a></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe TimeOfDay -&gt; Time)
-&gt; Parser (Maybe TimeOfDay) -&gt; Parser Time
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe TimeOfDay)
</span><a href="XMonad.Prompt.OrgMode.html#pTimeOfDay"><span class="hs-identifier hs-var">pTimeOfDay</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser (Priority -&gt; Note) -&gt; Parser Priority -&gt; Parser Note
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Priority
</span><a href="XMonad.Prompt.OrgMode.html#pPriority"><span class="hs-identifier hs-var">pPriority</span></a></span><span>
</span><span id="line-384"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String -&gt; Time -&gt; Priority -&gt; Note
</span><a href="XMonad.Prompt.OrgMode.html#Deadline"><span class="hs-identifier hs-var">Deadline</span></a></span><span>  </span><span class="annot"><span class="annottext">(String -&gt; Time -&gt; Priority -&gt; Note)
-&gt; Parser String -&gt; Parser (Time -&gt; Priority -&gt; Note)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser String
</span><a href="#local-6989586621679412087"><span class="hs-identifier hs-var">getLast</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;+d&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Time -&gt; Priority -&gt; Note)
-&gt; Parser Time -&gt; Parser (Priority -&gt; Note)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Date -&gt; Maybe TimeOfDay -&gt; Time
</span><a href="XMonad.Prompt.OrgMode.html#Time"><span class="hs-identifier hs-var">Time</span></a></span><span> </span><span class="annot"><span class="annottext">(Date -&gt; Maybe TimeOfDay -&gt; Time)
-&gt; Parser Date -&gt; Parser (Maybe TimeOfDay -&gt; Time)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Date
</span><a href="XMonad.Prompt.OrgMode.html#pDate"><span class="hs-identifier hs-var">pDate</span></a></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe TimeOfDay -&gt; Time)
-&gt; Parser (Maybe TimeOfDay) -&gt; Parser Time
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe TimeOfDay)
</span><a href="XMonad.Prompt.OrgMode.html#pTimeOfDay"><span class="hs-identifier hs-var">pTimeOfDay</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser (Priority -&gt; Note) -&gt; Parser Priority -&gt; Parser Note
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Priority
</span><a href="XMonad.Prompt.OrgMode.html#pPriority"><span class="hs-identifier hs-var">pPriority</span></a></span><span>
</span><span id="line-385"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="hs-keyword">do</span><span> </span><span id="local-6989586621679412083"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412083"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser String
</span><a href="XMonad.Util.Parser.html#munch1"><span class="hs-identifier hs-var">munch1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Char -&gt; Bool
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span>
</span><span id="line-386"></span><span>       </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621679412078"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412078"><span class="hs-identifier hs-var">s'</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412077"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412077"><span class="hs-identifier hs-var">p</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; (String, String)
forall a. Int -&gt; [a] -&gt; ([a], [a])
</span><span class="hs-identifier hs-var">splitAt</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412083"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412083"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-387"></span><span>       </span><span class="annot"><span class="annottext">Note -&gt; Parser Note
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Note -&gt; Parser Note) -&gt; Note -&gt; Parser Note
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">String -&gt; Maybe Priority
</span><a href="#local-6989586621679412074"><span class="hs-identifier hs-var">tryPrio</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412077"><span class="hs-identifier hs-var">p</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-388"></span><span>         </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621679412073"><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679412073"><span class="hs-identifier hs-var">prio</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Priority -&gt; Note
</span><a href="XMonad.Prompt.OrgMode.html#NormalMsg"><span class="hs-identifier hs-var">NormalMsg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; String -&gt; String
</span><a href="#local-6989586621679412072"><span class="hs-identifier hs-var">dropStripEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412078"><span class="hs-identifier hs-var">s'</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="#local-6989586621679412073"><span class="hs-identifier hs-var">prio</span></a></span><span>
</span><span id="line-389"></span><span>         </span><span class="annot"><span class="annottext">Maybe Priority
</span><span class="hs-identifier hs-var">Nothing</span></span><span>   </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Priority -&gt; Note
</span><a href="XMonad.Prompt.OrgMode.html#NormalMsg"><span class="hs-identifier hs-var">NormalMsg</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412083"><span class="hs-identifier hs-var">s</span></a></span><span>                   </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#NoPriority"><span class="hs-identifier hs-var">NoPriority</span></a></span><span>
</span><span id="line-390"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-391"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-392"></span><span>  </span><span class="annot"><a href="#local-6989586621679412074"><span class="hs-identifier hs-type">tryPrio</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span>
</span><span id="line-393"></span><span>  </span><span id="local-6989586621679412074"><span class="annot"><span class="annottext">tryPrio :: String -&gt; Maybe Priority
</span><a href="#local-6989586621679412074"><span class="hs-identifier hs-var hs-var">tryPrio</span></a></span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">'#'</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621679412071"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679412071"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">]</span><span>
</span><span id="line-394"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679412071"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; String -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Aa&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Priority -&gt; Maybe Priority
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#A"><span class="hs-identifier hs-var">A</span></a></span><span>
</span><span id="line-395"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679412071"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; String -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Bb&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Priority -&gt; Maybe Priority
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#B"><span class="hs-identifier hs-var">B</span></a></span><span>
</span><span id="line-396"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679412071"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; String -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Cc&quot;</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Priority -&gt; Maybe Priority
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#C"><span class="hs-identifier hs-var">C</span></a></span><span>
</span><span id="line-397"></span><span>  </span><span class="annot"><a href="#local-6989586621679412074"><span class="hs-identifier hs-var">tryPrio</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Priority
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-398"></span><span>
</span><span id="line-399"></span><span>  </span><span class="hs-comment">-- Trim whitespace at the end of a string after dropping some number</span><span>
</span><span id="line-400"></span><span>  </span><span class="hs-comment">-- of characters from it.</span><span>
</span><span id="line-401"></span><span>  </span><span class="annot"><a href="#local-6989586621679412072"><span class="hs-identifier hs-type">dropStripEnd</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-402"></span><span>  </span><span id="local-6989586621679412072"><span class="annot"><span class="annottext">dropStripEnd :: Int -&gt; String -&gt; String
</span><a href="#local-6989586621679412072"><span class="hs-identifier hs-var hs-var">dropStripEnd</span></a></span></span><span> </span><span id="local-6989586621679412069"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412069"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; (String -&gt; String) -&gt; String -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; String -&gt; String
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">dropWhile</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; (String -&gt; String) -&gt; String -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; String
forall a. Int -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">drop</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412069"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; (String -&gt; String) -&gt; String -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. [a] -&gt; [a]
</span><span class="hs-identifier hs-var">reverse</span></span><span>
</span><span id="line-403"></span><span>
</span><span id="line-404"></span><span>  </span><span class="annot"><a href="#local-6989586621679412087"><span class="hs-identifier hs-type">getLast</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-405"></span><span>  </span><span id="local-6989586621679412087"><span class="annot"><span class="annottext">getLast :: String -&gt; Parser String
</span><a href="#local-6989586621679412087"><span class="hs-identifier hs-var hs-var">getLast</span></a></span></span><span> </span><span id="local-6989586621679412065"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412065"><span class="hs-identifier hs-var">ptn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>  </span><span class="annot"><span class="annottext">Int -&gt; String -&gt; String
</span><a href="#local-6989586621679412072"><span class="hs-identifier hs-var">dropStripEnd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Int
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Int
</span><span class="hs-identifier hs-var">length</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412065"><span class="hs-identifier hs-var">ptn</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- drop only the last pattern before stripping</span><span>
</span><span id="line-406"></span><span>              </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; ([String] -&gt; String) -&gt; [String] -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span>  </span><span class="annot"><span class="annottext">[String] -&gt; String
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span>
</span><span id="line-407"></span><span>             </span><span class="annot"><span class="annottext">([String] -&gt; String) -&gt; Parser [String] -&gt; Parser String
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; Parser String -&gt; Parser [String]
forall a sep. Parser a -&gt; Parser sep -&gt; Parser [a]
</span><a href="XMonad.Util.Parser.html#endBy1"><span class="hs-identifier hs-var">endBy1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Parser String
</span><a href="#local-6989586621679412062"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Parser String
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412065"><span class="hs-identifier hs-var">ptn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span>   </span><span class="hs-keyword">where</span><span>
</span><span id="line-409"></span><span>    </span><span class="annot"><a href="#local-6989586621679412062"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-410"></span><span>    </span><span id="local-6989586621679412062"><span class="annot"><span class="annottext">go :: String -&gt; Parser String
</span><a href="#local-6989586621679412062"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span id="local-6989586621679412061"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412061"><span class="hs-identifier hs-var">consumed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-411"></span><span>      </span><span id="local-6989586621679412060"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412060"><span class="hs-identifier hs-var">str</span></a></span></span><span>  </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser String
</span><a href="XMonad.Util.Parser.html#munch"><span class="hs-identifier hs-var">munch</span></a></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Char
forall a. [a] -&gt; a
</span><span class="hs-identifier hs-var">head</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412065"><span class="hs-identifier hs-var">ptn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-412"></span><span>      </span><span id="local-6989586621679412056"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412056"><span class="hs-identifier hs-var">word</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser String
</span><a href="XMonad.Util.Parser.html#munch1"><span class="hs-identifier hs-var">munch1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span class="hs-special">)</span><span>
</span><span id="line-413"></span><span>      </span><span class="annot"><span class="annottext">(String -&gt; Parser String)
-&gt; (String -&gt; Parser String) -&gt; Bool -&gt; String -&gt; Parser String
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser String
</span><a href="#local-6989586621679412062"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser String
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412056"><span class="hs-identifier hs-var">word</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412065"><span class="hs-identifier hs-var">ptn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser String) -&gt; String -&gt; Parser String
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412061"><span class="hs-identifier hs-var">consumed</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412060"><span class="hs-identifier hs-var">str</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412056"><span class="hs-identifier hs-var">word</span></a></span><span>
</span><span id="line-414"></span><span>
</span><span id="line-415"></span><span class="hs-comment">-- | Parse a 'Priority'.</span><span>
</span><span id="line-416"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pPriority"><span class="hs-identifier hs-type">pPriority</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Priority"><span class="hs-identifier hs-type">Priority</span></a></span><span>
</span><span id="line-417"></span><span id="pPriority"><span class="annot"><span class="annottext">pPriority :: Parser Priority
</span><a href="XMonad.Prompt.OrgMode.html#pPriority"><span class="hs-identifier hs-var hs-var">pPriority</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser Priority -&gt; Parser Priority -&gt; Parser Priority
forall a. Parser a -&gt; Parser a -&gt; Parser a
</span><a href="XMonad.Prompt.OrgMode.html#pLast"><span class="hs-identifier hs-var">pLast</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Priority -&gt; Parser Priority
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#NoPriority"><span class="hs-identifier hs-var">NoPriority</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser Priority -&gt; Parser Priority)
-&gt; Parser Priority -&gt; Parser Priority
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-418"></span><span>  </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; Parser () -&gt; Parser ()
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">Parser () -&gt; Parser Priority -&gt; Parser Priority
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Parser Priority] -&gt; Parser Priority
forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span>
</span><span id="line-419"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; Parser String -&gt; Parser String
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;A&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; Parser String -&gt; Parser String
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;a&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; Priority -&gt; Parser Priority
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#A"><span class="hs-identifier hs-var">A</span></a></span><span>
</span><span id="line-420"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; Parser String -&gt; Parser String
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;B&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; Parser String -&gt; Parser String
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;b&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; Priority -&gt; Parser Priority
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#B"><span class="hs-identifier hs-var">B</span></a></span><span>
</span><span id="line-421"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;#&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; Parser String -&gt; Parser String
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;C&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; Parser String -&gt; Parser String
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;c&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; Priority -&gt; Parser Priority
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Priority
</span><a href="XMonad.Prompt.OrgMode.html#C"><span class="hs-identifier hs-var">C</span></a></span><span>
</span><span id="line-422"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-423"></span><span>
</span><span id="line-424"></span><span class="hs-comment">-- | Try to parse a 'Time'.</span><span>
</span><span id="line-425"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pTimeOfDay"><span class="hs-identifier hs-type">pTimeOfDay</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-type">TimeOfDay</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-426"></span><span id="pTimeOfDay"><span class="annot"><span class="annottext">pTimeOfDay :: Parser (Maybe TimeOfDay)
</span><a href="XMonad.Prompt.OrgMode.html#pTimeOfDay"><span class="hs-identifier hs-var hs-var">pTimeOfDay</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser (Maybe TimeOfDay)
-&gt; Parser (Maybe TimeOfDay) -&gt; Parser (Maybe TimeOfDay)
forall a. Parser a -&gt; Parser a -&gt; Parser a
</span><a href="XMonad.Prompt.OrgMode.html#pLast"><span class="hs-identifier hs-var">pLast</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe TimeOfDay -&gt; Parser (Maybe TimeOfDay)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe TimeOfDay
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser (Maybe TimeOfDay) -&gt; Parser (Maybe TimeOfDay))
-&gt; Parser (Maybe TimeOfDay) -&gt; Parser (Maybe TimeOfDay)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-427"></span><span>  </span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">Parser () -&gt; Parser (Maybe TimeOfDay) -&gt; Parser (Maybe TimeOfDay)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Parser (Maybe TimeOfDay)] -&gt; Parser (Maybe TimeOfDay)
forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">TimeOfDay -&gt; Maybe TimeOfDay
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(TimeOfDay -&gt; Maybe TimeOfDay)
-&gt; Parser TimeOfDay -&gt; Parser (Maybe TimeOfDay)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; TimeOfDay
</span><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-var">TimeOfDay</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int -&gt; TimeOfDay)
-&gt; Parser Int -&gt; Parser (Int -&gt; TimeOfDay)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679412050"><span class="hs-identifier hs-var">pHour</span></a></span><span> </span><span class="annot"><span class="annottext">Parser (Int -&gt; TimeOfDay)
-&gt; Parser String -&gt; Parser (Int -&gt; TimeOfDay)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;*</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser String
</span><a href="XMonad.Util.Parser.html#string"><span class="hs-identifier hs-var">string</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Int -&gt; TimeOfDay) -&gt; Parser Int -&gt; Parser TimeOfDay
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679412047"><span class="hs-identifier hs-var">pMinute</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- HH:MM</span><span>
</span><span id="line-429"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">TimeOfDay -&gt; Maybe TimeOfDay
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(TimeOfDay -&gt; Maybe TimeOfDay)
-&gt; Parser TimeOfDay -&gt; Parser (Maybe TimeOfDay)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; TimeOfDay
</span><a href="XMonad.Prompt.OrgMode.html#TimeOfDay"><span class="hs-identifier hs-var">TimeOfDay</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int -&gt; TimeOfDay)
-&gt; Parser Int -&gt; Parser (Int -&gt; TimeOfDay)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679412050"><span class="hs-identifier hs-var">pHour</span></a></span><span>               </span><span class="annot"><span class="annottext">Parser (Int -&gt; TimeOfDay) -&gt; Parser Int -&gt; Parser TimeOfDay
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Parser Int
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="hs-special">)</span><span> </span><span class="hs-comment">-- HH</span><span>
</span><span id="line-430"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-431"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-432"></span><span>  </span><span id="local-6989586621679412047"><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679412047"><span class="hs-identifier hs-var">pMinute</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Parser Int
</span><a href="XMonad.Prompt.OrgMode.html#pNumBetween"><span class="hs-identifier hs-var">pNumBetween</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">60</span></span><span>
</span><span id="line-433"></span><span>  </span><span id="local-6989586621679412050"><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679412050"><span class="hs-identifier hs-var">pHour</span></a></span></span><span>   </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Parser Int
</span><a href="XMonad.Prompt.OrgMode.html#pNumBetween"><span class="hs-identifier hs-var">pNumBetween</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">24</span></span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span class="hs-comment">-- | Parse a 'Date'.</span><span>
</span><span id="line-436"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pDate"><span class="hs-identifier hs-type">pDate</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-type">Date</span></a></span><span>
</span><span id="line-437"></span><span id="pDate"><span class="annot"><span class="annottext">pDate :: Parser Date
</span><a href="XMonad.Prompt.OrgMode.html#pDate"><span class="hs-identifier hs-var hs-var">pDate</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">Parser () -&gt; Parser Date -&gt; Parser Date
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Parser Date] -&gt; Parser Date
forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span>
</span><span id="line-438"></span><span>  </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Date -&gt; Parser Date
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;tod&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ay&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Date
</span><a href="XMonad.Prompt.OrgMode.html#Today"><span class="hs-identifier hs-var">Today</span></a></span><span>
</span><span id="line-439"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Date -&gt; Parser Date
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;tom&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;orrow&quot;</span></span><span> </span><span class="annot"><span class="annottext">Date
</span><a href="XMonad.Prompt.OrgMode.html#Tomorrow"><span class="hs-identifier hs-var">Tomorrow</span></a></span><span>
</span><span id="line-440"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">DayOfWeek -&gt; Date
</span><a href="XMonad.Prompt.OrgMode.html#Next"><span class="hs-identifier hs-var">Next</span></a></span><span> </span><span class="annot"><span class="annottext">(DayOfWeek -&gt; Date) -&gt; Parser DayOfWeek -&gt; Parser Date
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser DayOfWeek
</span><a href="#local-6989586621679412044"><span class="hs-identifier hs-var">pNext</span></a></span><span>
</span><span id="line-441"></span><span>  </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Int, Maybe Int, Maybe Integer) -&gt; Date
</span><a href="XMonad.Prompt.OrgMode.html#Date"><span class="hs-identifier hs-var">Date</span></a></span><span> </span><span class="annot"><span class="annottext">((Int, Maybe Int, Maybe Integer) -&gt; Date)
-&gt; Parser (Int, Maybe Int, Maybe Integer) -&gt; Parser Date
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Int, Maybe Int, Maybe Integer)
</span><a href="#local-6989586621679412043"><span class="hs-identifier hs-var">pDate'</span></a></span><span>
</span><span id="line-442"></span><span>  </span><span class="hs-special">]</span><span>
</span><span id="line-443"></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-444"></span><span>  </span><span id="local-6989586621679412044"><span class="annot"><span class="annottext">Parser DayOfWeek
</span><a href="#local-6989586621679412044"><span class="hs-identifier hs-var">pNext</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#DayOfWeek"><span class="hs-identifier hs-type">DayOfWeek</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Parser DayOfWeek] -&gt; Parser DayOfWeek
forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span>
</span><span id="line-445"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; DayOfWeek -&gt; Parser DayOfWeek
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;m&quot;</span></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;onday&quot;</span></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Monday"><span class="hs-identifier hs-var">Monday</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; DayOfWeek -&gt; Parser DayOfWeek
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;tu&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;esday&quot;</span></span><span>  </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Tuesday"><span class="hs-identifier hs-var">Tuesday</span></a></span><span>
</span><span id="line-446"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; DayOfWeek -&gt; Parser DayOfWeek
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;w&quot;</span></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ednesday&quot;</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Wednesday"><span class="hs-identifier hs-var">Wednesday</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; DayOfWeek -&gt; Parser DayOfWeek
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;th&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ursday&quot;</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Thursday"><span class="hs-identifier hs-var">Thursday</span></a></span><span>
</span><span id="line-447"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; DayOfWeek -&gt; Parser DayOfWeek
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;f&quot;</span></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;riday&quot;</span></span><span>    </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Friday"><span class="hs-identifier hs-var">Friday</span></a></span><span>   </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; DayOfWeek -&gt; Parser DayOfWeek
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;sa&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;turday&quot;</span></span><span> </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Saturday"><span class="hs-identifier hs-var">Saturday</span></a></span><span>
</span><span id="line-448"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; DayOfWeek -&gt; Parser DayOfWeek
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;su&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;nday&quot;</span></span><span>     </span><span class="annot"><span class="annottext">DayOfWeek
</span><a href="XMonad.Prompt.OrgMode.html#Sunday"><span class="hs-identifier hs-var">Sunday</span></a></span><span>
</span><span id="line-449"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-450"></span><span>
</span><span id="line-451"></span><span>  </span><span class="annot"><a href="#local-6989586621679412034"><span class="hs-identifier hs-type">numWithoutColon</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-452"></span><span>  </span><span id="local-6989586621679412034"><span class="annot"><span class="annottext">numWithoutColon :: Parser Int
</span><a href="#local-6989586621679412034"><span class="hs-identifier hs-var hs-var">numWithoutColon</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-453"></span><span>    </span><span id="local-6989586621679412033"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412033"><span class="hs-identifier hs-var">str</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Parser Int
</span><a href="XMonad.Prompt.OrgMode.html#pNumBetween"><span class="hs-identifier hs-var">pNumBetween</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">12</span></span><span> </span><span class="hs-comment">-- month</span><span>
</span><span id="line-454"></span><span>    </span><span id="local-6989586621679412032"><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679412032"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser Char
</span><a href="XMonad.Util.Parser.html#get"><span class="hs-identifier hs-var">get</span></a></span><span>
</span><span id="line-455"></span><span>    </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Char
</span><a href="#local-6989586621679412032"><span class="hs-identifier hs-var">c</span></a></span><span> </span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">':'</span></span><span>
</span><span id="line-456"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">Parser Int
forall a. Parser a
</span><a href="XMonad.Util.Parser.html#pfail"><span class="hs-identifier hs-var">pfail</span></a></span><span>
</span><span id="line-457"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Parser Int
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412033"><span class="hs-identifier hs-var">str</span></a></span><span>
</span><span id="line-458"></span><span>
</span><span id="line-459"></span><span>  </span><span class="annot"><a href="#local-6989586621679412043"><span class="hs-identifier hs-type">pDate'</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integer</span></span><span class="hs-special">)</span><span>
</span><span id="line-460"></span><span>  </span><span id="local-6989586621679412043"><span class="annot"><span class="annottext">pDate' :: Parser (Int, Maybe Int, Maybe Integer)
</span><a href="#local-6989586621679412043"><span class="hs-identifier hs-var hs-var">pDate'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-461"></span><span>    </span><span class="hs-special">(</span><span class="hs-special">,</span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Int
 -&gt; Maybe Int -&gt; Maybe Integer -&gt; (Int, Maybe Int, Maybe Integer))
-&gt; Parser Int
-&gt; Parser
     (Maybe Int -&gt; Maybe Integer -&gt; (Int, Maybe Int, Maybe Integer))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Parser Int
</span><a href="XMonad.Prompt.OrgMode.html#pNumBetween"><span class="hs-identifier hs-var">pNumBetween</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">31</span></span><span>               </span><span class="hs-comment">-- day</span><span>
</span><span id="line-462"></span><span>         </span><span class="annot"><span class="annottext">Parser
  (Maybe Int -&gt; Maybe Integer -&gt; (Int, Maybe Int, Maybe Integer))
-&gt; Parser (Maybe Int)
-&gt; Parser (Maybe Integer -&gt; (Int, Maybe Int, Maybe Integer))
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Int -&gt; Parser (Maybe Int)
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f (Maybe a)
</span><span class="hs-identifier hs-var">optional</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">Parser () -&gt; Parser Int -&gt; Parser Int
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Parser Int] -&gt; Parser Int
forall a. [Parser a] -&gt; Parser a
</span><a href="XMonad.Util.Parser.html#choice"><span class="hs-identifier hs-var">choice</span></a></span><span>
</span><span id="line-463"></span><span>               </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Int -&gt; Parser Int
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;ja&quot;</span></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;nuary&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Int -&gt; Parser Int
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;f&quot;</span></span><span>   </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ebruary&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-464"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Int -&gt; Parser Int
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;mar&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ch&quot;</span></span><span>       </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Int -&gt; Parser Int
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;ap&quot;</span></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ril&quot;</span></span><span>     </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-465"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Int -&gt; Parser Int
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;may&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;&quot;</span></span><span>         </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Int -&gt; Parser Int
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;jun&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;e&quot;</span></span><span>       </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span>
</span><span id="line-466"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Int -&gt; Parser Int
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;jul&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;y&quot;</span></span><span>        </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Int -&gt; Parser Int
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;au&quot;</span></span><span>  </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;gust&quot;</span></span><span>    </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">8</span></span><span>
</span><span id="line-467"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Int -&gt; Parser Int
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;s&quot;</span></span><span>   </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;eptember&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">9</span></span><span> </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Int -&gt; Parser Int
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;o&quot;</span></span><span>   </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ctober&quot;</span></span><span>  </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">10</span></span><span>
</span><span id="line-468"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Int -&gt; Parser Int
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;n&quot;</span></span><span>   </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ovember&quot;</span></span><span>  </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">11</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser String -&gt; String -&gt; Int -&gt; Parser Int
forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var">pPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><span class="hs-string">&quot;d&quot;</span></span><span>   </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ecember&quot;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">12</span></span><span>
</span><span id="line-469"></span><span>               </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Parser Int
</span><a href="#local-6989586621679412034"><span class="hs-identifier hs-var">numWithoutColon</span></a></span><span>
</span><span id="line-470"></span><span>               </span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-471"></span><span>         </span><span class="annot"><span class="annottext">Parser (Maybe Integer -&gt; (Int, Maybe Int, Maybe Integer))
-&gt; Parser (Maybe Integer) -&gt; Parser (Int, Maybe Int, Maybe Integer)
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Integer -&gt; Parser (Maybe Integer)
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f (Maybe a)
</span><span class="hs-identifier hs-var">optional</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Parser ()
</span><a href="XMonad.Util.Parser.html#skipSpaces"><span class="hs-identifier hs-var">skipSpaces</span></a></span><span> </span><span class="annot"><span class="annottext">Parser () -&gt; Parser Integer -&gt; Parser Integer
forall (f :: * -&gt; *) a b. Applicative f =&gt; f a -&gt; f b -&gt; f b
</span><span class="hs-operator hs-var">*&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser Integer
forall a. (Read a, Integral a) =&gt; Parser a
</span><a href="XMonad.Util.Parser.html#num"><span class="hs-identifier hs-var">num</span></a></span><span> </span><span class="annot"><span class="annottext">Parser Integer -&gt; (Integer -&gt; Parser Integer) -&gt; Parser Integer
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679412027"><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679412027"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Parser ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679412027"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">Integer -&gt; Integer -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">25</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser () -&gt; Integer -&gt; Parser Integer
forall (f :: * -&gt; *) a b. Functor f =&gt; f a -&gt; b -&gt; f b
</span><span class="hs-operator hs-var">$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><a href="#local-6989586621679412027"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-472"></span><span>
</span><span id="line-473"></span><span>  </span><span class="hs-comment">-- | Parse a prefix and drop a potential suffix up to the next (space</span><span>
</span><span id="line-474"></span><span>  </span><span class="hs-comment">-- separated) word.  If successful, return @ret@.</span><span>
</span><span id="line-475"></span><span>  </span><span id="local-6989586621679412741"><span class="annot"><a href="#local-6989586621679412045"><span class="hs-identifier hs-type">pPrefix</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679412741"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679412741"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-476"></span><span>  </span><span id="local-6989586621679412045"><span class="annot"><span class="annottext">pPrefix :: forall a. Parser String -&gt; String -&gt; a -&gt; Parser a
</span><a href="#local-6989586621679412045"><span class="hs-identifier hs-var hs-var">pPrefix</span></a></span></span><span> </span><span id="local-6989586621679412018"><span class="annot"><span class="annottext">Parser String
</span><a href="#local-6989586621679412018"><span class="hs-identifier hs-var">start</span></a></span></span><span> </span><span id="local-6989586621679412017"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412017"><span class="hs-identifier hs-var">leftover</span></a></span></span><span> </span><span id="local-6989586621679412016"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679412016"><span class="hs-identifier hs-var">ret</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-477"></span><span>    </span><span class="annot"><span class="annottext">Parser String -&gt; Parser ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">Parser String
</span><a href="#local-6989586621679412018"><span class="hs-identifier hs-var">start</span></a></span><span>
</span><span id="line-478"></span><span>    </span><span id="local-6989586621679412014"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412014"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Char -&gt; Bool) -&gt; Parser String
</span><a href="XMonad.Util.Parser.html#munch"><span class="hs-identifier hs-var">munch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Char -&gt; Char -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Char
</span><span class="hs-char">' '</span></span><span class="hs-special">)</span><span>
</span><span id="line-479"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Parser ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412014"><span class="hs-identifier hs-var">l</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; Bool
forall a. Eq a =&gt; [a] -&gt; [a] -&gt; Bool
</span><span class="hs-operator hs-var">`isPrefixOf`</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621679412017"><span class="hs-identifier hs-var">leftover</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-480"></span><span>    </span><span class="annot"><span class="annottext">a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679412016"><span class="hs-identifier hs-var">ret</span></a></span><span>
</span><span id="line-481"></span><span>
</span><span id="line-482"></span><span class="hs-comment">-- | Parse a number between @lo@ (inclusive) and @hi@ (inclusive).</span><span>
</span><span id="line-483"></span><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pNumBetween"><span class="hs-identifier hs-type">pNumBetween</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-484"></span><span id="pNumBetween"><span class="annot"><span class="annottext">pNumBetween :: Int -&gt; Int -&gt; Parser Int
</span><a href="XMonad.Prompt.OrgMode.html#pNumBetween"><span class="hs-identifier hs-var hs-var">pNumBetween</span></a></span></span><span> </span><span id="local-6989586621679412013"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412013"><span class="hs-identifier hs-var">lo</span></a></span></span><span> </span><span id="local-6989586621679412012"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412012"><span class="hs-identifier hs-var">hi</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-485"></span><span>  </span><span id="local-6989586621679412011"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412011"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Parser Int
forall a. (Read a, Integral a) =&gt; Parser a
</span><a href="XMonad.Util.Parser.html#num"><span class="hs-identifier hs-var">num</span></a></span><span>
</span><span id="line-486"></span><span>  </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412011"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Parser () -&gt; Parser Int
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Parser ()
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412011"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412013"><span class="hs-identifier hs-var">lo</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412011"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&lt;=</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621679412012"><span class="hs-identifier hs-var">hi</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-487"></span><span>
</span><span id="line-488"></span><span class="hs-comment">-- | A flipped version of '(&lt;|&gt;)'.  Useful when @p'@ is some complicated</span><span>
</span><span id="line-489"></span><span class="hs-comment">-- expression that, for example, consumes spaces and @p@ does not want</span><span>
</span><span id="line-490"></span><span class="hs-comment">-- to do that.</span><span>
</span><span id="line-491"></span><span id="local-6989586621679412751"><span class="annot"><a href="XMonad.Prompt.OrgMode.html#pLast"><span class="hs-identifier hs-type">pLast</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679412751"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679412751"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="XMonad.Util.Parser.html#Parser"><span class="hs-identifier hs-type">Parser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679412751"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-492"></span><span id="pLast"><span class="annot"><span class="annottext">pLast :: forall a. Parser a -&gt; Parser a -&gt; Parser a
</span><a href="XMonad.Prompt.OrgMode.html#pLast"><span class="hs-identifier hs-var hs-var">pLast</span></a></span></span><span> </span><span id="local-6989586621679412007"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679412007"><span class="hs-identifier hs-var">p</span></a></span></span><span> </span><span id="local-6989586621679412006"><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679412006"><span class="hs-identifier hs-var">p'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679412006"><span class="hs-identifier hs-var">p'</span></a></span><span> </span><span class="annot"><span class="annottext">Parser a -&gt; Parser a -&gt; Parser a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser a
</span><a href="#local-6989586621679412007"><span class="hs-identifier hs-var">p</span></a></span><span>
</span><span id="line-493"></span></pre></body></html>